window.__require=function n(e,c,t){function i(o,s){if(!c[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+o+"'")}}var h=c[o]={exports:{}};e[o][0].call(h.exports,function(n){return i(e[o][1][n]||n)},h,h.exports,n,e,c,t)}return c[o].exports}for(var a="function"==typeof __require&&__require,o=0;o<t.length;o++)i(t[o]);return i}({App:[function(n,e,c){"use strict";cc._RF.push(e,"bc9772ZVeVM2omwSvP+kAar","App");var t=["Util"];for(var i in t){n(t[i])}e.exports={startGame:function(){}},cc._RF.pop()},{}],BackBtnCp:[function(n,e,c){"use strict";cc._RF.push(e,"3c5e9FYHD9LxZWZ39udQFni","BackBtnCp"),cc.Class({extends:cc.Component,properties:{},onClick:function(){cc.director.loadScene("GameScene")},onLoad:function(){}}),cc._RF.pop()},{}],BgRandomMove:[function(n,e,c){"use strict";var t;function i(n,e,c){return e in n?Object.defineProperty(n,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[e]=c,n}cc._RF.push(e,"2efffJ1hlRMy6NEHp7IMcJi","BgRandomMove"),cc.Class({extends:cc.Component,properties:(t={},i(t,"X\u8f74\u79fb\u52a8\u8ddd\u79bb",1),i(t,"y\u8f74\u79fb\u52a8\u8ddd\u79bb",1),i(t,"\u79fb\u52a8\u901f\u5ea6(\u5355\u4f4d\uff1a\u50cf\u7d20/\u79d2)",20),i(t,"\u968f\u673a\u91cf",10),t),randomMove:function(){var n=cc.pLength(cc.v2(this["X\u8f74\u79fb\u52a8\u8ddd\u79bb"],this["y\u8f74\u79fb\u52a8\u8ddd\u79bb"]))/this["\u79fb\u52a8\u901f\u5ea6(\u5355\u4f4d\uff1a\u50cf\u7d20/\u79d2)"],e=cc.pMult(cc.pNormalize(cc.v2(cc.randomMinus1To1(),cc.randomMinus1To1())),this["\u968f\u673a\u91cf"]),c=cc.pAdd(cc.v2(this["X\u8f74\u79fb\u52a8\u8ddd\u79bb"],this["y\u8f74\u79fb\u52a8\u8ddd\u79bb"]),e),t=cc.repeatForever(cc.sequence(cc.moveBy(n,c),cc.moveBy(n,cc.pMult(c,-1))));this.node.runAction(t)},onLoad:function(){this.randomMove()}}),cc._RF.pop()},{}],Block:[function(n,e,c){"use strict";cc._RF.push(e,"7678faPbyJLrph1RxP8mctM","Block");var t=n("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(n,e,c,i){var a=this;cc.log("block init",n,c),this.rankLabel.string=n,this.rankLabel.node.color="1"==n?new cc.Color(255,0,0,255):"2"==n?new cc.Color(255,102,0,255):"3"==n?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=c,this.score.string=i,""==e||(cc.log("load pic",t.url+"/"+e),cc.loader.load("http://image.dialect-tv.com/"+e,function(n,e){n&&console.error(n),a.userIcon.spriteFrame=new cc.SpriteFrame(e)}))}}),cc._RF.pop()},{Common:"Common"}],ButtonControl:[function(n,e,c){"use strict";cc._RF.push(e,"c2d5bVI67ZPAq8U5jXlmGwC","ButtonControl"),cc.Class({extends:cc.Component,properties:function(n,e,c){return e in n?Object.defineProperty(n,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[e]=c,n}({},"\u97f3\u6548",{default:null,url:cc.AudioClip}),onClick:function(){cc.audioEngine.playEffect(this["\u97f3\u6548"])},onLoad:function(){}}),cc._RF.pop()},{}],Common:[function(n,e,c){"use strict";cc._RF.push(e,"05841+fWXpH1bqUuCptn9nG","Common");e.exports={score:0,SceneType:0,reborn:{},rebornTime:1,GameId:5,url:"",rank:[]},cc._RF.pop()},{}],GameData:[function(n,e,c){"use strict";cc._RF.push(e,"f90693GTmlGS7T5fknnDNTy","GameData"),cc.Class({extends:cc.Component,properties:function(n,e,c){return e in n?Object.defineProperty(n,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[e]=c,n}({},"\u5206\u6570",0),onLoad:function(){}}),cc._RF.pop()},{}],InitLBXFrame:[function(n,e,c){"use strict";var t;function i(n,e,c){return e in n?Object.defineProperty(n,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[e]=c,n}cc._RF.push(e,"73810un/L9B+7ptubQfLvHy","InitLBXFrame");var a=[[0,1,2,3,4],[5,6,7,8,9,10],[11,12,13,14,15,16,17],[18,19,20,21,22,23,24,25],[26,27,28,29,30,31,32,33,34],[35,36,37,38,39,40,41,42],[43,44,45,46,47,48,49],[50,51,52,53,54,55],[56,57,58,59,60],[26,35,43,50,56],[18,27,36,44,51,57],[11,19,28,37,45,52,58],[5,12,20,29,38,46,53,59],[0,6,13,21,30,39,47,54,60],[1,7,14,22,31,40,48,55],[2,8,15,23,32,41,49],[3,9,16,24,33,42],[4,10,17,25,34],[0,5,11,18,26],[1,6,12,19,27,35],[2,7,13,20,28,36,43],[3,8,14,21,29,37,44,50],[4,9,15,22,30,38,45,51,56],[10,16,23,31,39,46,52,57],[17,24,32,40,47,53,58],[25,33,41,48,54,59],[34,42,49,55,60]],o=n("Util"),s=0,r=n("Common");n("net");cc.Class({extends:cc.Component,properties:(t={},i(t,"bianchanggezishu",5),i(t,"liubianxingH",.2),i(t,"liubianxingA",.2),i(t,"framePic",{default:null,type:cc.SpriteFrame}),i(t,"bian",{default:null,type:cc.SpriteFrame}),i(t,"xiaochuSound",{default:null,url:cc.AudioClip}),i(t,"boomEffPrefab",{default:null,type:cc.Prefab}),i(t,"tipPrefab",{default:null,type:cc.Prefab}),i(t,"gameover",{default:null,type:cc.Node}),i(t,"masl",{default:null,type:cc.Node}),i(t,"reborn",{default:null,type:cc.Node}),i(t,"redPackage",!1),t),start:function(){this.current=cc.audioEngine.play("https://sns.dialect-tv.com/Liujiaoxiaoxiaole.mp3",!0,1)},checkXC:function(n){o.testCode1("\u6d88\u9664\u903b\u8f91"),this.addScore(this.curFKLen,!0);var e=cc.instantiate(this.tipPrefab);e.color=cc.color(211,70,50,255),e.getComponent(cc.Label).string="+"+this.getAddScoreCal(this.curFKLen,!0),this.node.addChild(e);for(var c=[],t=0;t<this.frameList.length;t++)this.frameList[t].isHaveFK&&c.push(this.frameList[t].FKIndex);c.sort(function(n,e){return n-e});var i=[];for(t=0;t<a.length;t++){var s=a[t],r=this.get2AryIntersect(c,s);if(r.length>0)this.check2AryIsEqual(s,r)&&(cc.log("\u6d88\uff01\uff01"),i.push(s),cc.audioEngine.playEffect(this.xiaochuSound))}var l=[],h=0;for(t=0;t<i.length;t++)for(var g=i[t],u=0;u<g.length;u++){var d=g[u];l.push(cc.callFunc(function(){var n=arguments[1][0],e=arguments[1][1],c=cc.instantiate(this.boomEffPrefab);this.frameList[n].addChild(c);var t=cc.instantiate(this.tipPrefab);t.getComponent(cc.Label).string="+"+this.getAddScoreCal(e),this.frameList[n].addChild(t)},this,[d,h])),l.push(cc.callFunc(function(){var n=arguments[1];cc.log("arguments:"+arguments[1]),this.frameList[n].isHaveFK=null;var e=this.frameList[n].getChildByName("colorSpr");e&&(e.cascadeOpacity=!0,e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,2),cc.fadeOut(.5)),cc.removeSelf(!0))))},this,d)),l.push(cc.delayTime(.1)),h++}if(l.length>0){l.push(cc.callFunc(function(){this.isDeleting=!1,this.checkIsLose()},this)),this.isDeleting=!0;var p=cc.sequence(l);this.node.runAction(p),this.addScore(h)}o.testCode2("\u6d88\u9664\u903b\u8f91")},checkIsLose:function(){if(!this.isDeleting){for(var n=0,e=0;e<3;e++){var c=cc.find("Canvas/getNewFK"+(e+1));c.getComponent("NewLBXKuai").checkIsLose()?(n++,c.opacity=125):c.opacity=255}3==n&&(this.masl.active=!0,this.scheduleOnce(this.callback=function(){cc.audioEngine.stop(this.current),this.reborn.getComponent("Reborn").showLabel()},.2))}},addScore:function(n,e){var c=this.getAddScoreCal(n,e),t=cc.find("Canvas/background/now/scoreLabel").getComponent(cc.Label);t.string=c+Number(t.string),s=Number(t.string),score=s,r.score=score},getAddScoreCal:function(n,e){var c=n+1;return e?c:2*c*c},get2AryIntersect:function(n,e){for(var c=[],t=0;t<n.length;t++)for(var i=0;i<e.length;i++)e[i]==n[t]&&c.push(e[i]);return c},check2AryIsEqual:function(n,e){for(var c=0;c<n.length;c++)if(e[c]!=n[c])return!1;return!0},rebornGame:function(){cc.log("reborn"),this.current=cc.audioEngine.play("https://sns.dialect-tv.com/Liujiaoxiaoxiaole.mp3",!0,1),this.masl.active=!1;for(var n=18;n<43;n++){var e=this.frameList[n].getChildByName("colorSpr");this.frameList[n].isHaveFK=null,null!=e&&e.destroy(),42===n&&this.checkIsLose()}},onDestroy:function(){cc.audioEngine.stop(this.current)},turn:function(){cc.find("Canvas/bg").getComponent("endbg").init()},onLoad:function(){for(var n=cc.v2(this.node.x,this.node.y),e=(this.bianchanggezishu,[{count:5,srcPos:cc.v2(.5,0)},{count:6,srcPos:cc.v2(2*this.liubianxingH,0)},{count:7,srcPos:cc.v2(2*this.liubianxingH*2,0)},{count:8,srcPos:cc.v2(2*this.liubianxingH*3,0)},{count:9,srcPos:cc.v2(2*this.liubianxingH*4,0)},{count:8,srcPos:cc.v2(2*this.liubianxingH*4+this.liubianxingH,-3*this.liubianxingA/2)},{count:7,srcPos:cc.v2(2*this.liubianxingH*4+2*this.liubianxingH,-3*this.liubianxingA*2/2)},{count:6,srcPos:cc.v2(2*this.liubianxingH*4+3*this.liubianxingH,-3*this.liubianxingA*3/2)},{count:5,srcPos:cc.v2(2*this.liubianxingH*4+4*this.liubianxingH+.5,-3*this.liubianxingA*4/2)}]),c=cc.pMult(cc.pForAngle(2*Math.PI/360*240),2*this.liubianxingH),t=cc.pMult(cc.pForAngle(2*Math.PI/360*120),2*this.liubianxingH*4),i=[],a=[],o=0;o<e.length;o++){var s=e[o].count,r=cc.pAdd(e[o].srcPos,t),l=cc.pAdd(n,r);cc.log(r),cc.log(l);for(var h=0;h<s;h++){var g=cc.pAdd(l,cc.pMult(c,h));a.push(g)}}for(var u=0;u<a.length;u++){(p=cc.instantiate(cc.find("di"))).x=a[u].x,p.y=a[u].y,p.parent=this.node,p.FKIndex=u;var d=new cc.Node("bianSpr");d.addComponent(cc.Sprite).spriteFrame=this.bian,d.active=!1,d.parent=p,i.push(p)}var p;this.frameList=i,this.posList=e,this.isDeleting=!1,this.node.on("succDropDownOne",this.checkXC,this),(p=cc.find("Canvas/background/last/scoreLabel")).getComponent(cc.Label).string=cc.sys.localStorage.getItem("score")||0}});cc._RF.pop()},{Common:"Common",Util:"Util",net:"net"}],LoadCp:[function(n,e,c){"use strict";cc._RF.push(e,"1e722mUEcZHqq0Plb9cwFF7","LoadCp"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.log("\u5f00\u59cb\u52a0\u8f7d\u8d44\u6e90"),cc.view.enableRetina(!1),cc.myAssets={};for(var n=["pics","prefabs","fonts","anims"],e=0,c=0;c<n.length;c++)cc.loader.loadRes(n[c],function(c,t,i){cc.myAssets[n[c]]=i,cc.log("\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210"+e),++e>=n.length&&cc.director.loadScene("StartScene")}.bind(this,c))}}),cc._RF.pop()},{}],NewLBXKuai:[function(n,e,c){"use strict";var t;function i(n,e,c){return e in n?Object.defineProperty(n,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[e]=c,n}cc._RF.push(e,"7f7eecsfeNLxL7pMDgXTdAA","NewLBXKuai");var a=n("InitLBXFrame"),o=n("Util");cc.Class({extends:cc.Component,properties:(t={checkerboard:{default:null,type:a}},i(t,"Kcount",3),i(t,"liubianxingH",0),i(t,"liubianxingA",0),i(t,"kuaiTex",{default:null,type:cc.SpriteFrame}),i(t,"anSound",{default:null,url:cc.AudioClip}),i(t,"fangxiaSound1",{default:null,url:cc.AudioClip}),i(t,"fangxiaSound2",{default:null,url:cc.AudioClip}),i(t,"fangxiaSound3",{default:null,url:cc.AudioClip}),i(t,"canNotSound1",{default:null,url:cc.AudioClip}),i(t,"canNotSound2",{default:null,url:cc.AudioClip}),t),getTheConfig:function(){var n=this.liubianxingA,e=this.liubianxingH;return[[cc.v2(0,0)],[cc.v2(0,0),cc.v2(2*e,0)],[cc.v2(0,0),cc.v2(e,1.5*n)],[cc.v2(0,0),cc.v2(e,1.5*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(4*e,0)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(e,1.5*n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(e,1.5*-n)],[cc.v2(0,0),cc.v2(e,1.5*n),cc.v2(3*e,1.5*n)],[cc.v2(0,0),cc.v2(e,1.5*n),cc.v2(2*e,3*n)],[cc.v2(0,0),cc.v2(e,1.5*n),cc.v2(0,3*n)],[cc.v2(0,0),cc.v2(e,1.5*-n),cc.v2(3*e,1.5*-n)],[cc.v2(0,0),cc.v2(e,1.5*-n),cc.v2(2*e,3*-n)],[cc.v2(0,0),cc.v2(e,1.5*-n),cc.v2(0,3*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(4*e,0),cc.v2(6*e,0)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(4*e,0),cc.v2(5*e,1.5*n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(4*e,0),cc.v2(5*e,1.5*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(4*e,0),cc.v2(3*e,1.5*n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(4*e,0),cc.v2(3*e,1.5*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*n),cc.v2(e,1.5*n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*n),cc.v2(2*e,3*n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*n),cc.v2(4*e,3*n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*n),cc.v2(5*e,1.5*n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*-n),cc.v2(e,1.5*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*-n),cc.v2(2*e,3*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*-n),cc.v2(4*e,3*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(3*e,1.5*-n),cc.v2(5*e,1.5*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(e,1.5*-n),cc.v2(-e,1.5*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(e,1.5*-n),cc.v2(0,3*-n)],[cc.v2(0,0),cc.v2(2*e,0),cc.v2(e,1.5*-n),cc.v2(2*e,3*-n)],[cc.v2(0,0),cc.v2(e,1.5*-n),cc.v2(2*e,3*-n),cc.v2(3*e,4.5*-n)],[cc.v2(0,0),cc.v2(-e,1.5*-n),cc.v2(2*-e,3*-n),cc.v2(3*-e,4.5*-n)]]},newOneK:function(n){var e=cc.instantiate(cc.find(""+n));return e.name="colorSpr",e},newOneNode:function(){for(var n=new cc.Node("kuai"),e=this.getTheConfig(),c=e[t=o.random(0,e.length-1)],t=o.random(1,4),i=0,a=0,s=0,r=0,l=0;l<c.length;l++){var h=c[l],g=this.newOneK(t);g.x=h.x,i+=g.x,a++,g.y=h.y,s+=g.y,r++,n.addChild(g)}return n.x=-i/a,n.y=-s/r,n.setScale(.6),n},addTouchEvent:function(){var n=this;this.node.ox=this.node.x,this.node.oy=this.node.y,this.node.on(cc.Node.EventType.TOUCH_START,function(){this.y+=100,this.getChildByName("kuai").setScale(1),cc.audioEngine.playEffect(n.anSound)},this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var c=e.touch.getDelta();this.x+=c.x,this.y+=c.y,n.collisionFunc(),n.checkIsCanDrop()?n.changeColorDeal():n.changeColorDeal(!0)},this.node),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(n){this.dropDownFunc()},this),this.node.on(cc.Node.EventType.TOUCH_END,function(n){this.dropDownFunc()},this)},changeColorDeal:function(n){for(var e=0;e<this.checkerboard.frameList.length;e++){this.checkerboard.frameList[e].getChildByName("bianSpr").active=!1}if(!n)for(e=0;e<this.checkFrameList.length;e++){this.checkFrameList[e].getChildByName("bianSpr").active=!0}},collisionFunc:function(){this.checkFrameList=[],this.checkFKlist=[];for(var n=this.node.children[0].children,e=0;e<n.length;e++){var c=cc.pAdd(cc.v2(this.node.children[0].x,this.node.children[0].y),cc.v2(n[e].x,n[e].y)),t=cc.pAdd(this.node.position,c),i=this.checkPosFunc(t);i&&(this.checkFKlist.push(n[e]),this.checkFrameList.push(i))}},checkPosFunc:function(n){for(var e=0;e<this.checkerboard.frameList.length;e++){var c=this.checkerboard.frameList[e];if(cc.pDistance(cc.v2(c.x,c.y),n)<=27)return c}},checkIsLose:function(){for(var n=0,e=this.node.children[0].children,c=0;c<this.checkerboard.frameList.length;c++){var t=this.checkerboard.frameList[c],i=cc.v2(t.x,t.y),a=1;if(!t.isHaveFK){for(var o=1;o<e.length;o++)for(var s=cc.pAdd(i,cc.v2(e[o].x,e[o].y)),r=0;r<this.checkerboard.frameList.length;r++){var l=this.checkerboard.frameList[r];cc.pDistance(cc.v2(l.x,l.y),s)<=27&&!l.isHaveFK&&a++}a==e.length&&n++}}return 0==n},checkIsCanDrop:function(){if(0==this.checkFrameList.length||this.checkFrameList.length!=this.node.children[0].children.length)return!1;for(var n=0;n<this.checkFrameList.length;n++)if(this.checkFrameList[n].isHaveFK)return!1;return!0},dropDownFunc:function(){if(!this.checkIsCanDrop())return this.takeBack(),void cc.audioEngine.playEffect(this.canNotSound1);for(var n=0;n<this.checkFKlist.length;n++)this.checkFKlist[n].x=0,this.checkFKlist[n].y=0,this.checkFKlist[n].parent=this.checkFrameList[n],this.checkFrameList[n].isHaveFK=!0;this.node.removeAllChildren();var e=this.newOneNode();this.node.addChild(e),this.checkerboard.curFKLen=this.checkFKlist.length,this.checkerboard.node.emit("succDropDownOne");var c=o.random(1,3);cc.audioEngine.playEffect(this["fangxiaSound"+c]),this.takeBack(),this.checkerboard.checkIsLose()},takeBack:function(){this.checkFrameList=[],this.changeColorDeal(),this.node.getChildByName("kuai").setScale(.6),this.node.x=this.node.ox,this.node.y=this.node.oy},onLoad:function(){this.checkFrameList=[],this.checkFKlist=[],this.node.cascadeOpacity=!0;var n=this.newOneNode();this.node.addChild(n),this.addTouchEvent()}}),cc._RF.pop()},{InitLBXFrame:"InitLBXFrame",Util:"Util"}],Rank:[function(n,e,c){"use strict";cc._RF.push(e,"a85ca6+unNLWaN7ujmWKgFm","Rank");var t=n("net"),i=n("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==i.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var n=this.statusArray.length;n>12&&(n=12);for(var e=0;e<n;++e){var c=this.statusArray[e],t=c.rank,i=c.avatar,a=c.nickname,o=c.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+e)),e%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(t,i,a,o),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+=1))},getStatus:function(n){var e=this,c=t.AREA,a=t.version,o=t.singletoken;cc.log(c,a);var s=i.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+n+"&token="+o)+"!qaz@wsx$"),l=i.url+"/game/single_rank_all?token="+o+"&game_id="+s+"&page="+n+"&sign="+r;cc.log(l),axios.post(l,{},{headers:{AREA:c,"CLIENT-VERSION":a}}).then(function(c){cc.log(c);for(var t=c.data.data.rank_list,i=0;i<t.length;i++)e.statusArray.push(t[i]);e.currentPage=n,e.statusControl(c.data.data.current),e.content.height+=t.length*e.itemHeight,t.length<20&&(e.rankDied=!0),e.loading.opacity=0},this).catch(function(n){cc.log(n)})},statusControl:function(n){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(n)):this.refreshRank()},initSelf:function(n){cc.log("self data:",n);var e=n.rank,c=n.avatar,t=n.nickname,i=n.score,a=this.spawnBlock();a.getComponent("Block").init(e,c,t,i),this.self.addChild(a),cc.log(this.self)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(n,e){1==e&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var n=0;n<this.blockArr.length;n++){var e=this.blockArr[n],c=Math.abs(e.y),t=Math.round((c+60)/120)-1;if(t>this.statusArray.length-1||t<0)e.opacity=0;else{e.opacity=255;var i=this.statusArray[t],a=i.rank,o=i.avatar,s=i.nickname,r=i.score;e.getComponent("Block").init(a,o,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var n=0;n<this.blockArr.length;n++){if(this.content.y+this.blockArr[n].y>660){var e=this.blockArr[n];e.y-=1440;var c=Math.abs(e.y),t=Math.round((c+60)/120);if(t>this.statusArray.length||t<0){e.opacity=0;continue}e.opacity=255;var i=this.statusArray[t-1],a=i.rank,o=i.avatar,s=i.nickname,r=i.score;e.getComponent("Block").init(a,o,s,r)}if(this.content.y+this.blockArr[n].y<-660){var l=this.blockArr[n];l.y+=1440;var h=Math.abs(l.y),g=Math.round((h+60)/120);if(g>this.statusArray.length){l.opacity=0;continue}l.opacity=255;var u=this.statusArray[g-1],d=u.rank,p=u.avatar,b=u.nickname,v=u.score;l.getComponent("Block").init(d,p,b,v)}}},update:function(n){this.statusBeGet&&(this.undateCount+=n,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Reborn:[function(n,e,c){"use strict";cc._RF.push(e,"faf9bra/O1C6rUqHeQpUUcT","Reborn");var t=n("net"),i=n("Common");cc.game.watchend=function(){cc.game.emit("WATCH_TV_END")},cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Node},reborn_price:{default:null,type:cc.Node},background:{default:null,type:cc.Node},pay_success:{default:null,type:cc.Node},no_enough_money:{default:null,type:cc.Node},net_err:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},black:{default:null,type:cc.Node},panel:{default:null,type:cc.Node},videoButton:{default:null,type:cc.Node},rebornButton:{default:null,type:cc.Node},pray:{default:null,type:cc.Node}},onLoad:function(){var n=this;void 0==t.type&&cc.game.on("WATCH_TV_END",function(){n.rebornSuccess()},this)},start:function(){this.net_err.active=!1,this.pray.active=!1,this.node.active=!1,this.no_enough_money.active=!1,this.pay_success.active=!1,this.background.active=!1,this.black.active=!1,this.gameObject=this.canvas.getComponent("Game")},showLabel:function(){if(this.unscheduleAllCallbacks(),void 0!=t.type)return this.goDie(),this.videoButton.active=!1,void(this.rebornButton.x=0);var n=i.reborn;cc.log("reborn:",n,t.room_id),void 0!=n?void 0!=t.room_id?1==n.revive?(this.score.getComponent("cc.Label").string=i.score+" \u5206",i.rebornTime<4&&0!=n.subsection[i.rebornTime]?(this.node.active=!0,this.panel.active=!0,this.background.active=!0,this.black.active=!0,this.reborn_price.getComponent("cc.Label").string="X "+n.subsection[i.rebornTime]):this.goDie()):this.goDie():this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1):this.goDie()},reborn:function(){var n=this;cc.log("reborn button"),this.pray.active=!0;var e=i.reborn;if(parseInt(e.coin)<parseInt(e.subsection[i.rebornTime]))return this.no_enough_money.active=!0,this.no_enough_money.opacity=255,this.no_enough_money.stopAllActions(),this.no_enough_money.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5))),void(this.pray.active=!1);var c=void 0,a=1,o="num="+i.rebornTime+"&room_id="+t.room_id+"&token="+t.token;if(1==i.SceneType){var s=hex_md5("YanQu"+o+"!qaz@wsx$");a=1,c=i.url+"/live_game/revive_post?token="+t.token+"&room_id="+t.room_id+"&num="+i.rebornTime+"&sign="+s}else if(12==i.SceneType||15==i.SceneType||11==i.SceneType){var r=t.getSignString(o),l=r[0];a=r[1],c=i.url+"/live_game/revive_post?token="+t.token+"&room_id="+t.room_id+"&num="+i.rebornTime+"&sign="+l}else{if(20!=i.SceneType&&21!=i.SceneType&&22!=i.SceneType)return void this.goDie();var h=hex_md5("YanQu"+o+"!qaz@wsx$");a=t.version,c=i.url+"/live_game/revive_post?token="+t.token+"&room_id="+t.room_id+"&num="+i.rebornTime+"&sign="+h}cc.log("reborn url:",c);var g=this;axios.post(c,{},{headers:{AREA:t.AREA,"CLIENT-VERSION":a}}).then(function(e){cc.log(e);var c=e.data.data;void 0!=c?(i.reborn.coin=c.coin,1==c.is_pay?n.rebornSuccess():(n.node.active=!0,n.background.active=!0)):n.goDie()}).catch(function(n){g.pray.active=!1,g.net_err.active=!0,g.net_err.opacity=255,g.net_err.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5)))})},rebornSuccess:function(){var n=this;cc.log("reborn success"),i.rebornTime+=1,this.panel.active=!1,this.pray.active=!1,this.pay_success.active=!0,this.pay_success.opacity=255,this.pay_success.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5))),this.scheduleOnce(function(){n.node.active=!1},1),cc.find("Canvas/lbxLayout").getComponent("InitLBXFrame").rebornGame()},showvideoads:function(){try{yanqu.showVideoAds()}catch(n){alert("\u89c6\u9891\u590d\u6d3b\u4e0d\u53ef\u7528",n)}},goDie:function(){cc.find("Canvas/bg").getComponent("endbg").init(),this.node.active=!1},update:function(n){}}),cc._RF.pop()},{Common:"Common",net:"net"}],ScoreBtnCp:[function(n,e,c){"use strict";cc._RF.push(e,"fa093eyq9ROGJnwYLEn4xRL","ScoreBtnCp"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],StartBtnCp:[function(n,e,c){"use strict";cc._RF.push(e,"7d9dd4jmi9I7Z1fgVPHfEXS","StartBtnCp"),cc.Class({extends:cc.Component,properties:function(n,e,c){return e in n?Object.defineProperty(n,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[e]=c,n}({},"\u6e38\u620f\u754c\u9762",{default:null,type:cc.Prefab}),onClick:function(){this.node.parent;var n=cc.sequence(cc.scaleTo(.2,0),cc.callFunc(function(){cc.log("\u5f00\u59cb\u6e38\u620f"),cc.director.loadScene("GameScene"),this.node.destroy()},this));this.getComponent(cc.Animation).stop(),this.node.runAction(n)},onLoad:function(){}}),cc._RF.pop()},{}],Start:[function(n,e,c){"use strict";cc._RF.push(e,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var t=n("Common"),i=n("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var n=this;void 0==i.type&&this.showadstrue(),this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){n.preload=!0,cc.log("preload success",n.preload,n.netload),n.netload&&(n.button.active=!0)})},showadstrue:function(){try{yanqu.showAds(!0)}catch(n){cc.log(n)}},showadsfalse:function(){try{yanqu.showAds(!1)}catch(n){cc.log(n)}},chooseEnv:function(){if(void 0==i.type)if(void 0==i.token)void 0!==i.singletoken&&(this.rankButton.active=!0,1==i.env?t.url=i.url.appoffline:2==i.env?t.url=i.url.apppre:t.url=i.url.apponline,t.SceneType=10);else{if(1==i.env){var n=void 0;try{n=window.yanqu.getBrowerID()}catch(n){}t.url=i.url.appoffline,t.SceneType="yqbrower"==n?12:1}else t.SceneType=11,2==i.env?t.url=i.url.apppre:t.url=i.url.apponline;5==i.apptype&&(t.SceneType=15)}else 1==i.env?t.url=i.url.wxoffline:2==i.env?t.url=i.url.wxpre:t.url=i.url.wxonline,void 0!==i.singletoken&&(this.rankButton.active=!0,t.SceneType=10),3==i.type?t.SceneType=20:4==i.type?t.SceneType=21:5==i.type&&(t.SceneType=22);cc.log("scenetype:",t.SceneType)},getInfo:function(){var n,e=this,c="room_id="+i.room_id+"&token="+i.token,a=i.version,o=void 0;if(1==t.SceneType)o=hex_md5("YanQu"+c+"!qaz@wsx$"),a=1,i.AREA=1,this.transcend(o,a);else if(12==t.SceneType||15==t.SceneType||11==t.SceneType){var s=i.getSignString(c);o=s[0],a=s[1],i._version=a,this.transcend(o,a)}else if(20==t.SceneType||21==t.SceneType||22==t.SceneType)o=hex_md5("YanQu"+c+"!qaz@wsx$"),this.transcend();else if(10==t.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));n=t.url+"/live_game/revive?token="+i.token+"&room_id="+i.room_id+"&sign="+o,axios.post(n,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":a}}).then(function(n){cc.log("revive:",n);var c=n.data.data;t.reborn=c,e.netload=!0,e.preload&&(e.button.active=!0)}).catch(function(n){e.netload=!0,e.preload&&(e.button.active=!0),cc.log(n)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){void 0==i.type&&this.showadsfalse(),cc.director.loadScene("GameScene")},transcend:function(n,e){cc.log(n,e);var c,a=i.token,o=i.room_id,s=n;void 0==n&&(s=hex_md5("YanQu"+("room_id="+o+"&token="+a)+"!qaz@wsx$"));var r=i.AREA,l=e;void 0==e&&(l=i.version),c=t.url+"/live/section_rank_score?token="+a+"&room_id="+o+"&sign="+s,axios.post(c,{},{headers:{AREA:r,"CLIENT-VERSION":l}}).then(function(n){cc.log("rank:",n),Object.keys(n.data.data.rank).forEach(function(e){t.rank.push(n.data.data.rank[e])})},this).catch(function(n){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){this.hideButtonCount++,this.hideButtonCount>3&&(alert(JSON.stringify(i)),this.hideButtonCount=0)},update:function(n){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],TipCp:[function(n,e,c){"use strict";cc._RF.push(e,"2da59+FgkRFGqzGIbcv57tI","TipCp"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.x=0,this.node.y=0,this.node.runAction(cc.sequence(cc.spawn(cc.fadeOut(1),cc.moveBy(1,cc.v2(0,100))),cc.removeSelf(!0)))}}),cc._RF.pop()},{}],Util:[function(n,e,c){"use strict";cc._RF.push(e,"1f57fJXW/5MwpzGE2th5qGE","Util");var t={printObj:function(n){var e="";for(var c in n)n[c],e+=c+" \n ";cc.log(e)},random:function(n,e){return Math.floor(Math.random()*(e-n+1)+n)},testCodeStr:"",testCode1:function(n){this.start=(new Date).getTime(),this.testCodeStr=n},testCode2:function(n){this.end=(new Date).getTime();var e=this.end-this.start+"ms";cc.log("\u6b64\u5904\u82b1\u65f6\u95f4\uff1a"+e+this.testCodeStr)}};e.exports=t,cc._RF.pop()},{}],ZIndexSet:[function(n,e,c){"use strict";cc._RF.push(e,"0f727RVfzZIHZgekF5A2mIS","ZIndexSet"),cc.Class({extends:cc.Component,properties:{zIndex:0},onLoad:function(){this.node.zIndex=this.zIndex}}),cc._RF.pop()},{}],chaoyue:[function(n,e,c){"use strict";cc._RF.push(e,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var t=n("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",t.SceneType,t.rank),(11===t.SceneType||12===t.SceneType||20===t.SceneType||1==t.SceneType)&&0!=t.rank.length){this._ranking=t.rank.length,this.transcendFunc();var n=cc.instantiate(this.transcendPrefab);this.node.addChild(n),n.opacity=0,n.getComponent("transcend").init(t.rank[this._ranking-1].avatar,t.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",t.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var n=t.rank,e=this.scoreLabel.string,c=0;c<n.length;c++)if(Number(e)>Number(n[c].score)&&(cc.log(e,n[c].score,c),this._ranking>c)){var i=cc.instantiate(this.transcendPrefab);this.node.addChild(i),i.setPosition(cc.v2(0,0)),i.opacity=0,i.getComponent("transcend").init(t.rank[c].avatar,t.rank[c].rank);var a=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return i.runAction(a),this._ranking=c,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],content:[function(n,e,c){"use strict";cc._RF.push(e,"b5df5nIMFdDwZQAr7Wp+nEF","content"),window.score=0,cc._RF.pop()},{}],endSence:[function(n,e,c){"use strict";cc._RF.push(e,"3c89197+WtOmZcNe5MrZriC","endSence");var t=n("Common");cc.Class({extends:cc.Component,properties:{score:cc.Label},onLoad:function(){this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+t.score},turn:function(){cc.director.loadScene("StartScene")},start:function(){}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(n,e,c){"use strict";cc._RF.push(e,"b0123F/GzdDoYtgcFawA/yh","endbg");var t=n("Common"),i=n("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",i),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){void 0==i.type&&this.showadstrue(),this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===t.SceneType?(this.weixing.active=!0,this.putongRank()):11===t.SceneType||12===t.SceneType||1===t.SceneType?(this.hongbao.active=!0,this.hongBao()):20===t.SceneType?(this.weixing.active=!0,this.wechat()):21===t.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===t.SceneType||15===t.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+t.score)},start:function(){},putongRank:function(){var n=t.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,c=i.singletoken,a=i.AREA,o="game_id="+t.GameId+"&score="+n+"&token="+c,s=hex_md5("YanQu"+o+"!qaz@wsx$"),r=i.version;e=t.url+"/game/single_push_data?token="+c+"&game_id="+t.GameId+"&score="+n+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){10==t.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var c=n.data.data.rank,i=n.data.data.current_rank;cc.log("head",c),c[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=c[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=c[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=c[0].score,i===c[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),c[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=c[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=c[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=c[1].score,i===c[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),c[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=c[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=c[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=c[2].score,i===c[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},hongBao:function(){var n=t.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=n;var e,c=i.token,a=i.room_id,o=i.AREA,s="room_id="+a+"&score="+n+"&token="+c,r=void 0,l=void 0;try{var h=window.yanqu.getSignString(s);r=JSON.parse(h).sign.sign,l=JSON.parse(h).header.VERSION}catch(n){}1===t.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),e=t.url+"/live_game/push_data?token="+c+"&score="+n+"&room_id="+a+"&sign="+r,cc.log("url:",e),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":l}}).then(function(n){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var c=n.data.data.rank_list,t=n.data.data.current_rank;cc.log("head",c),c[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=c[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=c[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=c[0].score,t===c[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),c[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=c[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=c[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=c[1].score,t===c[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),c[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=c[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=c[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=c[2].score,t===c[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechat:function(){var n=t.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,c=i.token,a=i.room_id,o=i.AREA,s=hex_md5("YanQu"+("room_id="+a+"&score="+n+"&token="+c)+"!qaz@wsx$"),r=i.version;e=t.url+"/live_game/push_data?token="+c+"&score="+n+"&room_id="+a+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var c=n.data.data.rank_list,t=n.data.data.current_rank;cc.log("head",c),c[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=c[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=c[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=c[0].score,t===c[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),c[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=c[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=c[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=c[1].score,t===c[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),c[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=c[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=c[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=c[2].score,t===c[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechathelp:function(){var n,e=i.token,c=i.room_id,a=i.AREA,o="help_score="+t.score+"&room_id="+c+"&token="+e+"&user_id="+i.helpuid,s=hex_md5("YanQu"+o+"!qaz@wsx$");n=t.url+"/live_game/push_data?token="+e+"&help_score="+t.score+"&room_id="+c+"&user_id="+i.helpuid+"&sign="+s;var r=i.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var c=n.data.data.rank_list,i=n.data.data.current_rank,a=n.data.data.max_help_score;console.log("head",c),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=t.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+a+" \u5206",c[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=c[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=c[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=c[0].score,i===c[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),c[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=c[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=c[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=c[1].score,i===c[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),c[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=c[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=c[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=c[2].score,i===c[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},teamend:function(){cc.log("team");var n,e=i.token,c=i.room_id,a=i.AREA,o="room_id="+c+"&score="+t.score+"&token="+e,s=hex_md5("YanQu"+o+"!qaz@wsx$");n=t.url+"/live_game/push_data?token="+e+"&score="+t.score+"&room_id="+c+"&sign="+s;var r=i.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var c=n.data.data.rank_list,i=n.data.data.current_rank,a=n.data.data.max_score;console.log("head",c),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=t.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+a+" \u5206",c[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=c[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=c[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=c[0].score,i===c[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),c[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=c[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=c[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=c[1].score,i===c[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),c[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=c[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=c[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=c[2].score,i===c[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},turn:function(){void 0==i.type&&this.showadsfalse(),t.score=0,t.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})},showadstrue:function(){try{yanqu.showAds(!0)}catch(n){cc.log(n)}},showadsfalse:function(){try{yanqu.showAds(!1)}catch(n){cc.log(n)}}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(n,e,c){"use strict";cc._RF.push(e,"62e73sDA6dOGolthqoGzpA1","net");var t=function(){var n=window.location.search,e=new Object;if(-1!=n.indexOf("?"))for(var c=n.substr(1),t=c.split("&"),i=0;i<t.length;i++)e[t[i].split("=")[0]]=t[i].split("=")[1];return e}(),i=t.token,a=t.room_id,o=t.AREA,s=t.env,r=t.type,l=t.version,h=t.helpuid,g=t.teamid,u=t.apptype,d=t.singletoken;var p={text:window.location,token:i,room_id:a,AREA:o,env:s,type:r,version:l,helpuid:h,teamid:g,apptype:u,singletoken:d,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(n){var e=[];try{var c=window.yanqu.getSignString(n),t=JSON.parse(c).sign.sign,i=JSON.parse(c).header.VERSION;e.push(t),e.push(i)}catch(n){}return e}};e.exports=p,cc._RF.pop()},{}],transcend:[function(n,e,c){"use strict";cc._RF.push(e,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(n,e){var c=this;cc.log(n,e);var t="http://image.dialect-tv.com/"+n;cc.log("url: ",t),cc.loader.load(t,function(n,e){if(n)cc.log(n);else{c.texture=e;var t=new cc.SpriteFrame(e);c.img.spriteFrame=t}}),this.num.string="\u7b2c"+e+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Block","Rank","Start","chaoyue","transcend","endbg","net","Reborn","BackBtnCp","BgRandomMove","Common","GameData","LoadCp","ScoreBtnCp","StartBtnCp","TipCp","ZIndexSet","content","endSence","App","InitLBXFrame","NewLBXKuai","ButtonControl","Util"]);