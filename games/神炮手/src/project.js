window.__require=function e(n,t,a){function i(c,s){if(!t[c]){if(!n[c]){var r=c.split("/");if(r=r[r.length-1],!n[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+c+"'")}}var g=t[c]={exports:{}};n[c][0].call(g.exports,function(e){return i(n[c][1][e]||e)},g,g.exports,e,n,t,a)}return t[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<a.length;c++)i(a[c]);return i}({Block:[function(e,n,t){"use strict";cc._RF.push(n,"7678faPbyJLrph1RxP8mctM","Block");var a=e("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(e,n,t,i){var o=this;this.rankLabel.string=e,this.rankLabel.node.color="1"==e?new cc.Color(255,0,0,255):"2"==e?new cc.Color(255,102,0,255):"3"==e?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=t,this.score.string=i,""==n||(cc.log("load pic",a.url+"/"+n),cc.loader.load("http://image.dialect-tv.com/"+n,function(e,n){e&&console.error(e),o.userIcon.spriteFrame=new cc.SpriteFrame(n)}))}}),cc._RF.pop()},{Common:"Common"}],Bullet:[function(e,n,t){"use strict";cc._RF.push(n,"620b37jvPNHpp1a3sD1+rlQ","Bullet");cc.Class({extends:cc.Component,properties:{ao_audio:{type:cc.AudioClip,default:null},canjiao_audio:{type:cc.AudioClip,default:null},player_shoted:{type:cc.AudioClip,default:null}},start:function(){this.move=!0,this.clock=0},init:function(e){this.type=e,this.speedX=0,this.speedY=0,this.Camera=cc.find("Canvas/Main Camera"),this.gameControl=this.node.parent.getComponent("Game")},shoot:function(e){cc.log("shoot vec :",e),this.reRotation(e),this.speedX=e.x,this.speedY=e.y},jumpTo:function(e){cc.log(e),this.speedX=-e.x/2,this.speedY=1500-.5*e.y},onCollisionEnter:function(e,n){if(cc.log(this.type),"player"==this.type){if("enemy"==e.node.group){this.gameControl.enemyDie();var t=e.node.getComponent(cc.Animation);"enemy1"==e.node.name?(cc.audioEngine.play(this.ao_audio,!1,1),t.play("enemy1_die")):(cc.audioEngine.play(this.canjiao_audio,!1,1),t.play("enemy2_die")),this.move=!1,this.node.opacity=0,this.node.destroy()}}else if("enemy"==this.type&&"player"==e.node.group){cc.audioEngine.play(this.player_shoted,!1,1),this.gameControl.shootRoundReset("player");var a=cc.find("Canvas/player/gun").getComponent("cc.Animation");cc.log(a),a.play("shoted"),this.move=!1,this.node.opacity=0,this.node.destroy()}"ground"==e.node.group&&(this.gameControl.shootRoundReset("ground"),this.move=!1,this.node.opacity=0,this.node.destroy())},reRotation:function(e){if(0!=e.x||0!=e.y){var n=e.signAngle(cc.v2(1,0)),t=cc.misc.radiansToDegrees(n);this.node.rotation=t}},update:function(e){this.move&&(this.clock+=e,this.node.x+=this.speedX*e,this.node.y+=this.speedY*e,"player"!=this.type&&"enemy"!=this.type||(this.Camera.x+=this.speedX*e,this.Camera.x>3400?this.Camera.x=3400:this.Camera.x<0&&(this.Camera.x=0)),this.speedY-=1500*e,this.reRotation(cc.v2(this.speedX,this.speedY)))}}),cc._RF.pop()},{}],Camera:[function(e,n,t){"use strict";cc._RF.push(n,"211b0dm3udFs68DRSiWwhi4","Camera"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Common:[function(e,n,t){"use strict";cc._RF.push(n,"27299Sta0dME4f+kn5Nk1bz","Common"),n.exports={SceneType:0,reborn:{},rebornTime:1,GameId:51,url:"",rank:[],score:0},cc._RF.pop()},{}],Enemy:[function(e,n,t){"use strict";cc._RF.push(n,"1d34dMmgXhFCZpxxaaYnXPW","Enemy"),cc.Class({extends:cc.Component,properties:{bullets:{default:[],type:cc.Sprite},enemy1:{default:null,type:cc.Node},enemy2:{default:null,type:cc.Node},shoot_audio_1:{type:cc.AudioClip,default:null},shoot_audio_2:{type:cc.AudioClip,default:null}},onLoad:function(){this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game")},start:function(){},shoot:function(){var e=this.gameControl.spawnBullet();e.setPosition(this.node.x,this.node.y),this.enemy1.active?(cc.audioEngine.play(this.shoot_audio_1,!1,1),e.getComponent(cc.Sprite).spriteFrame=this.bullets[0].spriteFrame):(cc.audioEngine.play(this.shoot_audio_2,!1,1),e.getComponent(cc.Sprite).spriteFrame=this.bullets[1].spriteFrame),this.canvas.addChild(e);var n=this.gameControl.enemyShootCount(),t=e.getComponent("Bullet");t.init("enemy"),t.jumpTo(n)}}),cc._RF.pop()},{}],Game:[function(e,n,t){"use strict";cc._RF.push(n,"69e2ccl5UJIwq2Rgw0Jhdo1","Game");var a=e("Common");cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},Camera:{default:null,type:cc.Node},enemy:{default:null,type:cc.Node},enemyShow:{default:null,type:cc.Node},enemyShow_label:{default:null,type:cc.Label},level_label:{default:null,type:cc.Label},bullet_pre:{default:null,type:cc.Prefab},enemys:{default:[],type:cc.Node},scoreLabel:{default:null,type:cc.Label},bgm_audio:{type:cc.AudioClip,default:null}},onLoad:function(){cc.director.getCollisionManager().enabled=!0},setInputControl:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(n){var t=n.touch._point;e.onShooting||e.playerControl.getDirection(t)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(n){var t=n.touch._point;e.onShooting||e.playerControl.getDirection(t)}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(n){e.shoot()}),this.node.on(cc.Node.EventType.TOUCH_END,function(n){e.shoot()})},start:function(){cc.audioEngine.play(this.bgm_audio,!0,.7),this.bulletPool=new cc.NodePool;for(var e=0;e<5;e++){var n=cc.instantiate(this.bullet_pre);this.bulletPool.put(n)}this.onShooting=!1,this.playerRound=!1,this.setInputControl(),this.playerControl=this.player.getComponent("Player"),this.enemyControl=this.enemy.getComponent("Enemy"),this.enemyReset(),this.showEnemyDis()},shoot:function(){this.onShooting||(this.onShooting=!0,this.enemyShow.opacity=0,this.playerControl.shoot())},enemyDie:function(){var e=this;this.playerControl.levelNum+=1,this.scoreControl(),this.playerControl.lifeReset(),this.playerRound=!0,this.scheduleOnce(function(){e.enemyReset()},1),this.shootRoundReset()},shootRoundReset:function(e){var n=this;"player"==e&&(this.playerControl.life-=1,this.playerControl.lifeBarControl(this.playerControl.life)),this.playerControl.life>0?this.scheduleOnce(function(){n.playerRound?(n.playerShoot(),n.playerRound=!1):(n.enemyShoot(),n.playerRound=!0)},1):cc.find("Canvas/bg").getComponent("endbg").init()},playerShoot:function(){this.Camera.x=0,this.Camera.y=0,this.onShooting=!1,this.level_label.string="\u7b2c"+this.playerControl.levelNum+"\u5173",this.showEnemyDis(),this.enemyShow.opacity=255},enemyShoot:function(){var e=this;this.Camera.x=this.enemy.x,this.scheduleOnce(function(){e.enemyControl.shoot()},1)},enemyReset:function(){this.enemyAnimReset(),this.enemy.x=1500*Math.random()+1200;var e=200*Math.floor(3*Math.random());e>0?(this.enemys[0].active=!0,this.enemys[1].active=!1):(this.enemys[1].active=!0,this.enemys[0].active=!1),this.enemy.y=this.player.y+e},showEnemyDis:function(){var e=this.enemy.x-this.player.x;this.enemyShow.y=this.enemy.y,this.enemyShow_label.string=Math.round(e/50)+"\u7c73"},enemyAnimReset:function(){this.enemys[0].getComponent(cc.Animation).play("enemy1"),this.enemys[1].getComponent(cc.Animation).play("enemy2")},enemyShootCount:function(){var e=this.enemy.y-this.player.y,n=this.enemy.x-this.player.x;return cc.v2(n,e)},scoreControl:function(){var e=this.enemy.x-this.player.x,n=Math.round(e/50),t=Math.round(this.playerControl.life/this.playerControl.totalLife*100)+n;a.score+=t,this.scoreLabel.string=a.score},spawnBullet:function(){var e=null;return(e=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bullet_pre)).rotation=0,e},bulletRecycle:function(e){e.rotation=0,this.bulletPool.put(e)},endGame:function(){this.unscheduleAllCallbacks();for(var e=this.node.children,n=0;n<this.node.children.length;n++){var t=e[n].name;"background"==t||"Main Camera"==t||"bg"==t||(cc.log(t),e[n].destroy())}cc.find("Canvas/bg").getComponent("endbg").init()}}),cc._RF.pop()},{Common:"Common"}],Player:[function(e,n,t){"use strict";cc._RF.push(n,"e3103QZG+JIGYgtqbr+ZqU6","Player"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node},gun:{default:null,type:cc.Node},status_label:{default:null,type:cc.Label},lifeBar:{default:null,type:cc.Node},lifeLabel:{default:null,type:cc.Label},lifeBlock:{default:null,type:cc.Node},aim:{default:null,type:cc.Node},lineMask:{default:null,type:cc.Node},player_shoot_audio:{type:cc.AudioClip,default:null}},start:function(){this.gameControl=this.canvas.getComponent("Game"),this.levelNum=1,this.shoot_power=2500,this.shoot_strength=0,this.shoot_degree=0,this.life=10,this.totalLife=10,this.lifeBarControl(this.life)},getDirection:function(e){var n=cc.v2(e.x-this.canvas.width/2-this.node.x,e.y-this.canvas.height/2-this.node.y-20);this.getStrength(n);var t=n.signAngle(cc.v2(-1,0));this.shoot_degree=cc.misc.radiansToDegrees(t),this.shoot_degree>90?this.shoot_degree=90:this.shoot_degree<-90&&(this.shoot_degree=-90),this.gun.rotation=this.shoot_degree,this.status_label.string="\u529b\u5ea6\uff1a"+Math.round(this.shoot_strength)+",\u89d2\u5ea6:"+Math.round(-this.shoot_degree)},getStrength:function(e){var n=e.mag()/2;n>100&&(n=100),this.aim.x=2*n,this.lineMask.width=220-2*n,this.shoot_strength=n},shoot:function(){cc.audioEngine.play(this.player_shoot_audio,!1,1);var e=this.gameControl.spawnBullet();e.setPosition(this.node.x,this.node.y),this.canvas.addChild(e);var n=cc.v2(0,this.shoot_power);n.mulSelf(this.shoot_strength/100),n.rotateSelf(cc.misc.degreesToRadians(this.shoot_degree));var t=cc.v2(n.y,n.x),a=e.getComponent("Bullet");a.init("player"),a.shoot(t),this.gun.getComponent(cc.Animation).play("shoot"),this.gun.runAction(cc.sequence(cc.fadeTo(.5,255),cc.rotateTo(.5,0)))},lifeReset:function(){var e=0;e=this.levelNum>30?1:this.levelNum>25?2:this.levelNum>20?3:this.levelNum>15?4:this.levelNum>5?5:11-this.levelNum,this.life=e,this.totalLife=e,this.lifeBarControl(e)},lifeBarControl:function(){this.lifeLabel.string=this.life+"/"+this.totalLife,this.lifeBlock.x=-(this.totalLife-this.life)/this.totalLife*this.lifeBar.width,cc.log(this.lifeBlock.x)}}),cc._RF.pop()},{}],Rank:[function(e,n,t){"use strict";cc._RF.push(n,"a85ca6+unNLWaN7ujmWKgFm","Rank");var a=e("net"),i=e("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==i.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var e=this.statusArray.length;e>12&&(e=12);for(var n=0;n<e;++n){var t=this.statusArray[n],a=t.rank,i=t.avatar,o=t.nickname,c=t.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+n)),n%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(a,i,o,c),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+1))},getStatus:function(e){var n=this,t=a.AREA,o=a.version,c=a.singletoken;cc.log(t,o);var s=i.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+e+"&token="+c)+"!qaz@wsx$"),l=i.url+"/game/single_rank_all?token="+c+"&game_id="+s+"&page="+e+"&sign="+r;cc.log(l),axios.post(l,{},{headers:{AREA:t,"CLIENT-VERSION":o}}).then(function(t){cc.log(t);for(var a=t.data.data.rank_list,i=0;i<a.length;i++)n.statusArray.push(a[i]);n.currentPage=e,n.statusControl(t.data.data.current),n.content.height+=a.length*n.itemHeight,a.length<20&&(n.rankDied=!0),n.loading.opacity=0},this).catch(function(e){cc.log(e)})},statusControl:function(e){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(e),this.refreshRank()):this.refreshRank()},initSelf:function(e){cc.log("self data:",e);var n=e.rank,t=e.avatar,a=e.nickname,i=e.score,o=this.spawnBlock();o.getComponent("Block").init(n,t,a,i),this.self.addChild(o)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(e,n){1==n&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var e=0;e<this.blockArr.length;e++){var n=this.blockArr[e],t=Math.abs(n.y),a=Math.round((t+60)/120)-1;if(cc.log(a),a>this.statusArray.length-1||a<0)n.opacity=0;else{n.opacity=255;var i=this.statusArray[a],o=i.rank,c=i.avatar,s=i.nickname,r=i.score;n.getComponent("Block").init(o,c,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var e=0;e<this.blockArr.length;e++){if(this.content.y+this.blockArr[e].y>660){var n=this.blockArr[e];n.y-=1440;var t=Math.abs(n.y),a=Math.round((t+60)/120);if(a>this.statusArray.length||a<0){n.opacity=0;continue}n.opacity=255;var i=this.statusArray[a-1],o=i.rank,c=i.avatar,s=i.nickname,r=i.score;n.getComponent("Block").init(o,c,s,r)}if(this.content.y+this.blockArr[e].y<-660){var l=this.blockArr[e];l.y+=1440;var g=Math.abs(l.y),h=Math.round((g+60)/120);if(h>this.statusArray.length){l.opacity=0;continue}l.opacity=255;var p=this.statusArray[h-1],d=p.rank,u=p.avatar,b=p.nickname,m=p.score;l.getComponent("Block").init(d,u,b,m)}}},update:function(e){this.statusBeGet&&(this.undateCount+=e,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Start:[function(e,n,t){"use strict";cc._RF.push(n,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var a=e("Common"),i=e("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var e=this;this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){e.preload=!0,cc.log("preload success",e.preload,e.netload),e.netload&&(e.button.active=!0)})},chooseEnv:function(){if(void 0==i.type)if(void 0==i.token)void 0!==i.singletoken&&(this.rankButton.active=!0,1==i.env?a.url=i.url.appoffline:2==i.env?a.url=i.url.apppre:a.url=i.url.apponline,a.SceneType=10);else{if(1==i.env){var e=void 0;try{e=window.yanqu.getBrowerID()}catch(e){}a.url=i.url.appoffline,a.SceneType="yqbrower"==e?12:1}else a.SceneType=11,2==i.env?a.url=i.url.apppre:a.url=i.url.apponline;5==i.apptype&&(a.SceneType=15)}else 1==i.env?a.url=i.url.wxoffline:2==i.env?a.url=i.url.wxpre:a.url=i.url.wxonline,void 0!==i.singletoken&&(this.rankButton.active=!0,a.SceneType=10),3==i.type?a.SceneType=20:4==i.type?a.SceneType=21:5==i.type&&(a.SceneType=22);cc.log("scenetype:",a.SceneType)},getInfo:function(){var e,n=this,t="room_id="+i.room_id+"&token="+i.token,o=i.version,c=void 0;if(1==a.SceneType)c=hex_md5("YanQu"+t+"!qaz@wsx$"),o=1,i.AREA=1,this.transcend(c,o);else if(12==a.SceneType||15==a.SceneType||11==a.SceneType){var s=i.getSignString(t);c=s[0],o=s[1],i._version=o,this.transcend(c,o)}else if(20==a.SceneType||21==a.SceneType||22==a.SceneType)this.transcend();else if(10==a.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));e=a.url+"/live_game/revive?token="+i.token+"&room_id="+i.room_id+"&sign="+c,axios.post(e,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":o}}).then(function(e){cc.log("start respose:",e);var t=e.data.data;a.reborn=t,n.netload=!0,n.preload&&(n.button.active=!0)}).catch(function(e){n.button.active=!0,cc.log(e)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(e,n){cc.log(e,n);var t,o=i.token,c=i.room_id,s=e;void 0==e&&(s=hex_md5("YanQu"+("room_id="+c+"&token="+o)+"!qaz@wsx$"));var r=i.AREA,l=n;void 0==n&&(l=i.version),t=a.url+"/live/section_rank_score?token="+o+"&room_id="+c+"&sign="+s,axios.post(t,{},{headers:{AREA:r,"CLIENT-VERSION":l}}).then(function(e){cc.log("rank:",e),Object.keys(e.data.data.rank).forEach(function(n){a.rank.push(e.data.data.rank[n])}),cc.log(a.rank)},this).catch(function(e){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(i))},update:function(e){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],chaoyue:[function(e,n,t){"use strict";cc._RF.push(n,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var a=e("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",a.SceneType,a.rank),(11===a.SceneType||12===a.SceneType||20===a.SceneType||1==a.SceneType)&&0!=a.rank.length){this._ranking=a.rank.length,this.transcendFunc();var e=cc.instantiate(this.transcendPrefab);this.node.addChild(e),e.opacity=0,e.getComponent("transcend").init(a.rank[this._ranking-1].avatar,a.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",a.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var e=a.rank,n=this.scoreLabel.string,t=0;t<e.length;t++)if(Number(n)>Number(e[t].score)&&(cc.log(n,e[t].score,t),this._ranking>t)){var i=cc.instantiate(this.transcendPrefab);this.node.addChild(i),i.setPosition(cc.v2(0,0)),i.opacity=0,i.getComponent("transcend").init(a.rank[t].avatar,a.rank[t].rank);var o=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return i.runAction(o),this._ranking=t,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(e,n,t){"use strict";cc._RF.push(n,"b0123F/GzdDoYtgcFawA/yh","endbg");var a=e("Common"),i=e("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",i),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===a.SceneType?(this.weixing.active=!0,this.putongRank()):11===a.SceneType||12===a.SceneType||1===a.SceneType?(this.hongbao.active=!0,this.hongBao()):20===a.SceneType?(this.weixing.active=!0,this.wechat()):21===a.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===a.SceneType||15===a.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+a.score)},start:function(){},putongRank:function(){var e=a.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var n,t=i.singletoken,o=i.AREA,c="game_id="+a.GameId+"&score="+e+"&token="+t,s=hex_md5("YanQu"+c+"!qaz@wsx$"),r=i.version;n=a.url+"/game/single_push_data?token="+t+"&game_id="+a.GameId+"&score="+e+"&sign="+s,cc.log(n),axios.post(n,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var n=e.data.code;if(cc.log("code:",n),400404==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){10==a.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=e.data.data.rank,i=e.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},hongBao:function(){var e=a.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=e;var n,t=i.token,o=i.room_id,c=i.AREA,s=(i.env,"room_id="+o+"&score="+e+"&token="+t),r=void 0,l=void 0;try{var g=window.yanqu.getSignString(s);r=JSON.parse(g).sign.sign,l=JSON.parse(g).header.VERSION}catch(e){}1===a.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),n=a.url+"/live_game/push_data?token="+t+"&score="+e+"&room_id="+o+"&sign="+r,axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":l}}).then(function(e){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",e);var n=e.data.code;if(400404==n)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="";var t=e.data.data.rank_list,a=e.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechat:function(){var e=a.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var n,t=i.token,o=i.room_id,c=i.AREA,s=hex_md5("YanQu"+("room_id="+o+"&score="+e+"&token="+t)+"!qaz@wsx$"),r=i.version;n=a.url+"/live_game/push_data?token="+t+"&score="+e+"&room_id="+o+"&sign="+s,cc.log(n),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var n=e.data.code;if(cc.log("code:",n),400404==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=e.data.data.rank_list,a=e.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechathelp:function(){var e,n=i.token,t=i.room_id,o=i.AREA,c="help_score="+a.score+"&room_id="+t+"&token="+n+"&user_id="+i.helpuid,s=hex_md5("YanQu"+c+"!qaz@wsx$");e=a.url+"/live_game/push_data?token="+n+"&help_score="+a.score+"&room_id="+t+"&user_id="+i.helpuid+"&sign="+s;var r=i.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var n=e.data.code;if(400404==n)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="";var t=e.data.data.rank_list,i=e.data.data.current_rank,o=e.data.data.max_help_score;console.log("head",t),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=a.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+o+" \u5206",t[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==n){var c=e.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(e){cc.log(e)})},teamend:function(){cc.log("team");var e,n=i.token,t=i.room_id,o=i.AREA,c="room_id="+t+"&score="+a.score+"&token="+n,s=hex_md5("YanQu"+c+"!qaz@wsx$");e=a.url+"/live_game/push_data?token="+n+"&score="+a.score+"&room_id="+t+"&sign="+s;var r=i.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var n=e.data.code;if(400404==n)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=e.data.data.rank_list,i=e.data.data.current_rank,o=e.data.data.max_score;console.log("head",t),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=a.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+o+" \u5206",t[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==n){var c=e.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(e){cc.log(e)})},turn:function(){a.score=0,a.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(e,n,t){"use strict";cc._RF.push(n,"62e73sDA6dOGolthqoGzpA1","net");var a=function(){var e=window.location.search,n=new Object;if(-1!=e.indexOf("?"))for(var t=e.substr(1),a=t.split("&"),i=0;i<a.length;i++)n[a[i].split("=")[0]]=a[i].split("=")[1];return n}();var i={token:a.token,room_id:a.room_id,AREA:a.AREA,env:a.env,type:a.type,version:a.version,helpuid:a.helpuid,teamid:a.teamid,apptype:a.apptype,singletoken:a.singletoken,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(e){var n=[];try{var t=window.yanqu.getSignString(e),a=JSON.parse(t).sign.sign,i=JSON.parse(t).header.VERSION;n.push(a),n.push(i)}catch(e){}return n}};n.exports=i,cc._RF.pop()},{}],transcend:[function(e,n,t){"use strict";cc._RF.push(n,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(e,n){var t=this;cc.log(e,n);var a="http://image.dialect-tv.com/"+e;cc.log("url: ",a),cc.loader.load(a,function(e,n){if(e)cc.log(e);else{t.texture=n;var a=new cc.SpriteFrame(n);t.img.spriteFrame=a}}),this.num.string="\u7b2c"+n+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Block","Rank","Start","chaoyue","transcend","endbg","net","Bullet","Camera","Common","Enemy","Game","Player"]);