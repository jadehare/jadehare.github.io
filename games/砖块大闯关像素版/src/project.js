window.__require=function n(e,t,i){function a(o,s){if(!t[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+o+"'")}}var g=t[o]={exports:{}};e[o][0].call(g.exports,function(n){return a(e[o][1][n]||n)},g,g.exports,n,e,t,i)}return t[o].exports}for(var c="function"==typeof __require&&__require,o=0;o<i.length;o++)a(i[o]);return a}({Ball:[function(n,e,t){"use strict";cc._RF.push(e,"ad4e0lUVSJNP5al7XiDcbA3","Ball");var i=n("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.moveX=0,this.moveY=0},start:function(){this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game"),this.clock=0,this.updateClock=0},fire:function(n){cc.log(this.node.parent.name),this.moveX=n.x,this.moveY=n.y},onCollisionEnter:function(n,e){if("border"==n.node.group)this.circleIntersectRect(n.node,e.node);else if("brick"==n.node.group)this.circleIntersectRect(n.node,e.node),this.gameControl.getPropertyOrNot(n.node);else if("plank"==n.node.name){var t=(this.node.x-n.node.x)/(n.node.width/2)*60,a=cc.v2(i.speed,i.speed).rotate(cc.misc.degreesToRadians(45)).rotate(-cc.misc.degreesToRadians(t));this.moveX=a.x,this.moveY=a.y,this.node.y<n.node.y&&(this.moveY=-a.y)}else"plank"==n.node.group&&this.circleIntersectRect(n.node,e.node)},circleIntersectRect:function(n,e){var t=e.y,a=e.x,c=n.y,o=n.x;if(t<c+n.height/2&&t>c-n.height/2)this.moveX*=-1;else if(a<o+n.width/2&&a>o-n.width/2)this.moveY*=-1;else{var s=cc.v2(t-c,a-o),r=cc.v2(i.speed,i.speed).rotate(cc.v2(i.speed,i.speed).signAngle(s));this.moveX=r.x,this.moveY=r.y}},update:function(n){"balls"==this.node.parent.name&&(this.clock>.5?(this.clock=0,(this.node.x>640||this.node.x<-640||this.node.y>1200||this.node.y<-1200)&&this.gameControl.recycleBall(this.node)):this.clock+=n),this.node.x+=this.moveX,this.node.y+=this.moveY}}),cc._RF.pop()},{Common:"Common"}],Bullet:[function(n,e,t){"use strict";cc._RF.push(e,"f70eaf/n0xMQqepKcgF16Kb","Bullet"),cc.Class({extends:cc.Component,properties:{},start:function(){this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game")},onCollisionEnter:function(n,e){"border"==n.node.group?this.gameControl.recycleBullet(this.node):"brick"==n.node.group&&(this.gameControl.getPropertyOrNot(n.node),this.gameControl.recycleBullet(this.node))},update:function(n){this.node.onShooting&&(this.node.y+=10)}}),cc._RF.pop()},{}],Common:[function(n,e,t){"use strict";cc._RF.push(e,"c646e28qJNJqIsCIxREbvuo","Common"),e.exports={level:0,speed:8,levelArr:[],score:0},cc._RF.pop()},{}],Game:[function(n,e,t){"use strict";cc._RF.push(e,"b305aJeOO9MhJA3b9//DaCQ","Game");var i=n("Common");cc.Class({extends:cc.Component,properties:{ball_pre:{default:null,type:cc.Prefab},brick_pre:{default:null,type:cc.Prefab},property_pre:{default:null,type:cc.Prefab},bullet_pre:{default:null,type:cc.Prefab},ball_father:{default:null,type:cc.Node},brick_father:{default:null,type:cc.Node},bullet_father:{default:null,type:cc.Node},property_father:{default:null,type:cc.Node},plank:{default:null,type:cc.Node},aimLine:{default:null,type:cc.Node},underBorder:{default:null,type:cc.Node},recycleBricks:{default:null,type:cc.Node},recycleBalls:{default:null,type:cc.Node},recycleBullets:{default:null,type:cc.Node},loading:{default:null,type:cc.Node}},onLoad:function(){this.levelLength=0,this.loading.zIndex=10},start:function(){cc.director.getCollisionManager().enabled=!0,this.ballArray=[],this.inputTemp=0,this.ballNoFired=!0,this.gamePause=!0,this.brickNum=30,this.brickInterval=3,this.brickWidth,this.clock=0,this.fireDirection=cc.v2(i.speed,i.speed),this.propertyProbability=50,this.propertyTimeCount=0,this.propertyTimer(),this.bulletTimeCount=0,this.bulletTimer(),this.setInputControl(),this.initPool(),this.init(),0==i.level?this.getJson():this.initBrick(i.levelArr[i.level])},init:function(){this._spawnBall().setPosition(this.plank.x,this.plank.y+30)},initPool:function(){this.brickPool=new cc.NodePool;for(var n=0;n<40;++n){var e=cc.instantiate(this.brick_pre);this.brickPool.put(e)}for(var t=0;t<100;++t){var i=cc.instantiate(this.ball_pre);this.recycleBalls.addChild(i)}this.propertyPool=new cc.NodePool;for(var a=0;a<5;++a){var c=cc.instantiate(this.property_pre);this.propertyPool.put(c)}for(var o=0;o<20;++o){var s=cc.instantiate(this.bullet_pre);s.onShooting=!1,s.parent=this.recycleBullets}},getJson:function(){var n=this;cc.loader.loadRes("lufy",function(e,t){var a=t.json;i.levelArr=a,cc.log("level length :",a,i.level),n.levelLength=i.levelArr.length,n.initBrick(i.levelArr[i.level])})},initBrick:function(n){this.brickWidth=(this.node.width-this.brickInterval*(this.brickNum+1))/30;for(var e=0;e<this.brickNum;e++)for(var t=0;t<30;t++){var i=n[t][e];if(0==i[0]&&255==i[1]&&0==i[2]);else{var a=this._spawnBrick();a.color=new cc.Color(i[0],i[1],i[2],255),a.setPosition(e*(a.width+this.brickInterval)+this.brickInterval+a.width/2-this.node.width/2,-t*(a.width+this.brickInterval)+this.brickInterval-a.width/2+this.node.height/2)}}this.gamePause=!1,this.loading.active=!1},setInputControl:function(){var n=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){n.inputTemp=e.touch._point.x}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=e.touch._point.x,i=n.inputTemp-t;n.plank.x-=i,n.plank.x>n.node.width/2-n.plank.width/2?n.plank.x=n.node.width/2-n.plank.width/2:n.plank.x<-n.node.width/2+n.plank.width/2&&(n.plank.x=-n.node.width/2+n.plank.width/2),n.inputTemp=t,n.ballNoFired&&(n.ball_father.children[0].x=n.plank.x)}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){e.touch._point;n.ballNoFired&&n.fireBall()})},runProperty:function(n){"split"==n?this.ballSplit():"long"==n?(this.longerTimer(),this.plank.x>this.node.width/2-this.plank.width/2?this.plank.x=this.node.width/2-this.plank.width/2:this.plank.x<-this.node.width/2+this.plank.width/2&&(this.plank.x=-this.node.width/2+this.plank.width/2)):"shoot"==n?this.bulletTimeCount=5:"border"==n&&this.borderTimer()},ballSplit:function(){for(var n=this.ball_father.children,e=n.length,t=0;t<e;t++){if(this.ball_father.children.length>=100)return;var a=n[t],c=this._spawnBall();c&&(c.setPosition(a.position),c.getComponent("Ball").fire(cc.v2(i.speed,i.speed).rotate(Math.random()*Math.PI)));var o=this._spawnBall();o&&(o.setPosition(a.position),o.getComponent("Ball").fire(cc.v2(i.speed,i.speed).rotate(Math.random()*Math.PI)))}},longerTimer:function(){this.plank.getComponent(cc.BoxCollider).size.width=480,this.plank.width=480,this.unschedule(this.normalLength),this.scheduleOnce(this.normalLength,10)},normalLength:function(){this.plank.getComponent(cc.BoxCollider).size.width=240,this.plank.width=240},borderTimer:function(){this.underBorder.active=!0,this.unschedule(this.borderRemove),this.scheduleOnce(this.borderRemove,8)},borderRemove:function(){this.underBorder.active=!1},propertyTimer:function(){var n=this;this.scheduleOnce(function(){n.propertyTimeCount+=1,n.propertyTimer()},1)},bulletTimer:function(){var n=this;this.scheduleOnce(function(){n.bulletTimeCount>0&&(n.shootBullet(),n.bulletTimeCount-=.3),n.bulletTimer()},.3)},shootBullet:function(){var n=this.plank,e=this._spawnBullet();e.onShooting=!0,e.setPosition(n.x+n.width/2-5,n.y);var t=this._spawnBullet();t.onShooting=!0,t.setPosition(n.x-n.width/2+5,n.y)},getPropertyOrNot:function(n){var e=n.position;if(this.recycleBrick(n),!(this.propertyTimeCount<1||(this.propertyTimeCount=0,100*Math.random()>this.propertyProbability))){var t=this._spawnProperty(),i=100*Math.random();t.name=i<40?"split":i<70?"long":i<90?"shoot":"border",t.setPosition(e),this.property_father.addChild(t)}},_spawnBall:function(){var n=null,e=this.recycleBalls.children;return e.length>0&&((n=e[0]).parent=this.ball_father,n)},_spawnBullet:function(){var n=null,e=this.recycleBullets.children;return(n=e.length>0?e[0]:cc.instantiate(this.bullet_pre)).parent=this.bullet_father,n},_spawnBrick:function(){var n=null;return(n=this.brickPool.size()>0?this.brickPool.get():cc.instantiate(this.brick_pre)).width=this.brickWidth,n.height=this.brickWidth,this.brick_father.addChild(n),n},_spawnProperty:function(){return this.propertyPool.size()>0?this.propertyPool.get():cc.instantiate(this.property_pre)},recycleBrick:function(n){n.parent=this.recycleBricks},recycleBall:function(n){cc.log("recycle ball"),n.getComponent("Ball").fire(cc.v2(0,0)),n.position=cc.v2(0,0),n.parent=this.recycleBalls},recycleBullet:function(n){n.onShooting=!1,n.position=cc.v2(0,0),n.parent=this.recycleBullets},fireBall:function(){this.ballNoFired=!1;var n=this.ball_father.children[0].getComponent("Ball");this.aimLine.active=!1,n.fire(this.fireDirection)},aimLineControl:function(){if(this.ballNoFired){var n=this.ball_father.children[0],e=this.aimLine,t=n.position.sub(e.position);this.aimLine.height=2*t.mag();var a=t.signAngle(cc.v2(0,-1)),c=cc.misc.radiansToDegrees(a);this.aimLine.rotation=c,this.fireDirection=cc.v2(i.speed,i.speed).rotate(cc.misc.degreesToRadians(45)).rotate(-a)}},ballAndBrickCount:function(){var n=this.brick_father.children.length,e=this.ball_father.children.length;if(0==n){if(cc.log("next level"),this.gamePause=!0,cc.log(i.level,this.levelLength-1),i.level==this.levelLength-1)return void cc.find("Canvas/bg").getComponent("endbg").init();i.level+=1,this.loading.active=!0,cc.director.loadScene("GameScene")}else 0==e&&(cc.find("Canvas/bg").getComponent("endbg").init(),this.gamePause=!0)},update:function(n){this.gamePause||(this.aimLineControl(),this.clock+=n,this.clock>.5&&(this.clock=0,this.ballAndBrickCount()))}}),cc._RF.pop()},{Common:"Common"}],Loading:[function(n,e,t){"use strict";cc._RF.push(e,"3eb46YeNqJIp5qteTgmx/XC","Loading"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},start:function(){var n=this;this.count=0,this.schedule(function(){switch(n.count){case 0:n.label.string="\u6b63\u5728\u52a0\u8f7d";break;case 1:n.label.string="\u6b63\u5728\u52a0\u8f7d.";break;case 2:n.label.string="\u6b63\u5728\u52a0\u8f7d..";break;case 3:n.label.string="\u6b63\u5728\u52a0\u8f7d..."}n.count++,n.count>3&&(n.count=0)},.5)}}),cc._RF.pop()},{}],Plank:[function(n,e,t){"use strict";cc._RF.push(e,"83dd4zN8KdO96LsxGLglCtA","Plank"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node}},start:function(){this.gameControl=this.canvas.getComponent("Game")},onCollisionEnter:function(n,e){"property"==n.node.group&&(this.gameControl.runProperty(n.node.name),this.gameControl.propertyPool.put(n.node))}}),cc._RF.pop()},{}],Property:[function(n,e,t){"use strict";cc._RF.push(e,"61c6awtVxZFTq43tkR+osEU","Property"),cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(n){this.node.y-=200*n}}),cc._RF.pop()},{}],Recycle:[function(n,e,t){"use strict";cc._RF.push(e,"9e1cbM+1cdHmKxfnqqgS/1w","Recycle"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node},ball_father:{default:null,type:cc.Node}},start:function(){this.gameControl=this.canvas.getComponent("Game")},onCollisionEnter:function(n,e){"ball"==n.node.group?this.gameControl.recycleBall(n.node):"property"==n.node.group&&this.gameControl.propertyPool.put(n.node)}}),cc._RF.pop()},{}],endbg:[function(n,e,t){"use strict";cc._RF.push(e,"b0123F/GzdDoYtgcFawA/yh","endbg");var i=n("Common"),a=n("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",a),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){void 0==a.type&&this.showadstrue(),this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===i.SceneType?(this.weixing.active=!0,this.putongRank()):11===i.SceneType||12===i.SceneType||1===i.SceneType?(this.hongbao.active=!0,this.hongBao()):20===i.SceneType?(this.weixing.active=!0,this.wechat()):21===i.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===i.SceneType||15===i.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+i.score)},start:function(){},putongRank:function(){var n=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,t=a.singletoken,c=a.AREA,o="game_id="+i.GameId+"&score="+n+"&token="+t,s=hex_md5("YanQu"+o+"!qaz@wsx$"),r=a.version;e=i.url+"/game/single_push_data?token="+t+"&game_id="+i.GameId+"&score="+n+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){10==i.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},hongBao:function(){var n=i.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=n;var e,t=a.token,c=a.room_id,o=a.AREA,s="room_id="+c+"&score="+n+"&token="+t,r=void 0,l=void 0;try{var g=window.yanqu.getSignString(s);r=JSON.parse(g).sign.sign,l=JSON.parse(g).header.VERSION}catch(n){}1===i.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),e=i.url+"/live_game/push_data?token="+t+"&score="+n+"&room_id="+c+"&sign="+r,cc.log("url:",e),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":l}}).then(function(n){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,i=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechat:function(){var n=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,t=a.token,c=a.room_id,o=a.AREA,s=hex_md5("YanQu"+("room_id="+c+"&score="+n+"&token="+t)+"!qaz@wsx$"),r=a.version;e=i.url+"/live_game/push_data?token="+t+"&score="+n+"&room_id="+c+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,i=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechathelp:function(){var n,e=a.token,t=a.room_id,c=a.AREA,o="help_score="+i.score+"&room_id="+t+"&token="+e+"&user_id="+a.helpuid,s=hex_md5("YanQu"+o+"!qaz@wsx$");n=i.url+"/live_game/push_data?token="+e+"&help_score="+i.score+"&room_id="+t+"&user_id="+a.helpuid+"&sign="+s;var r=a.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,a=n.data.data.current_rank,c=n.data.data.max_help_score;console.log("head",t),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+c+" \u5206",t[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},teamend:function(){cc.log("team");var n,e=a.token,t=a.room_id,c=a.AREA,o="room_id="+t+"&score="+i.score+"&token="+e,s=hex_md5("YanQu"+o+"!qaz@wsx$");n=i.url+"/live_game/push_data?token="+e+"&score="+i.score+"&room_id="+t+"&sign="+s;var r=a.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,a=n.data.data.current_rank,c=n.data.data.max_score;console.log("head",t),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+c+" \u5206",t[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},turn:function(){void 0==a.type&&this.showadsfalse(),i.score=0,i.rebornTime=1,i.level=0,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})},showadstrue:function(){try{yanqu.showAds(!0)}catch(n){cc.log(n)}},showadsfalse:function(){try{yanqu.showAds(!1)}catch(n){cc.log(n)}}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(n,e,t){"use strict";cc._RF.push(e,"62e73sDA6dOGolthqoGzpA1","net");var i=function(){var n=window.location.search,e=new Object;if(-1!=n.indexOf("?"))for(var t=n.substr(1),i=t.split("&"),a=0;a<i.length;a++)e[i[a].split("=")[0]]=i[a].split("=")[1];return e}(),a=i.token,c=i.room_id,o=i.AREA,s=i.env,r=i.type,l=i.version,g=i.helpuid,h=i.teamid,p=i.apptype,b=i.singletoken;var d={text:window.location,token:a,room_id:c,AREA:o,env:s,type:r,version:l,helpuid:g,teamid:h,apptype:p,singletoken:b,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(n){var e=[];try{var t=window.yanqu.getSignString(n),i=JSON.parse(t).sign.sign,a=JSON.parse(t).header.VERSION;e.push(i),e.push(a)}catch(n){}return e}};e.exports=d,cc._RF.pop()},{}]},{},["endbg","net","Ball","Bullet","Common","Game","Loading","Plank","Property","Recycle"]);