window.__require=function e(t,n,i){function a(c,s){if(!n[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+c+"'")}}var p=n[c]={exports:{}};t[c][0].call(p.exports,function(e){return a(t[c][1][e]||e)},p,p.exports,e,t,n,i)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<i.length;c++)a(i[c]);return a}({Ball:[function(e,t,n){"use strict";cc._RF.push(t,"304fcInfLxGorMGSQ6uA3zg","Ball");var i=e("Common");cc.Class({extends:cc.Component,properties:{speedX:0,speedY:0,endButton:{default:null,type:cc.Node},brickAudio:{type:cc.AudioClip,default:null},plankAudio:{type:cc.AudioClip,default:null},wallAudio:{type:cc.AudioClip,default:null}},onLoad:function(){var e=this;this.loading_scene=cc.find("Canvas/end_scene_loading"),this.loading_scene.active=!1,this.ballFired=!0,this.ballSlower=!1,this.ballFaster=!1,this.speedChange=!1,this.canvas=cc.find("Canvas"),this.registObject=this.canvas.getComponent("Regist"),this.gameObject=this.canvas.getComponent("Game"),this.bricks=cc.find("Canvas/Play/bricks"),this.scoreObject=cc.find("Canvas/Score").getComponent("Score"),this.punishObject=cc.find("Canvas/Play/punish").getComponent("Punish"),this.balls=cc.find("Canvas/Play/balls"),this.plank=cc.find("Canvas/Play/plank"),this.cover=cc.find("Canvas/cover"),this.ballUndied=!0,this.leftReviseMax=.09966865249116204,this.leftReviseMin=-.09966865249116202,this.rightReviseMax=3.0419240010986313,this.rightReviseMin=-3.0419240010986313,this.node._parent.on("ball",function(t){cc.log("event:",t),"ballFaster"===t.msg?e._ballFaster():"ballSlower"===t.msg?e._ballSlower():"ballUnstoppable"===t.msg?e._ballUnstoppable():"ballSplit"===t.msg?e._ballSplit():"fire"===t.msg?e.ballFired||e._init():"ballNormal"===t.msg?e._ballNormal():t.msg},this),this._init()},start:function(){},_init:function(){this.ballFired=!0,this.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.speedX,this.speedY)},_ballSplit:function(){this.gameObject._spawnOtherBalls(this.node)},_ballNormal:function(){this.speedChange=!1;var e=this.node.getComponent(cc.RigidBody),t=cc.v2(600,600).signAngle(e.linearVelocity);e.linearVelocity=cc.v2(600,600).rotate(t,cc.v2(0,0))},_ballFaster:function(){this._ballNormal(),this.speedChange=!0;var e=this.node.getComponent(cc.RigidBody);e.linearVelocity=cc.v2(e.linearVelocity.x,e.linearVelocity.y).mul(1.5)},_ballSlower:function(){this._ballNormal(),this.speedChange=!0;var e=this.node.getComponent(cc.RigidBody);e.linearVelocity=cc.v2(e.linearVelocity.x,e.linearVelocity.y).mul(2/3)},_ballUnstoppable:function(){cc.log("unstoppable")},onBeginContact:function(e,t,n){if(3===n.tag){cc.audioEngine.play(this.brickAudio,!1,1);var a=--n.node.getComponent("Brick").life;if(this._changeBrickColor(a,n.node),a<1?1===this.gameObject._onBrickKilled(n.node)&&this.scoreObject.setScoreUp():this.scoreObject.setScoreUp(),this.gameObject.randomGenerateProperty(n.node.position),null===this.bricks.getChildByName("brick")){if(i.level=this.gameObject.levelNum+1,cc.log(this.gameObject.levelNum),i.level>3)return cc.audioEngine.stopAll(),this.ballUndied=!1,this.registObject.timeGo=!1,this.cover.active=!0,this._ballSlower(),void setTimeout(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1e3);cc.audioEngine.stop(this.gameObject.currentMusic),cc.director.loadScene("GameScene")}}else if(2===n.tag){cc.audioEngine.play(this.plankAudio,!1,1),this.speedChange||this._ballNormal();var o=t.node.getComponent(cc.RigidBody),c=cc.v2(0,1),s=Math.sqrt(o.linearVelocity.magSqr(),2),r=c.signAngle(cc.v2(n.node.x-t.node.x,100));cc.log(r),o.angularVelocity=300*r;var l=s*Math.sin(r),p=s*Math.cos(r);o.linearVelocity=cc.v2(l,p)}else if(4===n.tag)1===this.balls.children.length?this.ballUndied&&(i.score-=5,this.scoreObject.showScore(),this.punishObject.init(t.node)):this.gameObject.ballDestroy(this.node);else if(1===n.tag){this.speedChange||this._ballNormal(),cc.audioEngine.play(this.brickAudio,!1,1);var h=t.node.getComponent(cc.RigidBody),g=Math.atan2(h.linearVelocity.y,h.linearVelocity.x);g>this.leftReviseMin&&g<0||g>this.rightReviseMax?h.linearVelocity=h.linearVelocity.rotate(.1745329,cc.v2(t.node.x,t.node.y)):(g<this.leftReviseMax&&g>0||g<this.rightReviseMin)&&(h.linearVelocity=h.linearVelocity.rotate(-.1745329,cc.v2(t.node.x,t.node.y)))}},_changeBrickColor:function(e,t){var n="brickLittleRed";switch(e){case 2:n="brickLittleYellow";break;case 3:n="brickLittleGreen"}cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){t.getComponent(cc.Sprite).spriteFrame=n})},_ballUnfiredMove:function(){this.ballFired||(this.node.x=this.plank.x)},gameEnd:function(){cc.audioEngine.stopAll(),this.ballUndied=!1,this.registObject.timeGo=!1,this.cover.active=!0,this._ballSlower(),setTimeout(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1e3)},update:function(e){}}),cc._RF.pop()},{Common:"Common"}],Block:[function(e,t,n){"use strict";cc._RF.push(t,"7678faPbyJLrph1RxP8mctM","Block");var i=e("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(e,t,n,a){var o=this;this.rankLabel.string=e,this.rankLabel.node.color="1"==e?new cc.Color(255,0,0,255):"2"==e?new cc.Color(255,102,0,255):"3"==e?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=n,this.score.string=a,""==t||(cc.log("load pic",i.url+"/"+t),cc.loader.load("http://image.dialect-tv.com/"+t,function(e,t){e&&console.error(e),o.userIcon.spriteFrame=new cc.SpriteFrame(t)}))}}),cc._RF.pop()},{Common:"Common"}],Brick:[function(e,t,n){"use strict";cc._RF.push(t,"dac13ww72tJYojwfzsvxD5J","Brick"),cc.Class({extends:cc.Component,properties:{life:0},onLoad:function(){},start:function(){var e=this;this.node._parent.on("brick",function(t){if("ballUnstoppable"==t.msg){var n=e.node.getComponent("cc.PhysicsBoxCollider");n.sensor=!0,n.apply()}else{var i=e.node.getComponent("cc.PhysicsBoxCollider");i.sensor=!1,i.apply()}},this)}}),cc._RF.pop()},{}],Button:[function(e,t,n){"use strict";cc._RF.push(t,"b6cecRiMOlEWYNsSY0o0lzj","Button"),cc.Class({extends:cc.Component,properties:{ball:{default:null,type:cc.Node}},onLoad:function(){},start:function(){this.balls=cc.find("Canvas/Play/balls"),this.gameObject=cc.find("Canvas").getComponent("Regist"),this.setInputControl()},setInputControl:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){e.gameObject.timeGo=!0,e.balls.emit("ball",{msg:"fire"})},this)},update:function(e){}}),cc._RF.pop()},{}],Common:[function(e,t,n){"use strict";cc._RF.push(t,"b2bacM0v29E+qoY0fLtJJWe","Common");t.exports={level:1,score:0,time:0,SceneType:0,reborn:{},rebornTime:1,GameId:17,url:"",rank:[]},cc._RF.pop()},{}],Cover:[function(e,t,n){"use strict";cc._RF.push(t,"f3888uRZctAXZGkwQmMvA70","Cover"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},update:function(e){this.node.opacity>=255?this.node.opacity=255:this.node.opacity+=5}}),cc._RF.pop()},{}],FirstScene:[function(e,t,n){"use strict";cc._RF.push(t,"f22fdmaQpdL4bA6zf6gbUln","FirstScene");var i=e("Common"),a=e("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},circle:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var e=this;this.netload=!1,this.preload=!1,this.chooseEnv(),cc.director.preloadScene("Play",function(){e.preload=!0,cc.log("preload success",e.preload,e.netload),e.loadScene()})},chooseEnv:function(){if(void 0==a.type)if(void 0==a.token)i.SceneType=10;else if(1==a.env){var e=void 0;try{e=window.yanqu.getBrowerID()}catch(e){}i.SceneType="yqbrower"==e?12:1}else i.SceneType=11;else 3!=a.type&&1!=a.type||(i.SceneType=20)},getInfo:function(){var e=this,t=void 0,n="room_id="+a.room_id+"&token="+a.token,o=void 0;if(1==i.SceneType){var c=hex_md5("YanQu"+n+"!qaz@wsx$");o=1,a.AREA=1,t="http://api.dialect-tv.test/live_game/revive?token="+a.token+"&room_id="+a.room_id+"&sign="+c}else if(12==i.SceneType){var s=a.getSignString(n),r=s[0];o=s[1],a._version=o,t="http://api.dialect-tv.test/live_game/revive?token="+a.token+"&room_id="+a.room_id+"&sign="+r}else if(11==i.SceneType){var l=a.getSignString(n),p=l[0];o=l[1],a._version=o,t="http://api.dialect-tv.com/live_game/revive?token="+a.token+"&room_id="+a.room_id+"&sign="+p}else{if(20==i.SceneType)return this.netload=!0,this.preload?void this.loadScene():void 0;if(10==i.SceneType&&(this.netload=!0,this.preload))return void this.loadScene()}cc.log(i.SceneType),axios.post(t,{},{headers:{AREA:a.AREA,"CLIENT-VERSION":o}}).then(function(t){cc.log("start respose:",t);var n=t.data.data;i.reborn=n,e.netload=!0,e.preload&&e.loadScene()}).catch(function(t){e.loadScene(),cc.log(t)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("Play")},update:function(e){this.circle.rotation-=5}}),cc._RF.pop()},{Common:"Common",net:"net"}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"9a5122uUElMnqmrA7xW1ngN","Game");e("net");var i=e("Common");cc.Class({extends:cc.Component,properties:{propertyRadius:0,ballPositionX:0,ballPositionY:0,ballPrefab:{default:null,type:cc.Prefab},brickPrefab:{default:null,type:cc.Prefab},propertyPrefab:{default:null,type:cc.Prefab},plank:{default:null,type:cc.Node},border:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},loading_button:{default:null,type:cc.Node},loading_circle:{default:null,type:cc.Node},score:{default:null,type:cc.Label},level_label:{default:null,type:cc.Label},audio1:{type:cc.AudioClip,default:null}},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().debugDrawFlags=!1,this.loading_button.active=!1,this.loadingCount=0,this.loadingNum=146,this.level_label.string="\u5173\u5361"+i.level},start:function(){this.endNode=cc.find("Canvas/bg"),this.endNode.active=!1,this.clock=0,this.ballPool=new cc.NodePool;for(var e=0;e<3;e++){var t=cc.instantiate(this.ballPrefab);this.ballPool.put(t)}this.brickPool=new cc.NodePool;for(var n=0;n<80;n++){var a=cc.instantiate(this.brickPrefab);this.brickPool.put(a)}this.cover=cc.find("Canvas/cover"),this.cover.active=!1;var o=this.node.getComponent("Level");this.levelNum=i.level,this.levelArray=o._generateLevel(),this.scoreO=cc.find("Canvas/Score").getComponent("Score").showScore(),this.balls=cc.find("Canvas/Play/balls"),this._init()},playGame:function(){this.loading.active=!1,this._spawnBall(cc.v2(230,360))},_init:function(){1==this.levelNum?this.loadingNum=69:2==this.levelNum?this.loadingNum=121:3==this.levelNum&&(this.loadingNum=194),this._spawnBricks(this.levelNum-1),this.cutPic()},_spawnBall:function(e){var t=null;(t=this.ballPool.size()>0?this.ballPool.get():cc.instantiate(this.ballPrefab)).setPosition(e),t.active=!0,cc.find("Canvas/Play/balls").addChild(t)},ballDestroy:function(e){var t=cc.v2(e.x,e.y);e.destroy(),this.balls.children.length<1&&this._spawnBall(t)},_spawnOtherBalls:function(e){e.getComponent("Ball").getComponent(cc.RigidBody).linearVelocity;var t=e._position,n=null;n=this.ballPool.size()>0?this.ballPool.get():cc.instantiate(this.ballPrefab),this.balls.addChild(n),n.setPosition(t),n.active=!0;var i=n.getComponent("Ball");i.getComponent(cc.RigidBody).linearVelocity=cc.v2(500,500),i.ballFired=!0;var a=null;a=this.ballPool.size()>0?this.ballPool.get():cc.instantiate(this.ballPrefab),this.balls.addChild(a),a.setPosition(t),a.active=!0;var o=a.getComponent("Ball");o.getComponent(cc.RigidBody).linearVelocity=cc.v2(-500,500),o.ballFired=!0},_onBallKilled:function(e){this.ballPool.put(e)},_spawnBricks:function(e){var t=this,n=this.levelArray[e];this.bricks=[];for(var i=function(e){var i=null;i=t.brickPool.size()>0?t.brickPool.get():cc.instantiate(t.brickPrefab);var a=cc.find("Canvas/Play/bricks");i.getComponent("Brick").life=n[e][2];var o="brickLittleRed";switch(n[e][2]){case 2:o="brickLittleYellow";break;case 3:o="brickLittleGreen"}cc.loader.loadRes(o,cc.SpriteFrame,function(e,n){i.getComponent(cc.Sprite).spriteFrame=n,++t.loadingCount>=t.loadingNum&&(t.loading_button.active=!0)}),a.addChild(i),i.setPosition(cc.v2(n[e][0],n[e][1])),t.bricks.push(i)},a=0;a<n.length;a++)i(a);return this.bricks.length},cutPic:function(e){cc.loader.loadRes("img/calendar.jpg",function(t,n){var i=new cc.SpriteFrame(n);return i.setRect(e),i})},blockPositionToRect:function(){return{x:0,y:0,height:48,width:48}},_onBrickKilled:function(e){var t=this.brickPool.size();return this.brickPool.put(e),this.brickPool.size()-t},_spawnProperty:function(e){var t=cc.instantiate(this.propertyPrefab);cc.find("Canvas/Play").addChild(t),t.setPosition(e)},_getProbability:function(e){if(100*Math.random()<e)return!0},randomGenerateProperty:function(e){this.clock>2&&this._getProbability(this.propertyRadius)&&(this._spawnProperty(e),this.clock=0)},gameEnd:function(){cc.audioEngine.stopAll(),this.balls.removeAllChildren(),this.cover.active=!0,i.time=500,this.endNode.getComponent("endbg").init()},update:function(e){this.clock+=e,this.loading_circle.rotation-=5}}),cc._RF.pop()},{Common:"Common",net:"net"}],Label:[function(e,t,n){"use strict";cc._RF.push(t,"8dbd19FmUxOy7/J9elHwyCU","Label");var i=e("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){"end"===i.level?(this.node.getComponent("cc.Label").string="\u6e38\u620f\u7ed3\u675f\uff01",i.level=1):this.node.getComponent("cc.Label").string="\u5173\u5361 "+i.level},start:function(){}}),cc._RF.pop()},{Common:"Common"}],Letter:[function(e,t,n){"use strict";cc._RF.push(t,"3dade8KwQxH9YgYAWOS3oWT","Letter"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},generateLetter:function(e){},update:function(e){}}),cc._RF.pop()},{}],Level:[function(e,t,n){"use strict";cc._RF.push(t,"a5b59LWUQVBgJ5Uw/6ECtc9","Level"),cc.Class({extends:cc.Component,properties:{leftTopPointX:40,leftTopPointY:1106,currentBrickWidth:48,currentBrickHeight:48},onLoad:function(){},start:function(){},_generateLevel:function(){this.levelArray=[],this.levelArray[0]=[];var e;return(e=[])[0]=[0,0,2,2,2,2,2,2,2,2,2,0,0],e[1]=[0,0,2,2,2,2,2,2,2,2,2,0,0],e[2]=[0,0,0,0,0,0,0,0,0,0,0,0,0],e[3]=[0,0,2,2,2,2,2,2,2,2,2,0,0],e[4]=[0,0,2,2,2,2,2,2,2,2,2,0,0],e[5]=[0,0,0,0,0,0,0,0,0,0,0,0,0],e[6]=[0,0,2,2,2,2,2,2,2,2,2,0,0],e[7]=[0,0,2,2,2,2,2,2,2,2,2,0,0],e[8]=[0,2,2,0,2,2,0,2,2,0,2,2,0],e[9]=[0,2,2,0,2,2,0,2,2,0,2,2,0],e[0]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[1]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[2]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[3]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[4]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[5]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[6]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[7]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[8]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[9]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[10]=[0,1,1,1,1,1,1,1,1,1,1,1,0],this.levelArray[0]=this._lineToLevel(e,0,1,11,11),(e=[])[0]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[1]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[2]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[3]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[4]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[5]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[6]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[7]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[8]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[9]=[0,1,1,1,1,1,1,1,1,1,1,1,0],e[10]=[0,1,1,1,1,1,1,1,1,1,1,1,0],this.levelArray[1]=this._lineToLevel(e,0,1,11,11),(e=[])[0]=[0,0,0,0,2,2,2,2,2,0,0,0,0],e[1]=[0,0,0,2,2,2,2,2,2,2,0,0,0],e[2]=[0,0,2,2,2,2,2,2,2,2,2,0,0],e[3]=[0,2,2,2,2,2,2,2,2,2,2,2,0],e[4]=[0,2,2,2,2,2,2,2,2,2,2,2,0],e[5]=[0,2,2,2,2,2,2,2,2,2,2,2,0],e[6]=[0,2,2,2,2,2,2,2,2,2,2,2,0],e[7]=[0,2,2,2,2,2,2,2,2,2,2,2,0],e[8]=[0,0,2,2,2,2,2,2,2,2,2,0,0],e[9]=[0,0,0,2,2,2,2,2,2,2,0,0,0],e[10]=[0,0,0,0,2,2,2,2,2,0,0,0,0],this.levelArray[2]=this._lineToLevel(e,0,1,11,11),this.levelArray},_lineToLevel:function(e,t,n,i,a){for(var o=0,c=[],s=0;s<e[0].length;s++)for(var r=0;r<e.length;r++)if(e[r][s]>=1){var l=-1;s>=n&&s<a+n&&r>=t&&r<i+t&&(l=s-n+(r-t)*a+1),c[o++]=[this.leftTopPointX+s*this.currentBrickWidth+32,this.leftTopPointY-r*this.currentBrickHeight-25,e[r][s],l]}return c}}),cc._RF.pop()},{}],Plank:[function(e,t,n){"use strict";cc._RF.push(t,"f0e85eZYLJCzpMg9SUFaJN0","Plank"),cc.Class({extends:cc.Component,properties:{maxMoveSpeed:0,accel:0,fingerMove:!1,debugMode:!1},onLoad:function(){},start:function(){this._init(),this.setInputControl(),this.gameObject=cc.find("Canvas").getComponent("Game"),this.plankLeftSideReviseWidth=18,this.leftBorderX=679,this.rightBorderX=41-this.plankLeftSideReviseWidth,this.mouseMove=!1},_init:function(){this.accLeft=!1,this.accRight=!1,this.moveSpeed=0},onBeginContact:function(e,t,n){5===n.tag&&(this.node._parent._parent.emit("property"),n.node.active=!1)},setInputControl:function(){var e=this,t=cc.find("Canvas/Play");this.fingerMove?t.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.node.x+=t.touch._point.x-t.touch._prevPoint.x},this):(t.on(cc.Node.EventType.TOUCH_START,function(n){n.touch._point.x<t.width/2?e.accLeft=!0:e.accRight=!0},this),t.on(cc.Node.EventType.TOUCH_END,function(t){e.accLeft=!1,e.accRight=!1},this)),this.debugMode&&(this.node.on(cc.Node.EventType.MOUSE_ENTER,function(t){e.mouseMove=!0},this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(t){e.mouseMove=!1},this),this.node.on(cc.Node.EventType.MOUSE_MOVE,function(t){e.mouseMove&&(e.node.x=t._x)},this))},_plankMove:function(e){var t=this.node.getComponent(cc.RigidBody);if((this.accLeft||this.accRight)&&(this.moveSpeed=this.moveSpeed+this.accel,this.moveSpeed>this.maxMoveSpeed&&(this.moveSpeed=this.maxMoveSpeed)),this.accLeft){var n=-this.moveSpeed;t.linearVelocity=cc.v2(n,0)}else this.accRight?t.linearVelocity=cc.v2(this.moveSpeed,0):(t.linearVelocity=cc.v2(0,0),this.moveSpeed=0);this.node.x>this.leftBorderX-this.node.width/2?this.node.x=this.leftBorderX-this.node.width/2:this.node.x<this.rightBorderX+this.node.width/2&&(this.node.x=this.rightBorderX+this.node.width/2),this.node.children[0].node=this.node.x},update:function(e){this._plankMove(e)}}),cc._RF.pop()},{}],Property:[function(e,t,n){"use strict";cc._RF.push(t,"3289dMT2QRGYJfHLhAydrns","Property"),cc.Class({extends:cc.Component,properties:{property:""},onLoad:function(){},start:function(){},update:function(e){this.node.y<260&&(this.node.opacity>0?this.node.opacity-=15:(this.node.opacity=0,this.node.destroy()))}}),cc._RF.pop()},{}],Punish:[function(e,t,n){"use strict";cc._RF.push(t,"46758//C6pMq5AHDWItV0/b","Punish"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.opacity=0},start:function(){},init:function(e){this.node.x=e.x,this.node.y=245,this.node.opacity=255},update:function(e){this.node.y+=2,this.node.opacity>0?this.node.opacity-=5:this.node.opacity=0}}),cc._RF.pop()},{}],Rank:[function(e,t,n){"use strict";cc._RF.push(t,"a85ca6+unNLWaN7ujmWKgFm","Rank");var i=e("net"),a=e("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==a.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var e=this.statusArray.length;e>12&&(e=12);for(var t=0;t<e;++t){var n=this.statusArray[t],i=n.rank,a=n.avatar,o=n.nickname,c=n.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+t)),t%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(i,a,o,c),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+1))},getStatus:function(e){var t=this,n=i.AREA,o=i.version,c=i.singletoken;cc.log(n,o);var s=a.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+e+"&token="+c)+"!qaz@wsx$"),l=a.url+"/game/single_rank_all?token="+c+"&game_id="+s+"&page="+e+"&sign="+r;cc.log(l),axios.post(l,{},{headers:{AREA:n,"CLIENT-VERSION":o}}).then(function(n){cc.log(n);for(var i=n.data.data.rank_list,a=0;a<i.length;a++)t.statusArray.push(i[a]);t.currentPage=e,t.statusControl(n.data.data.current),t.content.height+=i.length*t.itemHeight,i.length<20&&(t.rankDied=!0),t.loading.opacity=0},this).catch(function(e){cc.log(e)})},statusControl:function(e){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(e),this.refreshRank()):this.refreshRank()},initSelf:function(e){cc.log("self data:",e);var t=e.rank,n=e.avatar,i=e.nickname,a=e.score,o=this.spawnBlock();o.getComponent("Block").init(t,n,i,a),this.self.addChild(o)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(e,t){1==t&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var e=0;e<this.blockArr.length;e++){var t=this.blockArr[e],n=Math.abs(t.y),i=Math.round((n+60)/120)-1;if(cc.log(i),i>this.statusArray.length-1||i<0)t.opacity=0;else{t.opacity=255;var a=this.statusArray[i],o=a.rank,c=a.avatar,s=a.nickname,r=a.score;t.getComponent("Block").init(o,c,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var e=0;e<this.blockArr.length;e++){if(this.content.y+this.blockArr[e].y>660){var t=this.blockArr[e];t.y-=1440;var n=Math.abs(t.y),i=Math.round((n+60)/120);if(i>this.statusArray.length||i<0){t.opacity=0;continue}t.opacity=255;var a=this.statusArray[i-1],o=a.rank,c=a.avatar,s=a.nickname,r=a.score;t.getComponent("Block").init(o,c,s,r)}if(this.content.y+this.blockArr[e].y<-660){var l=this.blockArr[e];l.y+=1440;var p=Math.abs(l.y),h=Math.round((p+60)/120);if(h>this.statusArray.length){l.opacity=0;continue}l.opacity=255;var g=this.statusArray[h-1],d=g.rank,b=g.avatar,u=g.nickname,m=g.score;l.getComponent("Block").init(d,b,u,m)}}},update:function(e){this.statusBeGet&&(this.undateCount+=e,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Regist:[function(e,t,n){"use strict";cc._RF.push(t,"f2989ZMfTZJ0KP7M0q1a2Ye","Regist");var i=e("Common");cc.Class({extends:cc.Component,properties:{propertyDuration:0,game:{default:null,type:cc.Node},plank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){this.clock=0,this.intClock=0,this.timeGo=!0,this.timeNode=cc.find("Canvas/time"),this.timeNodeObject=this.timeNode.getComponent("cc.Label"),this.gameObject=this.node.getComponent("Game"),this.plank=cc.find("Canvas/Play/plank"),this.balls=cc.find("Canvas/Play/balls"),this.brick=cc.find("Canvas/Play/bricks"),this.setpropertyName=cc.find("Canvas/Play/plank/propertyName"),this.propertyList=this._init(),this.ballFaster=!1,this.ballSlower=!1,this.timeNodeObject.string="Time: "+Math.floor(i.time),this.emitEvent()},emitEvent:function(){var e=this;this.node.on("property",function(t){var n=e.propertyList[Math.floor(e.propertyList.length*Math.random())],i="";switch(n[0]){case"plankLonger":i="\u53d8\u957f\uff01",n[1]||e._plankLonger();break;case"plankShorter":i="\u53d8\u77ed\uff01",n[1]||e._plankShorter();break;case"ballFaster":e.ballFasterNum+=1,i="\u52a0\u901f\uff01",n[1]||(e._ballFaster(),e.propertyList[3][2]=e.clock,e.propertyList[2][2]=e.clock);break;case"ballSlower":e.ballFasterNum-=1,i="\u51cf\u901f\uff01",n[1]||(e._ballSlower(),e.propertyList[3][2]=e.clock,e.propertyList[2][2]=e.clock);break;case"ballUnstoppable":i="\u7a7f\u5899\u7403\uff01",n[1]||e._ballUnstoppable();break;case"ballSplit":i="\u53d8\u6210\u4e09\u4e2a\u7403\uff01",e._ballSplit()}e.setpropertyName.getComponent("cc.Label").string=i,e.setpropertyName.y=90,e.setpropertyName.opacity=255,n[1]=!0,n[2]=e.clock},this)},_init:function(){this.propertyArr=[["plankLonger",1],["plankShorter",1],["ballFaster",1],["ballSlower",1],["ballUnstoppable",1],["ballSplit",1]];var e=[];return this.propertyArr.forEach(function(t){for(var n=0;n<t[1];n++){var i=[t[0],!1,0];e.push(i)}}),e},_plankLonger:function(){this.plank.width=1.25*this.plank.width;var e=this.plank.getComponent("cc.PhysicsBoxCollider");e.size.width*=1.25,e.apply()},_plankShorter:function(){this.plank.width=.8*this.plank.width;var e=this.plank.getComponent("cc.PhysicsBoxCollider");e.size.width*=.8,e.apply()},_plankNormal:function(){this.plank.width=269;var e=this.plank.getComponent("cc.PhysicsBoxCollider");e.size.width=250.4,e.apply()},_ballFaster:function(){this.balls.emit("ball",{msg:"ballFaster"})},_ballSlower:function(){this.balls.emit("ball",{msg:"ballSlower"})},_ballNormal:function(){this.balls.emit("ball",{msg:"ballNormal"})},_ballUnstoppable:function(){this.brick.emit("brick",{msg:"ballUnstoppable"})},_ballStoppable:function(){this.brick.emit("brick",{msg:"ballStoppable"})},_ballSplit:function(){cc.log("ballSplit"),this.balls.emit("ball",{msg:"ballSplit"})},_propertyTime:function(){for(var e=0;e<this.propertyList.length;e++){var t=this.propertyList[e];if(t[1]&&this.clock-t[2]>this.propertyDuration){switch(t[0]){case"ballFaster":case"ballSlower":this._ballNormal();break;case"plankLonger":case"plankShorter":this._plankNormal();break;case"ballUnstoppable":this._ballStoppable()}t[1]=!1}}},_propertyMove:function(){this.setpropertyName.y+=1,this.setpropertyName.y>110&&(this.setpropertyName.opacity-=10,this.setpropertyName.opacity<0&&(this.setpropertyName.opacity=0))},timeGo:function(){this.timeGo=!0},update:function(e){if(!this.gameObject.loading.active){if(this.clock+=e,this.timeGo&&Math.floor(10*this.clock)>this.intClock){this.intClock=Math.floor(10*this.clock);this.intClock;i.time+=.1,this.timeNodeObject.string="\u65f6\u95f4: "+Math.floor(i.time)}this._propertyTime(),this._propertyMove()}}}),cc._RF.pop()},{Common:"Common"}],Score:[function(e,t,n){"use strict";cc._RF.push(t,"fe46fb1iOBN/aY+Y8Xju6/r","Score");var i=e("Common");cc.Class({extends:cc.Component,properties:{score:0},onLoad:function(){},start:function(){},init:function(){i.score=0,this.node.getComponent("cc.Label").string="\u5206\u6570: "+i.score},showScore:function(){this.node.getComponent("cc.Label").string="\u5206\u6570: "+i.score},setScoreUp:function(){i.score+=1,this.node.getComponent("cc.Label").string="\u5206\u6570: "+i.score}}),cc._RF.pop()},{Common:"Common"}],Start:[function(e,t,n){"use strict";cc._RF.push(t,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var i=e("Common"),a=e("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var e=this;this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){e.preload=!0,cc.log("preload success",e.preload,e.netload),e.netload&&(e.button.active=!0)})},chooseEnv:function(){if(void 0==a.type)if(void 0==a.token)void 0!==a.singletoken&&(this.rankButton.active=!0,1==a.env?i.url=a.url.appoffline:2==a.env?i.url=a.url.apppre:i.url=a.url.apponline,i.SceneType=10);else{if(1==a.env){var e=void 0;try{e=window.yanqu.getBrowerID()}catch(e){}i.url=a.url.appoffline,i.SceneType="yqbrower"==e?12:1}else i.SceneType=11,2==a.env?i.url=a.url.apppre:i.url=a.url.apponline;5==a.apptype&&(i.SceneType=15)}else 1==a.env?i.url=a.url.wxoffline:2==a.env?i.url=a.url.wxpre:i.url=a.url.wxonline,void 0!==a.singletoken&&(this.rankButton.active=!0,i.SceneType=10),3==a.type?i.SceneType=20:4==a.type?i.SceneType=21:5==a.type&&(i.SceneType=22);cc.log("scenetype:",i.SceneType)},getInfo:function(){var e,t=this,n="room_id="+a.room_id+"&token="+a.token,o=a.version,c=void 0;if(1==i.SceneType)c=hex_md5("YanQu"+n+"!qaz@wsx$"),o=1,a.AREA=1,this.transcend(c,o);else if(12==i.SceneType||15==i.SceneType||11==i.SceneType){var s=a.getSignString(n);c=s[0],o=s[1],a._version=o,this.transcend(c,o)}else if(20==i.SceneType||21==i.SceneType||22==i.SceneType)this.transcend();else if(10==i.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));e=i.url+"/live_game/revive?token="+a.token+"&room_id="+a.room_id+"&sign="+c,axios.post(e,{},{headers:{AREA:a.AREA,"CLIENT-VERSION":o}}).then(function(e){cc.log("start respose:",e);var n=e.data.data;i.reborn=n,t.netload=!0,t.preload&&(t.button.active=!0)}).catch(function(e){t.button.active=!0,cc.log(e)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(e,t){cc.log(e,t);var n,o=a.token,c=a.room_id,s=e;void 0==e&&(s=hex_md5("YanQu"+("room_id="+c+"&token="+o)+"!qaz@wsx$"));var r=a.AREA,l=t;void 0==t&&(l=a.version),n=i.url+"/live/section_rank_score?token="+o+"&room_id="+c+"&sign="+s,axios.post(n,{},{headers:{AREA:r,"CLIENT-VERSION":l}}).then(function(e){cc.log("rank:",e),Object.keys(e.data.data.rank).forEach(function(t){i.rank.push(e.data.data.rank[t])}),cc.log(i.rank)},this).catch(function(e){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(a))},update:function(e){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],endbg:[function(e,t,n){"use strict";cc._RF.push(t,"b0123F/GzdDoYtgcFawA/yh","endbg");var i=e("Common"),a=e("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",a),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){this.node.zIndex=2,this.node.active=!0,10===i.SceneType?(this.weixing.active=!0,this.putongRank()):11===i.SceneType||12===i.SceneType||1===i.SceneType?(this.hongbao.active=!0,this.hongBao()):20===i.SceneType?(this.weixing.active=!0,this.wechat()):21===i.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===i.SceneType||15===i.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+i.score)},start:function(){},putongRank:function(){var e=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var t,n=a.singletoken,o=a.AREA,c="game_id="+i.GameId+"&score="+e+"&token="+n,s=hex_md5("YanQu"+c+"!qaz@wsx$"),r=a.version;t=i.url+"/game/single_push_data?token="+n+"&game_id="+i.GameId+"&score="+e+"&sign="+s,cc.log(t),axios.post(t,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(cc.log("code:",t),400404==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){10==i.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank,a=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,a===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,a===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,a===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},hongBao:function(){var e=i.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=e;var t,n=a.token,o=a.room_id,c=a.AREA,s=(a.env,"room_id="+o+"&score="+e+"&token="+n),r=void 0,l=void 0;try{var p=window.yanqu.getSignString(s);r=JSON.parse(p).sign.sign,l=JSON.parse(p).header.VERSION}catch(e){}1===i.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),t=i.url+"/live_game/push_data?token="+n+"&score="+e+"&room_id="+o+"&sign="+r,axios.post(t,{},{headers:{AREA:c,"CLIENT-VERSION":l}}).then(function(e){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="";var n=e.data.data.rank_list,i=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechat:function(){var e=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var t,n=a.token,o=a.room_id,c=a.AREA,s=hex_md5("YanQu"+("room_id="+o+"&score="+e+"&token="+n)+"!qaz@wsx$"),r=a.version;t=i.url+"/live_game/push_data?token="+n+"&score="+e+"&room_id="+o+"&sign="+s,cc.log(t),axios.post(t,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(cc.log("code:",t),400404==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank_list,i=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechathelp:function(){var e,t=a.token,n=a.room_id,o=a.AREA,c="help_score="+i.score+"&room_id="+n+"&token="+t+"&user_id="+a.helpuid,s=hex_md5("YanQu"+c+"!qaz@wsx$");e=i.url+"/live_game/push_data?token="+t+"&help_score="+i.score+"&room_id="+n+"&user_id="+a.helpuid+"&sign="+s;var r=a.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="";var n=e.data.data.rank_list,a=e.data.data.current_rank,o=e.data.data.max_help_score;console.log("head",n),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+o+" \u5206",n[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,a===n[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,a===n[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,a===n[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==t){var c=e.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(e){cc.log(e)})},teamend:function(){cc.log("team");var e,t=a.token,n=a.room_id,o=a.AREA,c="room_id="+n+"&score="+i.score+"&token="+t,s=hex_md5("YanQu"+c+"!qaz@wsx$");e=i.url+"/live_game/push_data?token="+t+"&score="+i.score+"&room_id="+n+"&sign="+s;var r=a.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank_list,a=e.data.data.current_rank,o=e.data.data.max_score;console.log("head",n),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+o+" \u5206",n[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,a===n[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,a===n[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,a===n[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==t){var c=e.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(e){cc.log(e)})},turn:function(){i.score=0,i.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(e,t,n){"use strict";cc._RF.push(t,"62e73sDA6dOGolthqoGzpA1","net");var i=function(){var e=window.location.search,t=new Object;if(-1!=e.indexOf("?"))for(var n=e.substr(1),i=n.split("&"),a=0;a<i.length;a++)t[i[a].split("=")[0]]=i[a].split("=")[1];return t}();var a={token:i.token,room_id:i.room_id,AREA:i.AREA,env:i.env,type:i.type,version:i.version,helpuid:i.helpuid,teamid:i.teamid,apptype:i.apptype,singletoken:i.singletoken,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(e){var t=[];try{var n=window.yanqu.getSignString(e),i=JSON.parse(n).sign.sign,a=JSON.parse(n).header.VERSION;t.push(i),t.push(a)}catch(e){}return t}};t.exports=a,cc._RF.pop()},{}]},{},["Common","Ball","FirstScene","Label","Brick","Button","Cover","Game","Letter","Level","Plank","Property","Punish","Regist","Score","Block","Rank","Start","endbg","net"]);