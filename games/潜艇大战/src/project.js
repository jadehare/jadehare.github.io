window.__require=function e(n,t,i){function o(c,s){if(!t[c]){if(!n[c]){var r=c.split("/");if(r=r[r.length-1],!n[r]){var h="function"==typeof __require&&__require;if(!s&&h)return h(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+c+"'")}}var l=t[c]={exports:{}};n[c][0].call(l.exports,function(e){return o(n[c][1][e]||e)},l,l.exports,e,n,t,i)}return t[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({Block:[function(e,n,t){"use strict";cc._RF.push(n,"7678faPbyJLrph1RxP8mctM","Block");var i=e("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(e,n,t,o){var a=this;this.rankLabel.string=e,this.rankLabel.node.color="1"==e?new cc.Color(255,0,0,255):"2"==e?new cc.Color(255,102,0,255):"3"==e?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=t,this.score.string=o,""==n||(cc.log("load pic",i.url+"/"+n),cc.loader.load("http://image.dialect-tv.com/"+n,function(e,n){e&&console.error(e),a.userIcon.spriteFrame=new cc.SpriteFrame(n)}))}}),cc._RF.pop()},{Common:"Common"}],Boom:[function(e,n,t){"use strict";cc._RF.push(n,"56821V+nHNA9oItu5mg2zfi","Boom");var i=e("Common");cc.Class({extends:cc.Component,properties:{},start:function(){this.bomb_father=cc.find("Canvas/diveBomb_father"),this.bomb_father_control=this.bomb_father.getComponent("DiveBombControl"),this.boomCount=1},onBoomEnd:function(){this.node.destroy()},onCollisionEnter:function(e,n){"submarine"==e.node.group?(this.boomCount+=1,"normal"==e.node.name?i.score+=10*this.boomCount:"mine"==e.node.name?i.score+=20*this.boomCount:"missile"==e.node.name?i.score+=30*this.boomCount:"bonus"==e.node.name&&(i.score+=40*this.boomCount),this.bomb_father_control.bombSub(this.node,e.node)):"fellyfish"==e.node.group?(this.boomCount+=1,i.score+=50*this.boomCount,this.bomb_father_control.bombSub(this.node,e.node)):e.node.group}}),cc._RF.pop()},{Common:"Common"}],Common:[function(e,n,t){"use strict";cc._RF.push(n,"1044aaSIN1JNrM3vB4tD6o8","Common"),n.exports={score:0,SceneType:0,reborn:{},rebornTime:1,GameId:55,url:"",rank:[]},cc._RF.pop()},{}],Control:[function(e,n,t){"use strict";cc._RF.push(n,"f80a3TNd/RJL6kuN0ryjfjc","Control"),cc.Class({extends:cc.Component,properties:{forward:{default:null,type:cc.Node},backward:{default:null,type:cc.Node},bomb:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},ship:{default:null,type:cc.Node},bomb_father:{default:null,type:cc.Node}},start:function(){this.playerMoveSpeed=200,this.player_move_forward=!1,this.player_move_backward=!1,this.diveBombControl=this.bomb_father.getComponent("DiveBombControl"),this.setInputControl()},setInputControl:function(){var e=this;this.forward.on(cc.Node.EventType.TOUCH_START,function(n){e.player_move_backward=!1,e.player_move_forward=!0}),this.forward.on(cc.Node.EventType.TOUCH_END,function(n){e.player_move_forward=!1}),this.forward.on(cc.Node.EventType.TOUCH_CANCEL,function(n){e.player_move_forward=!1}),this.backward.on(cc.Node.EventType.TOUCH_START,function(n){e.player_move_forward=!1,e.player_move_backward=!0}),this.backward.on(cc.Node.EventType.TOUCH_END,function(n){e.player_move_backward=!1}),this.backward.on(cc.Node.EventType.TOUCH_CANCEL,function(n){e.player_move_backward=!1}),this.bomb.on(cc.Node.EventType.TOUCH_START,function(n){e.diveBombControl.dropBomb()})},update:function(e){this.player_move_forward?this.ship.x+=this.playerMoveSpeed*e:this.player_move_backward&&(this.ship.x-=this.playerMoveSpeed*e),this.ship.x>this.canvas.width/2-10?this.ship.x=this.canvas.width/2-10:this.ship.x<-this.canvas.width/2+10&&(this.ship.x=-this.canvas.width/2+10)}}),cc._RF.pop()},{}],DiveBombControl:[function(e,n,t){"use strict";cc._RF.push(n,"c6ea32wA/RIY4mY/cVgRaim","DiveBombControl"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node},bomb_prefab:{default:null,type:cc.Prefab},ship:{default:null,type:cc.Node},boom_prefab:{default:null,type:cc.Prefab},submarine_father:{default:null,type:cc.Node},drop_audio:{default:null,type:cc.AudioClip},boom_audio:{default:null,type:cc.AudioClip}},start:function(){this.gameControl=this.canvas.getComponent("Game"),this.shipControl=this.ship.getComponent("Ship"),this.bombPool=new cc.NodePool;for(var e=0;e<6;++e){var n=cc.instantiate(this.bomb_prefab);this.bombPool.put(n)}this.bombNum=6,this._init()},dropBomb:function(){if(!(this.bombNum<1)){this.shipControl.gameEnded||cc.audioEngine.play(this.drop_audio,!1,1),this.bombNum-=1,this._getBombs();var e=this._spawnBomb();e.position=cc.v2(this.ship.position.x,this.ship.position.y-30),this.canvas.addChild(e),e.getComponent("DiveBomb").drop()}},bombSub:function(e,n){var t=this._spawnBoom();this.ship.gameEnded||cc.audioEngine.play(this.boom_audio,!1,1),t.position=n.position,this.canvas.addChild(t),"baozha"==e.name||this.recycleBomb(e),"fellyfish"==n.name?n.destroy():("bonus"==n.name&&this.gameControl.spawnProperty(cc.v2(n.x,n.y)),this.gameControl.submarinePool.put(n))},nuclear:function(){for(var e=this.submarine_father.children,n=e.length,t=0;t<n;t++){var i=this._spawnBoom();this.ship.gameEnded||cc.audioEngine.play(this.boom_audio,!1,1),i.position=e[0].position,this.canvas.addChild(i),"bonus"==e[0].name&&this.gameControl.spawnProperty(cc.v2(e[0].x,e[0].y)),this.gameControl.submarinePool.put(e[0])}},shipBoom:function(e){var n=this._spawnBoom();cc.audioEngine.play(this.boom_audio,!1,1),n.position=e,this.canvas.addChild(n)},recycleBomb:function(e){this.bombPool.put(e),this.bombNum>6||(this.bombNum+=1,this._getBombs())},_init:function(){this.bombNum=6,this._getBombs()},_getBombs:function(){for(var e=this.node.children,n=e.length,t=0;t<n;t++)this.bombPool.put(e[0]);for(var i=0;i<this.bombNum;i++){var o=this._spawnBomb();this.node.addChild(o)}},_spawnBomb:function(){var e=null;return(e=this.bombPool.size()>0?this.bombPool.get():cc.instantiate(this.bomb_prefab)).position=cc.v2(0,0),e},_spawnBoom:function(){return cc.instantiate(this.boom_prefab)}}),cc._RF.pop()},{}],DiveBomb:[function(e,n,t){"use strict";cc._RF.push(n,"16765X3yztDLJqLH1E7ivyp","DiveBomb");var i=e("Common");cc.Class({extends:cc.Component,properties:{},start:function(){this.bomb_father=cc.find("Canvas/diveBomb_father"),this.bomb_father_control=this.bomb_father.getComponent("DiveBombControl"),this.speed=150,this.droping=!1},drop:function(){this.droping=!0},onCollisionEnter:function(e,n){"submarine"==e.node.group?(this.droping=!1,"normal"==e.node.name?i.score+=10:"mine"==e.node.name?i.score+=20:"missile"==e.node.name?i.score+=30:"bonus"==e.node.name&&(i.score+=40),this.bomb_father_control.bombSub(this.node,e.node)):"fellyfish"==e.node.group&&(this.droping=!1,i.score+=50,this.bomb_father_control.bombSub(this.node,e.node))},update:function(e){this.droping&&(this.node.y-=this.speed*e),this.node.y<-400&&(this.droping=!1,this.bomb_father_control.recycleBomb(this.node))}}),cc._RF.pop()},{Common:"Common"}],EnemyBomb:[function(e,n,t){"use strict";cc._RF.push(n,"624e9ablFlCSL3Fj0r1cB1R","EnemyBomb"),cc.Class({extends:cc.Component,properties:{},start:function(){this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game")},init:function(){"miiine"==this.node.name?(this.miiineWeapon=!0,this.misssiiileWeapon=!1):"misssiiile"==this.node.name&&(this.miiineWeapon=!1,this.misssiiileWeapon=!0)},miiine:function(e){var n=this;this.miiineWeapon&&(this.node.y>300?(this.node.y=300,this.scheduleOnce(function(){n.gameControl.minePool.put(n.node)},.5)):this.node.y<300&&(this.node.y+=120*e))},misssiiile:function(e){this.misssiiileWeapon&&(45==this.node.rotation?(this.node.x+=200*e,this.node.y+=200*e):-45==this.node.rotation?(this.node.x-=200*e,this.node.y+=200*e):0==this.node.rotation&&(this.node.y+=300*e),this.node.y>100+-200*Math.random()&&(this.node.rotation=0),this.node.y>700&&this.gameControl.missilePool.put(this.node))},update:function(e){this.miiine(e),this.misssiiile(e)}}),cc._RF.pop()},{}],Fellyfish:[function(e,n,t){"use strict";cc._RF.push(n,"0958456+FxEya310DHCpRi5","Fellyfish"),cc.Class({extends:cc.Component,properties:{},start:function(){this.ship=cc.find("Canvas/ship"),this.moveControl()},moveControl:function(){var e=this;this.scheduleOnce(function(){if(e.node.y<300){var n=50;e.node.x>e.ship.x&&(n=-50);var t=cc.moveBy(1,cc.v2(n,100));e.node.runAction(t)}else{var i=50;e.node.x>e.ship.x&&(i=-50);var o=cc.moveBy(1,cc.v2(i,0));e.node.runAction(o)}e.moveControl()},2)}}),cc._RF.pop()},{}],Game:[function(e,n,t){"use strict";cc._RF.push(n,"22b7fjwhh9FQpw9ffQZZdPX","Game");var i=e("Common");cc.Class({extends:cc.Component,properties:{ship:{default:null,type:cc.Node},submarine_pre:{default:null,type:cc.Prefab},jellyfish_pre:{default:null,type:cc.Prefab},submarine_father:{default:null,type:cc.Node},submarine_sprite:{default:[],type:cc.Sprite},property_sprite:{default:[],type:cc.Sprite},missile_pre:{default:null,type:cc.Prefab},mine_pre:{default:null,type:cc.Prefab},fellyfish_pre:{default:null,type:cc.Prefab},property_pre:{default:null,type:cc.Prefab},scoreLabel:{default:null,type:cc.Label},rpg_audio:{default:null,type:cc.AudioClip}},onLoad:function(){cc.view.enableAntiAlias(!1),cc.director.getCollisionManager().enabled=!0},start:function(){this.difficulty=1,this.DP=difficultLevel.l1,this.clockStatus=!1,this.shipControl=this.ship.getComponent("Ship"),TYPE.normal.sprite=this.submarine_sprite[0],TYPE.mine.sprite=this.submarine_sprite[1],TYPE.missile.sprite=this.submarine_sprite[2],TYPE.bonus.sprite=this.submarine_sprite[3],this._init()},_init:function(){this.submarinePool=new cc.NodePool;for(var e=0;e<5;++e){var n=cc.instantiate(this.submarine_pre);this.submarinePool.put(n)}this.minePool=new cc.NodePool;for(var t=0;t<20;++t){var i=cc.instantiate(this.mine_pre);this.minePool.put(i)}this.missilePool=new cc.NodePool;for(var o=0;o<20;++o){var a=cc.instantiate(this.missile_pre);this.missilePool.put(a)}this.getBonusSub(),this.difficultyControl()},difficultyControl:function(){var e=this,n="l"+this.difficulty;this.DP=difficultLevel[n],1==this.difficulty?(this.getNormalSubmarine(),this.getMineSub()):3==this.difficulty?this.getMissiSub():5==this.difficulty&&this.getFelly(),this.scheduleOnce(function(){e.difficulty+=1,e.difficulty>=10||e.difficultyControl()},40)},getNormalSubmarine:function(){var e=this;this.scheduleOnce(function(){e._spawnSubmarine("normal"),e.getNormalSubmarine()},Math.random()*this.DP.normal+this.DP.normal/2)},getMineSub:function(){var e=this;this.scheduleOnce(function(){e._spawnSubmarine("mine"),e.getMineSub()},Math.random()*this.DP.mine+this.DP.mine/2)},getMissiSub:function(){var e=this;this.scheduleOnce(function(){e._spawnSubmarine("missile"),e.getMissiSub()},Math.random()*this.DP.missile+this.DP.missile/2)},getFelly:function(){var e=this;this.scheduleOnce(function(){e._spawnFellyfish(),e.getFelly()},Math.random()*this.DP.felly+this.DP.felly)},getBonusSub:function(){var e=this;this.scheduleOnce(function(){e._spawnSubmarine("bonus"),e.getBonusSub()},60*Math.random())},_spawnSubmarine:function(e){if(!this.clockStatus){var n=null;(n=this.submarinePool.size()>0?this.submarinePool.get():cc.instantiate(this.submarine_pre)).name=e,n.getComponent(cc.Sprite).spriteFrame=TYPE[e].sprite.spriteFrame,n.y=580*Math.random()-400;var t=n.getComponent("Submarine");Math.random()>.5?t.init(0,this.difficulty):t.init(1,this.difficulty),this.submarine_father.addChild(n)}},_spawnFellyfish:function(){var e=cc.instantiate(this.fellyfish_pre);e.setPosition((Math.random()-.5)*this.node.width,-400),this.submarine_father.addChild(e)},spawnProperty:function(e){var n=cc.instantiate(this.property_pre);n.setPosition(e);var t=this.property_sprite[Math.floor(5*Math.random())];n.name=t.name,n.getComponent(cc.Sprite).spriteFrame=t.spriteFrame,this.node.addChild(n)},spawnMine:function(e){var n=null;(n=this.minePool.size()>0?this.minePool.get():cc.instantiate(this.mine_pre)).setPosition(e),n.getComponent("EnemyBomb").init(),this.node.addChild(n)},spawnMissile:function(e){this.shipControl.gameEnded||cc.audioEngine.play(this.rpg_audio,!1,1);var n=null;n=this.missilePool.size()>0?this.missilePool.get():cc.instantiate(this.missile_pre),this.ship.x>e.x?n.rotation=45:n.rotation=-45,n.setPosition(e),n.getComponent("EnemyBomb").init(),this.node.addChild(n)},rebornGame:function(){this.ship.opacity=255,this.shipControl.goldenStatus(3),this.shipControl.gameEnded=!1},update:function(e){this.scoreLabel.string=i.score}}),cc._RF.pop()},{Common:"Common"}],Property:[function(e,n,t){"use strict";cc._RF.push(n,"d61ecsPuxJJnYpDauhJqug5","Property"),cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(e){var n=this;this.node.y>300?(this.node.y=300,this.scheduleOnce(function(){n.node.destroy()},1)):this.node.y<300&&(this.node.y+=120*e)}}),cc._RF.pop()},{}],Rank:[function(e,n,t){"use strict";cc._RF.push(n,"a85ca6+unNLWaN7ujmWKgFm","Rank");var i=e("net"),o=e("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==o.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var e=this.statusArray.length;e>12&&(e=12);for(var n=0;n<e;++n){var t=this.statusArray[n],i=t.rank,o=t.avatar,a=t.nickname,c=t.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+n)),n%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(i,o,a,c),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+=1))},getStatus:function(e){var n=this,t=i.AREA,a=i.version,c=i.singletoken;cc.log(t,a);var s=o.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+e+"&token="+c)+"!qaz@wsx$"),h=o.url+"/game/single_rank_all?token="+c+"&game_id="+s+"&page="+e+"&sign="+r;cc.log(h),axios.post(h,{},{headers:{AREA:t,"CLIENT-VERSION":a}}).then(function(t){cc.log(t);for(var i=t.data.data.rank_list,o=0;o<i.length;o++)n.statusArray.push(i[o]);n.currentPage=e,n.statusControl(t.data.data.current),n.content.height+=i.length*n.itemHeight,i.length<20&&(n.rankDied=!0),n.loading.opacity=0},this).catch(function(e){cc.log(e)})},statusControl:function(e){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(e)):this.refreshRank()},initSelf:function(e){cc.log("self data:",e);var n=e.rank,t=e.avatar,i=e.nickname,o=e.score,a=this.spawnBlock();a.getComponent("Block").init(n,t,i,o),this.self.addChild(a)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(e,n){1==n&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var e=0;e<this.blockArr.length;e++){var n=this.blockArr[e],t=Math.abs(n.y),i=Math.round((t+60)/120)-1;if(i>this.statusArray.length-1||i<0)n.opacity=0;else{n.opacity=255;var o=this.statusArray[i],a=o.rank,c=o.avatar,s=o.nickname,r=o.score;n.getComponent("Block").init(a,c,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var e=0;e<this.blockArr.length;e++){if(this.content.y+this.blockArr[e].y>660){var n=this.blockArr[e];n.y-=1440;var t=Math.abs(n.y),i=Math.round((t+60)/120);if(i>this.statusArray.length||i<0){n.opacity=0;continue}n.opacity=255;var o=this.statusArray[i-1],a=o.rank,c=o.avatar,s=o.nickname,r=o.score;n.getComponent("Block").init(a,c,s,r)}if(this.content.y+this.blockArr[e].y<-660){var h=this.blockArr[e];h.y+=1440;var l=Math.abs(h.y),d=Math.round((l+60)/120);if(d>this.statusArray.length){h.opacity=0;continue}h.opacity=255;var u=this.statusArray[d-1],p=u.rank,g=u.avatar,m=u.nickname,b=u.score;h.getComponent("Block").init(p,g,m,b)}}},update:function(e){this.statusBeGet&&(this.undateCount+=e,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Reborn:[function(e,n,t){"use strict";cc._RF.push(n,"faf9bra/O1C6rUqHeQpUUcT","Reborn");var i=e("net"),o=e("Common");cc.game.watchend=function(){cc.game.emit("WATCH_TV_END")},cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Node},reborn_price:{default:null,type:cc.Node},background:{default:null,type:cc.Node},pay_success:{default:null,type:cc.Node},no_enough_money:{default:null,type:cc.Node},net_err:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},black:{default:null,type:cc.Node},panel:{default:null,type:cc.Node},videoButton:{default:null,type:cc.Node},rebornButton:{default:null,type:cc.Node},pray:{default:null,type:cc.Node}},onLoad:function(){var e=this;void 0==i.type&&cc.game.on("WATCH_TV_END",function(){e.rebornSuccess()},this)},start:function(){this.net_err.active=!1,this.pray.active=!1,this.node.active=!1,this.no_enough_money.active=!1,this.pay_success.active=!1,this.background.active=!1,this.black.active=!1,this.gameObject=this.canvas.getComponent("Game")},showLabel:function(){if(this.node.zIndex=10,this.unscheduleAllCallbacks(),void 0!=i.type)return this.goDie(),this.videoButton.active=!1,void(this.rebornButton.x=0);var e=o.reborn;cc.log("reborn:",e,i.room_id),void 0!=e?void 0!=i.room_id?1==e.revive?(this.score.getComponent("cc.Label").string=o.score+" \u5206",o.rebornTime<4&&0!=e.subsection[o.rebornTime]?(this.node.active=!0,this.panel.active=!0,this.background.active=!0,this.black.active=!0,this.reborn_price.getComponent("cc.Label").string="X "+e.subsection[o.rebornTime]):this.goDie()):this.goDie():this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1):this.goDie()},reborn:function(){var e=this;this.pray.active=!0;var n=o.reborn;if(parseInt(n.coin)<parseInt(n.subsection[o.rebornTime]))return this.no_enough_money.active=!0,this.no_enough_money.opacity=255,this.no_enough_money.stopAllActions(),this.no_enough_money.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5))),void(this.pray.active=!1);var t=void 0,a=1,c="num="+o.rebornTime+"&room_id="+i.room_id+"&token="+i.token;if(1==o.SceneType){var s=hex_md5("YanQu"+c+"!qaz@wsx$");a=1,t=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+s}else if(12==o.SceneType||15==o.SceneType||11==o.SceneType){var r=i.getSignString(c),h=r[0];a=r[1],t=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+h}else{if(20!=o.SceneType&&21!=o.SceneType&&22!=o.SceneType)return void this.goDie();var l=hex_md5("YanQu"+c+"!qaz@wsx$");a=i.version,t=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+l}cc.log("reborn url:",t);var d=this;axios.post(t,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":a}}).then(function(n){cc.log(n);var t=n.data.data;void 0!=t?(o.reborn.coin=t.coin,1==t.is_pay?e.rebornSuccess():(e.node.active=!0,e.background.active=!0)):e.goDie()}).catch(function(e){d.pray.active=!1,d.net_err.active=!0,d.net_err.opacity=255,d.net_err.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5)))})},rebornSuccess:function(){var e=this;cc.log("reborn success"),o.rebornTime+=1,this.panel.active=!1,this.pray.active=!1,this.pay_success.active=!0,this.pay_success.opacity=255,this.pay_success.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5))),this.scheduleOnce(function(){e.node.active=!1},1),this.canvas.getComponent("Game").rebornGame()},showvideoads:function(){try{yanqu.showVideoAds()}catch(e){alert("\u89c6\u9891\u590d\u6d3b\u4e0d\u53ef\u7528",e)}},goDie:function(){cc.find("Canvas/bg").getComponent("endbg").init(),this.node.active=!1},update:function(e){}}),cc._RF.pop()},{Common:"Common",net:"net"}],Ship:[function(e,n,t){"use strict";cc._RF.push(n,"c63c34QLshA3aY+GNYrWhHr","Ship");var i=e("Common");cc.Class({extends:cc.Component,properties:{golden:{default:null,type:cc.Node},strawberry:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},camera:{default:null,type:cc.Node},diveBomb_father:{default:null,type:cc.Node},property_audio:{default:null,type:cc.AudioClip}},start:function(){this.gameEnded=!1,this.goldenType=!1,this.strawberryType=!1,this.bombControl=this.diveBomb_father.getComponent("DiveBombControl"),this.gameControl=this.canvas.getComponent("Game"),this.canvasInputControl()},onCollisionEnter:function(e,n){if("property"==e.node.group)this.gameEnded||cc.audioEngine.play(this.property_audio,!1,1),cc.log(e.node.name),"golden<Sprite>"==e.node.name?this.goldenStatus(10):"strawberry<Sprite>"==e.node.name?this.strawberryStatus():"clock<Sprite>"==e.node.name?this.clockStatus():"nu-bomb<Sprite>"==e.node.name?this.getNuBomb():"pig<Sprite>"==e.node.name&&this.getPig(),e.node.destroy();else if("boom"==e.node.group||"sub_bomb"==e.node.group){if("sub_bomb"==e.node.group&&e.node.destroy(),this.goldenType)return;this.gameEnded||this.gameEnd()}},getPig:function(){i.score+=1e3},getNuBomb:function(){this.bombControl.nuclear()},strawberryStatus:function(){this.strawberryType=!0,this.strawberry.opacity=255,this.unschedule(this.removeStrawberryStatus),this.scheduleOnce(this.removeStrawberryStatus,10)},removeStrawberryStatus:function(){this.strawberryType=!1,this.strawberry.opacity=0},clockStatus:function(){this.gameControl.clockStatus=!0,this.unschedule(this.removeClockStatus),this.scheduleOnce(this.removeClockStatus,5)},removeClockStatus:function(){this.gameControl.clockStatus=!1},goldenStatus:function(e){this.goldenType=!0,this.golden.opacity=255,this.unschedule(this.removeGoldenStatus),this.golden.stopAllActions(),this.scheduleOnce(this.removeGoldenStatus,e)},removeGoldenStatus:function(){var e=this,n=cc.sequence(cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.callFunc(function(){e.goldenType=!1}));this.golden.runAction(n)},canvasInputControl:function(){var e=this;this.camera.on(cc.Node.EventType.TOUCH_START,function(n){e.strawberryType&&(e.node.x=n.touch._point.x-e.camera.width/2)})},gameEnd:function(){this.gameEnded=!0,this.bombControl.shipBoom(this.node.position),this.node.opacity=0,this.diveBomb_father.removeAllChildren(),this.scheduleOnce(function(){cc.find("Canvas/reborn").getComponent("Reborn").showLabel()},1)}}),cc._RF.pop()},{Common:"Common"}],Start:[function(e,n,t){"use strict";cc._RF.push(n,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var i=e("Common"),o=e("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var e=this;void 0==o.type&&this.showadstrue(),this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){e.preload=!0,cc.log("preload success",e.preload,e.netload),e.netload&&(e.button.active=!0)})},showadstrue:function(){try{yanqu.showAds(!0)}catch(e){cc.log(e)}},showadsfalse:function(){try{yanqu.showAds(!1)}catch(e){cc.log(e)}},chooseEnv:function(){if(void 0==o.type)if(void 0==o.token)void 0!==o.singletoken&&(this.rankButton.active=!0,1==o.env?i.url=o.url.appoffline:2==o.env?i.url=o.url.apppre:i.url=o.url.apponline,i.SceneType=10);else{if(1==o.env){var e=void 0;try{e=window.yanqu.getBrowerID()}catch(e){}i.url=o.url.appoffline,i.SceneType="yqbrower"==e?12:1}else i.SceneType=11,2==o.env?i.url=o.url.apppre:i.url=o.url.apponline;5==o.apptype&&(i.SceneType=15)}else 1==o.env?i.url=o.url.wxoffline:2==o.env?i.url=o.url.wxpre:i.url=o.url.wxonline,void 0!==o.singletoken&&(this.rankButton.active=!0,i.SceneType=10),3==o.type?i.SceneType=20:4==o.type?i.SceneType=21:5==o.type&&(i.SceneType=22);cc.log("scenetype:",i.SceneType)},getInfo:function(){var e,n=this,t="room_id="+o.room_id+"&token="+o.token,a=o.version,c=void 0;if(1==i.SceneType)c=hex_md5("YanQu"+t+"!qaz@wsx$"),this.transcend(c,a);else if(12==i.SceneType||15==i.SceneType||11==i.SceneType){var s=o.getSignString(t);c=s[0],a=s[1],o._version=a,this.transcend(c,a)}else if(20==i.SceneType||21==i.SceneType||22==i.SceneType)c=hex_md5("YanQu"+t+"!qaz@wsx$"),this.transcend();else if(10==i.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));e=i.url+"/live_game/revive?token="+o.token+"&room_id="+o.room_id+"&sign="+c,axios.post(e,{},{headers:{AREA:o.AREA,"CLIENT-VERSION":a}}).then(function(e){cc.log("revive:",e);var t=e.data.data;i.reborn=t,n.netload=!0,n.preload&&(n.button.active=!0)}).catch(function(e){n.netload=!0,n.preload&&(n.button.active=!0),cc.log(e)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){void 0==o.type&&this.showadsfalse(),cc.director.loadScene("GameScene")},transcend:function(e,n){cc.log(e,n);var t,a=o.token,c=o.room_id,s=e;void 0==e&&(s=hex_md5("YanQu"+("room_id="+c+"&token="+a)+"!qaz@wsx$"));var r=o.AREA,h=n;void 0==n&&(h=o.version),t=i.url+"/live/section_rank_score?token="+a+"&room_id="+c+"&sign="+s,axios.post(t,{},{headers:{AREA:r,"CLIENT-VERSION":h}}).then(function(e){cc.log("\u8d85\u8d8a\uff1a",e),Object.keys(e.data.data.rank).forEach(function(n){i.rank.push(e.data.data.rank[n])})},this).catch(function(e){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){this.hideButtonCount++,this.hideButtonCount>3&&(alert(JSON.stringify(o)),this.hideButtonCount=0)},update:function(e){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],Submarine:[function(e,n,t){"use strict";cc._RF.push(n,"e1f4f4JUxhGWZEkCgWVweR+","Submarine"),cc.Class({extends:cc.Component,properties:{},start:function(){this.ship=cc.find("Canvas/ship"),this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game")},init:function(e,n){var t=this;this.unscheduleAllCallbacks(),this.difficulty=n,"bonus"==this.node.name&&this.scheduleOnce(function(){t.speed*=2},2*Math.random()+1),this.speed=100+100*Math.random(),0==e?(this.node.scaleX=1,this.node.x=-400):(this.node.scaleX=-1,this.speed*=-1,this.node.x=400),this.weaponControl()},weaponControl:function(){"missile"==this.node.name?this.missileControl():"mine"==this.node.name&&this.mineControl()},missileControl:function(){var e=this;this.scheduleOnce(function(){e.gameControl.clockStatus||e.gameControl.spawnMissile(cc.v2(e.node.x,e.node.y)),e.missileControl()},3*Math.random()+1)},mineControl:function(){var e=this;this.scheduleOnce(function(){e.gameControl.clockStatus||e.gameControl.spawnMine(cc.v2(e.node.x,e.node.y)),e.mineControl()},3*Math.random()+1)},update:function(e){this.gameControl.clockStatus||(this.node.x+=this.speed*e,this.node.x>450?(this.node.x=450,this.gameControl.submarinePool.put(this.node)):this.node.x<-450&&(this.node.x=-450,this.gameControl.submarinePool.put(this.node)))}}),cc._RF.pop()},{}],chaoyue:[function(e,n,t){"use strict";cc._RF.push(n,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var i=e("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",i.SceneType,i.rank),(11===i.SceneType||12===i.SceneType||20===i.SceneType||1==i.SceneType)&&0!=i.rank.length){this._ranking=i.rank.length,this.transcendFunc();var e=cc.instantiate(this.transcendPrefab);this.node.addChild(e),e.opacity=0,e.getComponent("transcend").init(i.rank[this._ranking-1].avatar,i.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",i.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var e=i.rank,n=this.scoreLabel.string,t=0;t<e.length;t++)if(Number(n)>Number(e[t].score)&&(cc.log(n,e[t].score,t),this._ranking>t)){var o=cc.instantiate(this.transcendPrefab);this.node.addChild(o),o.setPosition(cc.v2(0,0)),o.opacity=0,o.getComponent("transcend").init(i.rank[t].avatar,i.rank[t].rank);var a=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return o.runAction(a),this._ranking=t,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(e,n,t){"use strict";cc._RF.push(n,"b0123F/GzdDoYtgcFawA/yh","endbg");var i=e("Common"),o=e("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",o),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){void 0==o.type&&this.showadstrue(),this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===i.SceneType?(this.weixing.active=!0,this.putongRank()):11===i.SceneType||12===i.SceneType||1===i.SceneType?(this.hongbao.active=!0,this.hongBao()):20===i.SceneType?(this.weixing.active=!0,this.wechat()):21===i.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===i.SceneType||15===i.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+i.score)},start:function(){},putongRank:function(){var e=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var n,t=o.singletoken,a=o.AREA,c="game_id="+i.GameId+"&score="+e+"&token="+t,s=hex_md5("YanQu"+c+"!qaz@wsx$"),r=o.version;n=i.url+"/game/single_push_data?token="+t+"&game_id="+i.GameId+"&score="+e+"&sign="+s,cc.log(n),axios.post(n,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var n=e.data.code;if(cc.log("code:",n),400404==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){10==i.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=e.data.data.rank,o=e.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,o===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,o===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,o===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},hongBao:function(){var e=i.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=e;var n,t=o.token,a=o.room_id,c=o.AREA,s="room_id="+a+"&score="+e+"&token="+t,r=void 0,h=void 0;try{var l=window.yanqu.getSignString(s);r=JSON.parse(l).sign.sign,h=JSON.parse(l).header.VERSION}catch(e){}1===i.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),n=i.url+"/live_game/push_data?token="+t+"&score="+e+"&room_id="+a+"&sign="+r,cc.log("url:",n),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":h}}).then(function(e){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",e);var n=e.data.code;if(400404==n)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=e.data.data.rank_list,i=e.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechat:function(){var e=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var n,t=o.token,a=o.room_id,c=o.AREA,s=hex_md5("YanQu"+("room_id="+a+"&score="+e+"&token="+t)+"!qaz@wsx$"),r=o.version;n=i.url+"/live_game/push_data?token="+t+"&score="+e+"&room_id="+a+"&sign="+s,cc.log(n),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var n=e.data.code;if(cc.log("code:",n),400404==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=e.data.data.rank_list,i=e.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechathelp:function(){var e,n=o.token,t=o.room_id,a=o.AREA,c="help_score="+i.score+"&room_id="+t+"&token="+n+"&user_id="+o.helpuid,s=hex_md5("YanQu"+c+"!qaz@wsx$");e=i.url+"/live_game/push_data?token="+n+"&help_score="+i.score+"&room_id="+t+"&user_id="+o.helpuid+"&sign="+s;var r=o.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var n=e.data.code;if(400404==n)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=e.data.data.rank_list,o=e.data.data.current_rank,a=e.data.data.max_help_score;console.log("head",t),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+a+" \u5206",t[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,o===t[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,o===t[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,o===t[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==n){var c=e.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(e){cc.log(e)})},teamend:function(){cc.log("team");var e,n=o.token,t=o.room_id,a=o.AREA,c="room_id="+t+"&score="+i.score+"&token="+n,s=hex_md5("YanQu"+c+"!qaz@wsx$");e=i.url+"/live_game/push_data?token="+n+"&score="+i.score+"&room_id="+t+"&sign="+s;var r=o.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var n=e.data.code;if(400404==n)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==n)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==n)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==n){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=e.data.data.rank_list,o=e.data.data.current_rank,a=e.data.data.max_score;console.log("head",t),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+a+" \u5206",t[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,o===t[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,o===t[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,o===t[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==n){var c=e.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(e){cc.log(e)})},turn:function(){void 0==o.type&&this.showadsfalse(),i.score=0,i.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})},showadstrue:function(){try{yanqu.showAds(!0)}catch(e){cc.log(e)}},showadsfalse:function(){try{yanqu.showAds(!1)}catch(e){cc.log(e)}}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(e,n,t){"use strict";cc._RF.push(n,"62e73sDA6dOGolthqoGzpA1","net");var i=function(){var e=window.location.search,n=new Object;if(-1!=e.indexOf("?"))for(var t=e.substr(1),i=t.split("&"),o=0;o<i.length;o++)n[i[o].split("=")[0]]=i[o].split("=")[1];return n}(),o=i.token,a=i.room_id,c=i.AREA,s=i.env,r=i.type,h=i.version,l=i.helpuid,d=i.teamid,u=i.apptype,p=i.singletoken;var g={text:window.location,token:o,room_id:a,AREA:c,env:s,type:r,version:h,helpuid:l,teamid:d,apptype:u,singletoken:p,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(e){var n=[];try{var t=window.yanqu.getSignString(e),i=JSON.parse(t).sign.sign,o=JSON.parse(t).header.VERSION;n.push(i),n.push(o)}catch(e){}return n}};n.exports=g,cc._RF.pop()},{}],transcend:[function(e,n,t){"use strict";cc._RF.push(n,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(e,n){var t=this;cc.log(e,n);var i="http://image.dialect-tv.com/"+e;cc.log("url: ",i),cc.loader.load(i,function(e,n){if(e)cc.log(e);else{t.texture=n;var i=new cc.SpriteFrame(n);t.img.spriteFrame=i}}),this.num.string="\u7b2c"+n+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Block","Rank","Start","chaoyue","transcend","endbg","net","Reborn","Boom","Common","Control","DiveBomb","DiveBombControl","EnemyBomb","Fellyfish","Game","Property","Ship","Submarine"]);