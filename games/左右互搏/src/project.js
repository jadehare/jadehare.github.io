window.__require=function n(e,t,a){function i(o,s){if(!t[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var g="function"==typeof __require&&__require;if(!s&&g)return g(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+o+"'")}}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(n){return i(e[o][1][n]||n)},l,l.exports,n,e,t,a)}return t[o].exports}for(var c="function"==typeof __require&&__require,o=0;o<a.length;o++)i(a[o]);return i}({Animation:[function(n,e,t){"use strict";cc._RF.push(e,"c30e7YkzslGjIP9shzrCkp0","Animation"),cc.Class({extends:cc.Component,properties:{playerNode:{default:null,type:cc.Node},hitNode:{default:null,type:cc.Node}},start:function(){this.animation=this.node.getComponent("cc.Animation"),this.playObject=this.playerNode.getComponent("Player")},onAnimationDone:function(){this.playerNode.x=0,this.hitNode.x=0,this.animation.play("player")},onCollisionEnter:function(n,e){"enemy"==n.node.group&&(n.node.x+=10,this.playObject.lifeDown())}}),cc._RF.pop()},{}],Block:[function(n,e,t){"use strict";cc._RF.push(e,"7678faPbyJLrph1RxP8mctM","Block");var a=n("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(n,e,t,i){var c=this;this.rankLabel.string=n,this.rankLabel.node.color="1"==n?new cc.Color(255,0,0,255):"2"==n?new cc.Color(255,102,0,255):"3"==n?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=t,this.score.string=i,""==e||(cc.log("load pic",a.url+"/"+e),cc.loader.load("http://image.dialect-tv.com/"+e,function(n,e){n&&console.error(n),c.userIcon.spriteFrame=new cc.SpriteFrame(e)}))}}),cc._RF.pop()},{Common:"Common"}],Common:[function(n,e,t){"use strict";cc._RF.push(e,"cdfdfVoyeRGTbjjOB9SlcNK","Common");e.exports={score:0,SceneType:0,reborn:{},rebornTime:1,GameId:46,url:"",rank:[]},cc._RF.pop()},{}],Enemy:[function(n,e,t){"use strict";cc._RF.push(e,"b71b3IEjRtL/LVo9S/Lxw1k","Enemy");var a=n("Common");cc.Class({extends:cc.Component,properties:{hit_anim_pre:{default:null,type:cc.Prefab}},onLoad:function(){this.hit=cc.find("Canvas/hit"),this.hitObject=this.hit.getComponent("Hit"),this.hitLabel=this.hit.getChildByName("num").getComponent("cc.Label"),this.speed=400,this.animation=this.node.getChildByName("enemy").getComponent("cc.Animation")},start:function(){this.enemyDied=!1},init:function(n){"left"==n||(this.node.scaleX=-1,this.speed*=-1)},die_animation:function(){var n="die"+(Math.floor(3*Math.random())+1);this.animation.play(n)},onCollisionEnter:function(n,e){var t=this;"hit"==n.node.group?(this.hitObject.addHit(),this._spawnFlash(),a.score+=7+Number(this.hitLabel.string),e.node.getComponent("cc.BoxCollider").destroy(),this.enemyDied||this.die_animation(),this.enemyDied=!0,this.scheduleOnce(function(){t.node.destroy()},1)):"body"==n.node.group&&(this.hitObject.cleanHit(),e.node.getComponent("cc.BoxCollider").destroy(),this.enemyDied||this.die_animation(),this.enemyDied=!0,this.scheduleOnce(function(){t.node.destroy()},1))},_spawnFlash:function(){var n=cc.instantiate(this.hit_anim_pre);n.setPosition(0,0),this.node.addChild(n)},update:function(n){this.enemyDied||(this.node.x+=this.speed*n),(this.node.x>500||this.node.x<-500)&&this.node.destroy()}}),cc._RF.pop()},{Common:"Common"}],Flash:[function(n,e,t){"use strict";cc._RF.push(e,"3d7c6oDY3RC3ouEGoYE3FGr","Flash"),cc.Class({extends:cc.Component,properties:{},start:function(){},onAnimationDone:function(){this.node.destroy()}}),cc._RF.pop()},{}],Game:[function(n,e,t){"use strict";cc._RF.push(e,"8ae8bbD6NVF8bv5NUn7D0kt","Game");var a=n("Common");cc.Class({extends:cc.Component,properties:{enemy_prefabs:{default:[],type:cc.Prefab},enemy_father:{default:null,type:cc.Node},score_label:{default:null,type:cc.Label}},onLoad:function(){this.enemySpawnDuration=2,cc.director.getCollisionManager().enabled=!0},start:function(){this.initSchedule(),this.durationSchedule()},initSchedule:function(){var n=this;this.scheduleOnce(function(){n._spawnEnemy(),n.initSchedule()},Math.random()*this.enemySpawnDuration)},durationSchedule:function(){var n=this;this.scheduleOnce(function(){cc.log(n.enemySpawnDuration),n.enemySpawnDuration-=.1,n.enemySpawnDuration<.1&&(n.enemySpawnDuration=.1),n.durationSchedule()},5)},_spawnEnemy:function(){var n=Math.floor(Math.random()*this.enemy_prefabs.length),e=cc.instantiate(this.enemy_prefabs[n]),t=0;0==n&&(t=-14),2*Math.random()>1?(e.setPosition(-this.node.width/2-80,t),this.enemy_father.addChild(e),e.getComponent("Enemy").init("left")):(e.setPosition(this.node.width/2+80,t),this.enemy_father.addChild(e),e.getComponent("Enemy").init("right"))},update:function(n){this.score_label.string=a.score}}),cc._RF.pop()},{Common:"Common"}],Hit:[function(n,e,t){"use strict";cc._RF.push(e,"3c232EX4XFLfIJtm3OWNl4j","Hit");cc.Class({extends:cc.Component,properties:{num_label:{default:null,type:cc.Label},Camera:{default:null,type:cc.Node},hit_audio:{default:[],url:cc.AudioClip}},start:function(){},addHit:function(){cc.audioEngine.play(this.hit_audio[Math.floor(this.hit_audio.length*Math.random())],!1,1),this.cameraShake(),this.num_label.string=Number(this.num_label.string)+1,this.node.stopAllActions(),this.node.y=140,this.node.opacity=255;var n=cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.fadeTo(0,0));this.node.runAction(n)},cameraShake:function(){this.Camera.x=0,this.Camera.y=0,this.Camera.stopAllActions();var n=cc.sequence(cc.moveBy(.02,cc.v2(2*(Math.random()-.5)*4,2*(Math.random()-.5)*4)),cc.moveBy(.02,cc.v2(2*(Math.random()-.5)*4,2*(Math.random()-.5)*4)),cc.moveBy(.02,cc.v2(2*(Math.random()-.5)*4,2*(Math.random()-.5)*4)),cc.moveBy(.02,cc.v2(2*(Math.random()-.5)*4,2*(Math.random()-.5)*4)),cc.moveBy(.02,cc.v2(2*(Math.random()-.5)*4,2*(Math.random()-.5)*4)),cc.moveBy(.02,cc.v2(2*(Math.random()-.5)*4,2*(Math.random()-.5)*4)),cc.moveBy(.02,cc.v2(2*(Math.random()-.5)*4,2*(Math.random()-.5)*4)),cc.moveTo(0,cc.v2(0,0)));this.Camera.runAction(n)},cleanHit:function(){this.num_label.string=0}}),cc._RF.pop()},{}],Player:[function(n,e,t){"use strict";cc._RF.push(e,"82ed3hqNDZKqruLjX0JOBv+","Player");cc.Class({extends:cc.Component,properties:{gameNode:{default:null,type:cc.Node},animNode:{default:null,type:cc.Node},hitNode:{default:null,type:cc.Node},hp_bar:{default:null,type:cc.Node},enemys_father:{default:null,type:cc.Node},cover:{default:null,type:cc.Node},Camera:{default:null,type:cc.Node},die_audio:{default:null,url:cc.AudioClip},hurt_audio:{default:null,url:cc.AudioClip}},setInputControl:function(){var n=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){cc.log(e.keyCode),70==e.keyCode?n.hitLeft():74==e.keyCode&&n.hitRight()},this)},start:function(){this.cover.active=!1,this.setInputControl(),this.life=5,this.animation=this.animNode.getComponent("cc.Animation"),this.gameObject=this.gameNode.getComponent("Game")},hitRight:function(){this.node.scaleX=-1,this.hitNode.x=-100,this.attackAnimation()},hitLeft:function(){this.node.scaleX=1,this.hitNode.x=-100,this.attackAnimation()},lifeDown:function(){var n=this;this.life-=1,this.hp_bar.width=this.life/5*410,0==this.life?(cc.audioEngine.play(this.die_audio,!1,1),this.cover.active=!0,this.enemys_father.removeAllChildren(),this.gameObject.unscheduleAllCallbacks(),this.unscheduleAllCallbacks(),this.animation.play("end"),this.scheduleOnce(function(){n.gameEnd()},1.5)):(cc.audioEngine.play(this.hurt_audio,!1,1),this.animation.play("die"))},gameEnd:function(){cc.log("game end"),cc.find("Canvas/bg").getComponent("endbg").init()},attackAnimation:function(){var n="attack"+(Math.floor(3*Math.random())+1);this.animation.play(n)}}),cc._RF.pop()},{}],Rank:[function(n,e,t){"use strict";cc._RF.push(e,"a85ca6+unNLWaN7ujmWKgFm","Rank");var a=n("net"),i=n("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==i.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var n=this.statusArray.length;n>12&&(n=12);for(var e=0;e<n;++e){var t=this.statusArray[e],a=t.rank,i=t.avatar,c=t.nickname,o=t.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+e)),e%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(a,i,c,o),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+1))},getStatus:function(n){var e=this,t=a.AREA,c=a.version,o=a.singletoken;cc.log(t,c);var s=i.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+n+"&token="+o)+"!qaz@wsx$"),g=i.url+"/game/single_rank_all?token="+o+"&game_id="+s+"&page="+n+"&sign="+r;cc.log(g),axios.post(g,{},{headers:{AREA:t,"CLIENT-VERSION":c}}).then(function(t){cc.log(t);for(var a=t.data.data.rank_list,i=0;i<a.length;i++)e.statusArray.push(a[i]);e.currentPage=n,e.statusControl(t.data.data.current),e.content.height+=a.length*e.itemHeight,a.length<20&&(e.rankDied=!0),e.loading.opacity=0},this).catch(function(n){cc.log(n)})},statusControl:function(n){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(n)):this.refreshRank()},initSelf:function(n){cc.log("self data:",n);var e=n.rank,t=n.avatar,a=n.nickname,i=n.score,c=this.spawnBlock();c.getComponent("Block").init(e,t,a,i),this.self.addChild(c)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(n,e){1==e&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var n=0;n<this.blockArr.length;n++){var e=this.blockArr[n],t=Math.abs(e.y),a=Math.round((t+60)/120)-1;if(a>this.statusArray.length-1||a<0)e.opacity=0;else{e.opacity=255;var i=this.statusArray[a],c=i.rank,o=i.avatar,s=i.nickname,r=i.score;e.getComponent("Block").init(c,o,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var n=0;n<this.blockArr.length;n++){if(this.content.y+this.blockArr[n].y>660){var e=this.blockArr[n];e.y-=1440;var t=Math.abs(e.y),a=Math.round((t+60)/120);if(a>this.statusArray.length||a<0){e.opacity=0;continue}e.opacity=255;var i=this.statusArray[a-1],c=i.rank,o=i.avatar,s=i.nickname,r=i.score;e.getComponent("Block").init(c,o,s,r)}if(this.content.y+this.blockArr[n].y<-660){var g=this.blockArr[n];g.y+=1440;var l=Math.abs(g.y),h=Math.round((l+60)/120);if(h>this.statusArray.length){g.opacity=0;continue}g.opacity=255;var d=this.statusArray[h-1],p=d.rank,u=d.avatar,b=d.nickname,m=d.score;g.getComponent("Block").init(p,u,b,m)}}},update:function(n){this.statusBeGet&&(this.undateCount+=n,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Start:[function(n,e,t){"use strict";cc._RF.push(e,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var a=n("Common"),i=n("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var n=this;this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){n.preload=!0,cc.log("preload success",n.preload,n.netload),n.netload&&(n.button.active=!0)})},chooseEnv:function(){if(void 0==i.type)if(void 0==i.token)void 0!==i.singletoken&&(this.rankButton.active=!0,1==i.env?a.url=i.url.appoffline:2==i.env?a.url=i.url.apppre:a.url=i.url.apponline,a.SceneType=10);else{if(1==i.env){var n=void 0;try{n=window.yanqu.getBrowerID()}catch(n){}a.url=i.url.appoffline,a.SceneType="yqbrower"==n?12:1}else a.SceneType=11,2==i.env?a.url=i.url.apppre:a.url=i.url.apponline;5==i.apptype&&(a.SceneType=15)}else 1==i.env?a.url=i.url.wxoffline:2==i.env?a.url=i.url.wxpre:a.url=i.url.wxonline,void 0!==i.singletoken&&(this.rankButton.active=!0,a.SceneType=10),3==i.type?a.SceneType=20:4==i.type?a.SceneType=21:5==i.type&&(a.SceneType=22);cc.log("scenetype:",a.SceneType)},getInfo:function(){var n,e=this,t="room_id="+i.room_id+"&token="+i.token,c=i.version,o=void 0;if(1==a.SceneType)o=hex_md5("YanQu"+t+"!qaz@wsx$"),c=1,i.AREA=1,this.transcend(o,c);else if(12==a.SceneType||15==a.SceneType||11==a.SceneType){var s=i.getSignString(t);o=s[0],c=s[1],i._version=c,this.transcend(o,c)}else if(20==a.SceneType||21==a.SceneType||22==a.SceneType)this.transcend();else if(10==a.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));n=a.url+"/live_game/revive?token="+i.token+"&room_id="+i.room_id+"&sign="+o,axios.post(n,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":c}}).then(function(n){cc.log("start respose:",n);var t=n.data.data;a.reborn=t,e.netload=!0,e.preload&&(e.button.active=!0)}).catch(function(n){e.button.active=!0,cc.log(n)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(n,e){cc.log(n,e);var t,c=i.token,o=i.room_id,s=n;void 0==n&&(s=hex_md5("YanQu"+("room_id="+o+"&token="+c)+"!qaz@wsx$"));var r=i.AREA,g=e;void 0==e&&(g=i.version),t=a.url+"/live/section_rank_score?token="+c+"&room_id="+o+"&sign="+s,axios.post(t,{},{headers:{AREA:r,"CLIENT-VERSION":g}}).then(function(n){cc.log("rank:",n),Object.keys(n.data.data.rank).forEach(function(e){a.rank.push(n.data.data.rank[e])}),cc.log(a.rank)},this).catch(function(n){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(i))},update:function(n){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],chaoyue:[function(n,e,t){"use strict";cc._RF.push(e,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var a=n("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",a.SceneType,a.rank),(11===a.SceneType||12===a.SceneType||20===a.SceneType||1==a.SceneType)&&0!=a.rank.length){this._ranking=a.rank.length,this.transcendFunc();var n=cc.instantiate(this.transcendPrefab);this.node.addChild(n),n.opacity=0,n.getComponent("transcend").init(a.rank[this._ranking-1].avatar,a.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",a.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var n=a.rank,e=this.scoreLabel.string,t=0;t<n.length;t++)if(Number(e)>Number(n[t].score)&&(cc.log(e,n[t].score,t),this._ranking>t)){var i=cc.instantiate(this.transcendPrefab);this.node.addChild(i),i.setPosition(cc.v2(0,0)),i.opacity=0,i.getComponent("transcend").init(a.rank[t].avatar,a.rank[t].rank);var c=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return i.runAction(c),this._ranking=t,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(n,e,t){"use strict";cc._RF.push(e,"b0123F/GzdDoYtgcFawA/yh","endbg");var a=n("Common"),i=n("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",i),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===a.SceneType?(this.weixing.active=!0,this.putongRank()):11===a.SceneType||12===a.SceneType||1===a.SceneType?(this.hongbao.active=!0,this.hongBao()):20===a.SceneType?(this.weixing.active=!0,this.wechat()):21===a.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===a.SceneType||15===a.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+a.score)},start:function(){},putongRank:function(){var n=a.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,t=i.singletoken,c=i.AREA,o="game_id="+a.GameId+"&score="+n+"&token="+t,s=hex_md5("YanQu"+o+"!qaz@wsx$"),r=i.version;e=a.url+"/game/single_push_data?token="+t+"&game_id="+a.GameId+"&score="+n+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},hongBao:function(){var n=a.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=n;var e,t=i.token,c=i.room_id,o=i.AREA,s="room_id="+c+"&score="+n+"&token="+t,r=void 0,g=void 0;try{var l=window.yanqu.getSignString(s);r=JSON.parse(l).sign.sign,g=JSON.parse(l).header.VERSION}catch(n){}1===a.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),e=a.url+"/live_game/push_data?token="+t+"&score="+n+"&room_id="+c+"&sign="+r,axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":g}}).then(function(n){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="";var t=n.data.data.rank_list,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechat:function(){var n=a.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,t=i.token,c=i.room_id,o=i.AREA,s=hex_md5("YanQu"+("room_id="+c+"&score="+n+"&token="+t)+"!qaz@wsx$"),r=i.version;e=a.url+"/live_game/push_data?token="+t+"&score="+n+"&room_id="+c+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechathelp:function(){var n,e=i.token,t=i.room_id,c=i.AREA,o="help_score="+a.score+"&room_id="+t+"&token="+e+"&user_id="+i.helpuid,s=hex_md5("YanQu"+o+"!qaz@wsx$");n=a.url+"/live_game/push_data?token="+e+"&help_score="+a.score+"&room_id="+t+"&user_id="+i.helpuid+"&sign="+s;var r=i.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="";var t=n.data.data.rank_list,i=n.data.data.current_rank,c=n.data.data.max_help_score;console.log("head",t),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=a.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+c+" \u5206",t[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},teamend:function(){cc.log("team");var n,e=i.token,t=i.room_id,c=i.AREA,o="room_id="+t+"&score="+a.score+"&token="+e,s=hex_md5("YanQu"+o+"!qaz@wsx$");n=a.url+"/live_game/push_data?token="+e+"&score="+a.score+"&room_id="+t+"&sign="+s;var r=i.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,i=n.data.data.current_rank,c=n.data.data.max_score;console.log("head",t),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=a.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+c+" \u5206",t[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},turn:function(){a.score=0,a.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(n,e,t){"use strict";cc._RF.push(e,"62e73sDA6dOGolthqoGzpA1","net");var a=function(){var n=window.location.search,e=new Object;if(-1!=n.indexOf("?"))for(var t=n.substr(1),a=t.split("&"),i=0;i<a.length;i++)e[a[i].split("=")[0]]=a[i].split("=")[1];return e}(),i=a.token,c=a.room_id,o=a.AREA,s=a.env,r=a.type,g=a.version,l=a.helpuid,h=a.teamid,d=a.apptype,p=a.singletoken;var u={text:window.location,token:i,room_id:c,AREA:o,env:s,type:r,version:g,helpuid:l,teamid:h,apptype:d,singletoken:p,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(n){var e=[];try{var t=window.yanqu.getSignString(n),a=JSON.parse(t).sign.sign,i=JSON.parse(t).header.VERSION;e.push(a),e.push(i)}catch(n){}return e}};e.exports=u,cc._RF.pop()},{}],transcend:[function(n,e,t){"use strict";cc._RF.push(e,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(n,e){var t=this;cc.log(n,e);var a="http://image.dialect-tv.com/"+n;cc.log("url: ",a),cc.loader.load(a,function(n,e){if(n)cc.log(n);else{t.texture=e;var a=new cc.SpriteFrame(e);t.img.spriteFrame=a}}),this.num.string="\u7b2c"+e+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Block","Rank","Start","chaoyue","transcend","endbg","net","Animation","Common","Enemy","Flash","Game","Hit","Player"]);