window.__require=function e(t,n,i){function o(s,c){if(!n[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var h="function"==typeof __require&&__require;if(!c&&h)return h(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+s+"'")}}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return o(t[s][1][e]||e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({Background:[function(e,t,n){"use strict";cc._RF.push(t,"4e857nexZNGOrWrhEGdiNb0","Background"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.scheduler=!0,this.color=new cc.Color(255,255,0),this.colorGenerate=25,this.index=0,this.node.opacity=0,this.init()},init:function(){var e=this;cc.director.getScheduler().schedule(function(){e.scheduler&&(e.node.color=e.color,e.color.g-=e.colorGenerate,e.color.g<=5?e.colorGenerate*=-1:e.color.g>=255&&(e.colorGenerate*=-1))},this,.1)},start:function(){},update:function(e){}}),cc._RF.pop()},{}],BlackHole:[function(e,t,n){"use strict";cc._RF.push(t,"60da1+d+hFHK5SpD6S2Ts44","BlackHole"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},update:function(e){this.node.getChildByName("blackHole").rotation+=1}}),cc._RF.pop()},{}],Block:[function(e,t,n){"use strict";cc._RF.push(t,"7678faPbyJLrph1RxP8mctM","Block");var i=e("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(e,t,n,o){var a=this;this.rankLabel.string=e,this.rankLabel.node.color="1"==e?new cc.Color(255,0,0,255):"2"==e?new cc.Color(255,102,0,255):"3"==e?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=n,this.score.string=o,""==t||(cc.log("load pic",i.url+"/"+t),cc.loader.load("http://image.dialect-tv.com/"+t,function(e,t){e&&console.error(e),a.userIcon.spriteFrame=new cc.SpriteFrame(t)}))}}),cc._RF.pop()},{Common:"Common"}],Body:[function(e,t,n){"use strict";cc._RF.push(t,"f7b92lloU5Ojom8GFy7PlSw","Body"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.canvas=cc.find("Canvas"),this.property=this.canvas.getComponent("Property"),this.gameObject=this.canvas.getComponent("Game"),this.snakeBody=this.node._parent,this.snakeBodyObject=this.snakeBody.getComponent("SnakeBody"),this.bodyArr=this.snakeBodyObject.bodyArr,this.node.side="",this.circleCollider=this.node.getComponent("cc.CircleCollider"),this.preBody=null,this.collisionX=0,this.collisionY=0,this.blackType=!1,this.node.blackHole=!1,this.rePosition=null},bodyMove:function(){var e=this.node,t=e._id;this.preBody=0===t?this.snakeBodyObject.snakeHead:this.bodyArr[t-1];var n=cc.v2(e.x-this.preBody.x,e.y-this.preBody.y);this.radians=cc.v2(0,-e.height).signAngle(n);var i=this.snakeBodyObject.radiansGeneration;this.gameObject.radiansChange&&(this.radians*=i),this.node.rotation=-cc.misc.radiansToDegrees(this.radians),0===t&&(this.preBody.rotation=-cc.misc.radiansToDegrees(this.radians*i)),this.rePosition=cc.v2(0,-e.height).rotate(this.radians,cc.v2(0,0)),e.x=this.preBody.x+this.rePosition.x,e.y=this.preBody.y+this.rePosition.y},onCollisionEnter:function(e,t){this.blackType?"blackHole"===e.node.group&&(this.property.fireOn||"top"===e.node.side&&(t.node.opacity=255,t.node.x=e.node.x,this.blackType=!1,this.node.blackHole=!1)):"blackHole"===e.node.group&&this.preBody.blackHole&&"bottom"===e.node.side&&(t.node.opacity=0,t.node.x=e.node.x,this.blackType=!0,this.node.blackHole=!0)},onCollisionStay:function(e,t){this.blackType&&"bricks"===e.node.group&&(t.node.opacity=0)},onCollisionExit:function(e,t){"blackHole"===e.node.group&&"top"===e.node.side&&(t.node.opacity=255,this.blackType=!1)},brickPreCollide:function(e,t){this.node.color=cc.Color.RED;var n=e.world.aabb,i=e.world.preAabb.clone(),o=t.world.aabb,a=t.world.preAabb.clone();if(cc.Intersection.rectRect(a,i))if(a.yMax>i.yMax){this.node.y;this.node.y=i.yMax-this.canvas.height/2}else if(a.yMin<i.yMin){this.node.y;this.node.y=i.yMin-this.canvas.height/2}if(a.x=o.x,i.x=n.x,cc.Intersection.rectRect(a,i)){if(this.preBody.y+this.preBody.height/2>i.yMax-this.canvas.height/2);else{if(this.rePosition.x=0,this.preBody.x>i.x-this.canvas.width/2){cc.log("right");this.node.x;return void(this.node.x=i.xMax+this.node.width/2-this.canvas.width/2)}if(this.preBody.x<i.x-this.canvas.width/2){cc.log("left",this.preBody.x,i.x-this.canvas.width/2);this.node.x;return void(this.node.x=i.xMin-this.node.width/2-this.canvas.width/2)}}if(this.rePosition.x=0,t.node.x>e.node.x){cc.log("collide right");this.node.x;this.node.x=i.xMax+this.node.width/2-this.canvas.width/2}else if(t.node.x<e.node.x){cc.log("collide left");this.node.x;this.node.x=i.xMin-this.node.width/2-this.canvas.width/2}}else;},distanceToCircleRadius:function(e,t){return e.normalize().mul(e)},start:function(){},updateBody:function(){this.property.fireOn?(this.node.opacity=255,this.node.color=new cc.Color(1,1,1)):this.node.color=new cc.Color(255,255,255),this.bodyMove()},update:function(e){}}),cc._RF.pop()},{}],BrickCollide:[function(e,t,n){"use strict";cc._RF.push(t,"4191bmTN81IyL/5/Znh8pKL","BrickCollide"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},onCollisionEnter:function(e,t){}}),cc._RF.pop()},{}],Bullet:[function(e,t,n){"use strict";cc._RF.push(t,"98c7fpbAO5IE4bkmMrG1+dz","Bullet"),cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(e){this.node.y+=10}}),cc._RF.pop()},{}],CameraScript:[function(e,t,n){"use strict";cc._RF.push(t,"5fbefJ69BJCGpScPUrUYNXv","CameraScript"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.shockGeneration=5,this.run(),this.runStop()},run:function(){var e=cc.moveBy(.05,cc.v2(-4,-1)),t=cc.moveBy(.05,cc.v2(6,1)),n=cc.moveBy(.05,cc.v2(-8,-1)),i=cc.sequence(t,n,t,e),o=cc.repeatForever(i);this.node.runAction(o)},runStop:function(){this.node.pauseAllActions(),this.node.x=0,this.node.y=0},runResume:function(){this.node.resumeAllActions()},start:function(){},update:function(e){}}),cc._RF.pop()},{}],Common:[function(e,t,n){"use strict";cc._RF.push(t,"61ebbCurU5MDaD1J7BUImaZ","Common");t.exports={score:0,snakeLife:0,SceneType:0,reborn:{},rebornTime:1,GameId:21,url:"",rank:[]},cc._RF.pop()},{}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"1ddebeBnDZCCYoqSy2+rTOd","Game");e("Common");cc.Class({extends:cc.Component,properties:{speed:0,propertyProbability:50,propertyDuration:0,plankProbability:50,snakeHead:{default:null,type:cc.Node},snakeBody:{default:null,type:cc.Node},cover:{default:null,type:cc.Node},bulletPrefab:{default:null,type:cc.Prefab},brickPrefab:{default:null,type:cc.Prefab},lifePrefab:{default:null,type:cc.Prefab},plankPrefab:{default:null,type:cc.Prefab},plankLongPrefab:{default:null,type:cc.Prefab},firePrefab:{default:null,type:cc.Prefab},fireBulletPrefab:{default:null,type:cc.Prefab},magnetPrefab:{default:null,type:cc.Prefab},snowFlowerPrefab:{default:null,type:cc.Prefab},blackHolePrefab:{default:null,type:cc.Prefab},starPrefab:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){cc.view.enableAntiAlias(!0),cc.director.getCollisionManager().enabled=!0,this.radiansChange=!0,this.cover.active=!1,this.clock=0,this.speedUp=!0,this.speedDown=!1,this.drawLoop=0,this.drawLoopNum=9,this.moveClock=0,this.clockCount=0,this.substance=cc.find("Canvas/Substance"),this.lifeSubstance=cc.find("Canvas/snake"),this.lifeLabel=cc.find("Canvas/snakeLife").getComponent("cc.Label"),this.propertyObject=this.node.getComponent("Property"),this.snakeHeadObject=this.snakeHead.getComponent("SnakeHead"),this.brickClock=0,this.maxLifeNum=10,this.propertyClock=0,this.propertyType=0,this.bonusTime=!1,this.bonusIndex=0,this.bonusArr=[[-1],[[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0],[0,0,0,1,1,1,1,0,0,0,1,1,1,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0]],[[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0]],[[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0]],[[0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0]],[[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0],[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0]],[[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0]],[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0]],[[0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0]]],this.brickPool=new cc.NodePool,this.plankPool=new cc.NodePool;for(var e=0;e<10;++e){var t=cc.instantiate(this.plankLongPrefab);this.plankPool.put(t)}this.lifePool=new cc.NodePool;for(var n=0;n<10;++n){var i=cc.instantiate(this.lifePrefab);this.lifePool.put(i)}this.starPool=new cc.NodePool;for(var o=0;o<10;++o){var a=cc.instantiate(this.starPrefab);this.starPool.put(a)}this.scheduler=!0},wechatInit:function(){wx.login({success:function(){wx.getUserInfo({success:function(e){console.log("success",e.data)},fail:function(e){e.errMsg.indexOf("auth deny")>-1||e.errMsg.indexOf("auth denied"),console.log("login fail, res",e)}})}}),wx.showShareMenu({withShareTicket:!0}),wx.updateShareMenu({withShareTicket:!0})},canvasInit:function(){},_spawnProperty:function(e,t){var n=null,i=40,o=-30;switch(this.propertyType>1&&(this.propertyType=0),this.propertyType++){case 0:n=cc.instantiate(this.firePrefab);break;case 1:n=cc.instantiate(this.magnetPrefab);break;case 2:n=cc.instantiate(this.blackHolePrefab);var a=cc.instantiate(this.blackHolePrefab);a.setPosition(cc.v2(0,120)),e.getChildByName("property").addChild(a),i=0,o=-120;break;case 3:n=cc.instantiate(this.fireBulletPrefab)}t.setPosition(cc.v2(0,i)),n.setPosition(cc.v2(0,o)),e.getChildByName("property").addChild(n)},_spawnBricks:function(e,t){var n=null;(n=this.brickPool.size()>0?this.brickPool.get():cc.instantiate(this.brickPrefab)).width=this.node.width;for(var i=n._children,o=n.width/5,a=0;a<i.length;a++){var s=i[a];if(0===e[a])s.active=!1;else{s.x=(-2+a)*o;var c=Math.floor(2*this.maxLifeNum*Math.random()+1);2===e[a]&&(c=Math.floor(this.maxLifeNum*Math.random()+1)),c+=Math.round(this.lifeLabel.string/20);var r=s.getChildByName("life");r.getComponent("cc.Label").string=c,r.setPosition(cc.v2(0,0)),s.color=c>15?new cc.Color(115,100,255,255):c>10?new cc.Color(149,128,255,255):c>5?new cc.Color(180,135,255,255):new cc.Color(208,170,255,255),s.width=this.node.width/5,s.height=s.width+20;var h=s.getComponent("cc.BoxCollider");h.size.width=this.node.width/5,h.size.height=s.height,this.propertyClock>this.propertyDuration&&this.propertyProbability>100*Math.random()&&(this._spawnProperty(s,r),this.propertyClock=0)}}if(n.setPosition(0,this.node.height/2+200),-1===t);else{var d=Math.floor(20*Math.random());if(d<5){var l=cc.instantiate(this.blackHolePrefab),p=cc.instantiate(this.blackHolePrefab);l.side="bottom",p.side="top",p.setPosition(-this.node.width/2+(2*d+1)*this.node.width/10,150),p.getComponent("cc.BoxCollider").size.width=2e3,l.setPosition(-this.node.width/2+(2*d+1)*this.node.width/10,-150),n.addChild(l),n.addChild(p)}}this.substance.addChild(n)},brickOnKill:function(e){e.rightSide=!1,e.leftSide=!1,this.brickPool.put(e)},_spawnLife:function(e){var t,n=null;t=Math.floor(this.maxLifeNum/2*Math.random()+1),(n=this.lifePool.size()>0?this.lifePool.get():cc.instantiate(this.lifePrefab)).getComponent("Life").init(),n.getChildByName("label").getComponent("cc.Label").string=t,this.substance.addChild(n),n.setPosition(-this.node.width/2+this.node.width/5/2+this.node.width/5*e,this.node.height/2+200)},_spawnLittleProperty:function(e){var t=cc.instantiate(this.snowFlowerPrefab);this.node.addChild(t),t.setPosition(-this.node.width/2+this.node.width/5/2+this.node.width/5*e,this.node.height/2+200)},_spawnPlank:function(){var e=null;if(this.plankPool.size()>0)e=this.plankPool.get();else{if(!(Math.floor(5*Math.random())>2))return;e=cc.instantiate(this.plankLongPrefab)}switch(Math.floor(4*Math.random())){case 0:e.setPosition(-3*this.node.width/10,this.node.height/2+200);break;case 1:e.setPosition(-1*this.node.width/10,this.node.height/2+200);break;case 2:e.setPosition(1*this.node.width/10,this.node.height/2+200);break;case 3:e.setPosition(3*this.node.width/10,this.node.height/2+200)}this.substance.addChild(e)},plankOnKill:function(e){this.plankPool.put(e)},_spawnStar:function(e){if(-1!==e[0]){for(var t=e[0],n=e[1],i=e[2],o=e[3],a=0;a<t.length;a++)if(1===t[a]){var s=null;s=this.starPool.size()>0?this.starPool.get():cc.instantiate(this.starPrefab),this.substance.addChild(s),s.setPosition(-this.node.width/2+s.width/2+this.node.width/16*a,this.node.height/2+200-this.node.width/5/2)}for(var c=0;c<n.length;c++)if(1===n[c]){var r=null;r=this.starPool.size()>0?this.starPool.get():cc.instantiate(this.starPrefab),this.substance.addChild(r),r.setPosition(-this.node.width/2+r.width/2+this.node.width/16*c,this.node.height/2+200-this.node.width/5/6)}for(var h=0;h<i.length;h++)if(1===i[h]){var d=null;d=this.starPool.size()>0?this.starPool.get():cc.instantiate(this.starPrefab),this.substance.addChild(d),d.setPosition(-this.node.width/2+d.width/2+this.node.width/16*h,this.node.height/2+200+this.node.width/5/6)}for(var l=0;l<o.length;l++)if(1===o[l]){var p=null;p=this.starPool.size()>0?this.starPool.get():cc.instantiate(this.starPrefab),this.substance.addChild(p),p.setPosition(-this.node.width/2+p.width/2+this.node.width/16*l,this.node.height/2+200+this.node.width/5/2)}}},_spawnMap:function(e){if(this.bonusTime)this.propertyObject.propertyRemove(),this._spawnStar(this.bonusArr[this.bonusIndex++]),this.bonusIndex===this.bonusArr.length&&(this.bonusIndex=0,this.bonusTime=!1);else{for(var t=[],n=Math.floor(10*Math.random()),i=0;i<5;i++){var o=Math.random();if(t[i]=0,0===e)switch(t[i]=1,n){case 0:0===i&&(t[i]=2),1===i&&(t[i]=2);break;case 1:0===i&&(t[i]=2),2===i&&(t[i]=2);break;case 2:0===i&&(t[i]=2),3===i&&(t[i]=2);break;case 3:0===i&&(t[i]=2),4===i&&(t[i]=2);break;case 4:1===i&&(t[i]=2),2===i&&(t[i]=2);break;case 5:1===i&&(t[i]=2),3===i&&(t[i]=2);break;case 6:1===i&&(t[i]=2),4===i&&(t[i]=2);break;case 7:2===i&&(t[i]=2),3===i&&(t[i]=2);break;case 8:2===i&&(t[i]=2),4===i&&(t[i]=2);break;case 9:3===i&&(t[i]=2),4===i&&(t[i]=2)}else if(e%2==0){if(4===e)Math.floor(100*Math.random())<2&&(this.bonusTime=!0);if(o<.5){var a=Math.floor(10*Math.random());0===e&&(a=8),a<2?this._spawnLife(i):a<2.2?this._spawnLittleProperty(i):t[i]=1}}else Math.floor(10*Math.random())<2&&this._spawnPlank()}var s=-1;0===e&&(s=Math.floor(5*Math.random())),this._spawnBricks(t,s)}},speedControl:function(e){this.speed>14?this.speedDown&&(this.speed=this.speed/2):(this.clock+=e,this.speedDown?this.speed=(6+this.clock/20)/2:this.speed=6+this.clock/20,this.maxLifeNum=10+this.clock/10)},rebornGame:function(){this.snakeHead.active=!0,this.snakeBodyObject=this.snakeBody.getComponent("SnakeBody"),this.snakeBodyObject.snakeBodyAddNum+=20,this.snakeHeadObject.bgm=cc.audioEngine.play(this.snakeHeadObject.bgmAudio,!0,1),this.cover.active=!1,this.scheduler=!0},update:function(e){this.propertyClock+=e,this.speedControl(e),this.scheduler&&(this.clockCount++,this.clockCount>200/this.speed&&(this._spawnMap(this.drawLoop),this.drawLoop++,this.drawLoop===this.drawLoopNum+1&&(this.drawLoop=0),this.clockCount=0))}}),cc._RF.pop()},{Common:"Common"}],Life:[function(e,t,n){"use strict";cc._RF.push(t,"2fe14jVonRBS7z56ICsxcJx","Life"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;this.moveSpeed=20,this.canvas=cc.find("Canvas"),this.property=this.canvas.getComponent("Property"),this.gameObject=this.canvas.getComponent("Game"),this.snakeHead=cc.find("Canvas/snake/snakeHead"),this.movefunc=function(){e._brickMove()},this.magnetfunc=function(){}},init:function(){var e=this;cc.director.getScheduler().schedule(function(){e.gameObject.scheduler&&(e.property.magnetOn||e.movefunc())},this,.01)},start:function(){},_magnetMove:function(){var e=this.node.position,t=this.snakeHead.position.sub(e).normalize(),n=e.add(t.mul(this.moveSpeed));this.node.setPosition(n)},_brickMove:function(){this.node.y-=this.gameObject.speed,this.node.y<-740&&this.node.destroy()},update:function(e){var t=this;this.property.magnetOn&&(this.magnetfunc=function(){t._magnetMove()}),this.magnetfunc()}}),cc._RF.pop()},{}],Particle:[function(e,t,n){"use strict";cc._RF.push(t,"e6b37ZS3sVHgoNpa+ym9ZRm","Particle"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.gameObject=cc.find("Canvas").getComponent("Game"),this.particle=this.node.getComponent("cc.ParticleSystem"),this.init()},init:function(){var e=this;cc.director.getScheduler().schedule(function(){e.gameObject.scheduler&&e._brickMove()},this,.01)},start:function(){},_brickMove:function(){this.node.y-=this.gameObject.speed,this.node.y<-740&&this.node.destroy()}}),cc._RF.pop()},{}],PreCollide:[function(e,t,n){"use strict";cc._RF.push(t,"ff665cS7XZMaavlkbz7EFf4","PreCollide"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.snakeHead=this.node._parent,cc.log(this.snakeHead)},start:function(){},onCollisionEnter:function(e,t){"plank"===e.node.group&&(e.node.x>t.node._parent.x?(this.snakeHead.moveXMax=e.node.x-e.node.width/2,this.snakeHead.moveYMin=e.node.y-e.node.height/2):e.node.x<t.node._parent.x&&(this.snakeHead.moveXMin=e.node.x-e.node.width/2,this.snakeHead.moveYMin=e.node.y-e.node.height/2))},onCollisionStay:function(e,t){"plank"===e.node.group&&(e.node.x>t.node._parent.x?(this.snakeHead.moveXMax=e.node.x-e.node.width/2,this.snakeHead.moveYMin=e.node.y-e.node.height/2):e.node.x<t.node._parent.x&&(this.snakeHead.moveXMin=e.node.x-e.node.width/2,this.snakeHead.moveYMin=e.node.y-e.node.height/2))},onCollisionExit:function(e,t){"plank"===e.node.group&&(this.snakeHead.moveXMax=void 0,this.snakeHead.moveXMin=void 0,this.snakeHead.moveYMin=void 0)}}),cc._RF.pop()},{}],Property:[function(e,t,n){"use strict";cc._RF.push(t,"a70e9ku0+tHGYG1hFuyVf3o","Property");var i=e("Common");cc.Class({extends:cc.Component,properties:{propertyDuration:0,camera:{default:null,type:cc.Node},background:{default:null,type:cc.Node},substance:{default:null,type:cc.Node},fireRain:{default:null,type:cc.Node},fireParticle:{default:null,type:cc.Node},snakeBody:{default:null,type:cc.Node},snakeHead:{default:null,type:cc.Node},halo:{default:null,type:cc.Node},frozen:{default:null,type:cc.Node},score:{default:null,type:cc.Node},boomParticle:{default:null,type:cc.Prefab},fireCollideAudio:{default:null,url:cc.AudioClip},magnetAudio:{default:null,url:cc.AudioClip},windAudio:{default:null,url:cc.AudioClip},boomAudio:{default:null,url:cc.AudioClip}},onLoad:function(){var e=this;this.gameObject=this.node.getComponent("Game"),this.snakeBodyObject=this.snakeBody.getComponent("SnakeBody"),this.cameraObject=this.camera.getComponent("CameraScript"),this.backgroundObject=this.background.getComponent("Background"),this.snakeHeadObject=this.snakeHead.getComponent("SnakeHead"),this.scoreLabel=this.score.getComponent("cc.Label"),this.fireRainObject=this.fireRain.getComponent("cc.ParticleSystem"),this.fireRainObject.stopSystem(),this.fireRainOn=!1,this.fireParticle=this.fireParticle.getComponent("cc.ParticleSystem"),this.fireParticle.stopSystem(),this.magnetOn=!1,this.fireOn=!1,this.fireBulletOn=!1,this.frozen.opacity=0,this.clock=0,this.propertyArr=[],this.propertyArr.magnet=[!1,0],this.propertyArr.fire=[!1,0],this.propertyArr.fireBullet=[!1,0],this.propertyArr.slowDown=[!1,0],this.propertyArr.magnet[2]=function(){e.magnet()},this.propertyArr.magnet[3]=function(){e.disMagnet()},this.propertyArr.fire[2]=function(){e.fire()},this.propertyArr.fire[3]=function(){e.noFire()},this.propertyArr.fireBullet[2]=function(){e.fireBullet()},this.propertyArr.fireBullet[3]=function(){e.noFireBullet()},this.propertyArr.slowDown[2]=function(){e.slowDown()},this.propertyArr.slowDown[3]=function(){e.noSlowDown()},this.currentSpeed=0},getProperty:function(e){void 0!==this.propertyArr[e]&&(this.propertyArr[e][1]=this.clock,this.propertyArr[e][0]=!0,this.propertyArr[e][2]())},magnet:function(){cc.audioEngine.play(this.magnetAudio,!1,1),this.halo.opacity=255,this.magnetOn=!0},disMagnet:function(){this.halo.opacity=0,this.magnetOn=!1},fire:function(){if(this.snakeBodyObject.beNormalColor=!0,this.snakeMoveDown)return this.propertyArr.slowDown[0]=!1,this.propertyArr.slowDown[3](),void this.fireIce();cc.audioEngine.play(this.fireCollideAudio,!1,1),this.backgroundObject.scheduler=!0,this.background.opacity=50,this.fireRainOn||(this.currentSpeed=this.gameObject.speed,this.fireRainObject.resetSystem()),this.fireRainOn=!0,this.cameraObject.runResume(),this.fireOn||this.fireParticle.resetSystem(),this.fireOn=!0,this.gameObject.speed=15},noFire:function(){this.gameObject.speed=this.currentSpeed,this.backgroundObject.scheduler=!1,this.background.opacity=0,this.fireRainObject.stopSystem(),this.fireRainOn=!1,this.cameraObject.runStop(),this.fireParticle.stopSystem(),this.fireOn=!1},fireBullet:function(){this.fireBulletOn=!0,this.snakeHeadObject.bulletFire=!0},noFireBullet:function(){this.fireBulletOn=!1,this.snakeHeadObject.bulletFire=!1},slowDown:function(){if(this.fireOn)return this.propertyArr.fire[0]=!1,this.propertyArr.fire[3](),void this.fireIce();cc.audioEngine.play(this.windAudio,!1,1),this.snakeMoveDown=!0,this.gameObject.speedDown=!0},noSlowDown:function(){this.snakeMoveDown=!1,this.gameObject.speedDown=!1},fireIce:function(){cc.audioEngine.play(this.boomAudio,!1,1),this.snakeBodyObject.beNormalColor=!0;var e=cc.instantiate(this.boomParticle);e.setPosition(cc.v2(0,0)),this.node.addChild(e);for(var t=this.substance.children,n=0;n<t.length;n++)if("plank"===t[n].name);else if("bricks"===t[n].name){for(var o=t[n],a=0;a<o.children.length;a++){var s=o.children[n];void 0!==s&&(i.score+=Math.round(s.getChildByName("life").getComponent("cc.Label").string),s.getChildByName("property").children.length<1||s.getChildByName("property").children[0].destroy(),s.active=!1)}o.destroy()}this.scoreLabel.string=i.score},propertyRemove:function(){this.fireOn&&this.propertyArr.fire[3](),this.snakeMoveDown&&this.propertyArr.slowDown[3]()},start:function(){},update:function(e){for(var t in this.clock+=e,this.propertyArr)this.propertyArr[t][0]&&this.propertyArr[t][1]+this.propertyDuration<this.clock&&(this.propertyArr[t][0]=!1,this.propertyArr[t][3]());this.snakeMoveDown?(this.frozen.opacity+=5,this.frozen.opacity>215&&(this.frozen.opacity=215)):this.frozen.opacity>0?this.frozen.opacity-=15:this.frozen.opacity=0}}),cc._RF.pop()},{Common:"Common"}],Rank:[function(e,t,n){"use strict";cc._RF.push(t,"a85ca6+unNLWaN7ujmWKgFm","Rank");var i=e("net"),o=e("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==o.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var e=this.statusArray.length;e>12&&(e=12);for(var t=0;t<e;++t){var n=this.statusArray[t],i=n.rank,o=n.avatar,a=n.nickname,s=n.score,c=this.spawnBlock();this.content.addChild(c),c.setPosition(0,-this.itemHeight*(.5+t)),t%2==0&&(c.getChildByName("bg").opacity=0),c.getComponent("Block").init(i,o,a,s),this.blockArr.push(c)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+1))},getStatus:function(e){var t=this,n=i.AREA,a=i.version,s=i.singletoken;cc.log(n,a);var c=o.GameId,r=hex_md5("YanQu"+("game_id="+c+"&page="+e+"&token="+s)+"!qaz@wsx$"),h=o.url+"/game/single_rank_all?token="+s+"&game_id="+c+"&page="+e+"&sign="+r;cc.log(h),axios.post(h,{},{headers:{AREA:n,"CLIENT-VERSION":a}}).then(function(n){cc.log(n);for(var i=n.data.data.rank_list,o=0;o<i.length;o++)t.statusArray.push(i[o]);t.currentPage=e,t.statusControl(n.data.data.current),t.content.height+=i.length*t.itemHeight,i.length<20&&(t.rankDied=!0),t.loading.opacity=0},this).catch(function(e){cc.log(e)})},statusControl:function(e){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(e)):this.refreshRank()},initSelf:function(e){cc.log("self data:",e);var t=e.rank,n=e.avatar,i=e.nickname,o=e.score,a=this.spawnBlock();a.getComponent("Block").init(t,n,i,o),this.self.addChild(a)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(e,t){1==t&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var e=0;e<this.blockArr.length;e++){var t=this.blockArr[e],n=Math.abs(t.y),i=Math.round((n+60)/120)-1;if(i>this.statusArray.length-1||i<0)t.opacity=0;else{t.opacity=255;var o=this.statusArray[i],a=o.rank,s=o.avatar,c=o.nickname,r=o.score;t.getComponent("Block").init(a,s,c,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var e=0;e<this.blockArr.length;e++){if(this.content.y+this.blockArr[e].y>660){var t=this.blockArr[e];t.y-=1440;var n=Math.abs(t.y),i=Math.round((n+60)/120);if(i>this.statusArray.length||i<0){t.opacity=0;continue}t.opacity=255;var o=this.statusArray[i-1],a=o.rank,s=o.avatar,c=o.nickname,r=o.score;t.getComponent("Block").init(a,s,c,r)}if(this.content.y+this.blockArr[e].y<-660){var h=this.blockArr[e];h.y+=1440;var d=Math.abs(h.y),l=Math.round((d+60)/120);if(l>this.statusArray.length){h.opacity=0;continue}h.opacity=255;var p=this.statusArray[l-1],u=p.rank,g=p.avatar,b=p.nickname,f=p.score;h.getComponent("Block").init(u,g,b,f)}}},update:function(e){this.statusBeGet&&(this.undateCount+=e,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Reborn:[function(e,t,n){"use strict";cc._RF.push(t,"faf9bra/O1C6rUqHeQpUUcT","Reborn");var i=e("net"),o=e("Common");cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Node},reborn_button:{default:null,type:cc.Node},reborn_price:{default:null,type:cc.Node},total_coin:{default:null,type:cc.Node},background:{default:null,type:cc.Node},noMoney:{default:null,type:cc.Node},enoughMoney:{default:null,type:cc.Node},pay_success:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},black:{default:null,type:cc.Node},cover:{default:null,type:cc.Node},uploading:{default:null,type:cc.Node}},onLoad:function(){},start:function(){this.uploading.active=!1,this.node.active=!1,this.noMoney.active=!1,this.enoughMoney.active=!1,this.pay_success.active=!1,this.background.active=!1,this.black.active=!1,this.gameObject=this.canvas.getComponent("Game")},showLabel:function(){this.unscheduleAllCallbacks();var e=o.reborn;cc.log("reborn:",e,i.room_id),void 0!=e?void 0!=i.room_id?1==e.revive?(this.score.getComponent("cc.Label").string=o.score,this.total_coin.getComponent("cc.Label").string=e.coin,o.rebornTime<4&&0!=e.subsection[o.rebornTime]?(this.node.active=!0,this.background.active=!0,this.enoughMoney.active=!0,this.black.active=!0,this.reborn_price.getComponent("cc.Label").string=e.subsection[o.rebornTime]):this.goDie()):this.goDie():this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1):this.goDie()},reborn:function(){var e=this,t=o.reborn;if(parseInt(t.coin)<parseInt(t.subsection[o.rebornTime]))return this.node.active=!0,this.black.active=!1,this.enoughMoney.active=!1,this.pay_success.active=!1,this.background.active=!0,void(this.noMoney.active=!0);var n=void 0,a=1,s="num="+o.rebornTime+"&room_id="+i.room_id+"&token="+i.token;if(1==o.SceneType){var c=hex_md5("YanQu"+s+"!qaz@wsx$");a=1,n=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+c}else if(12==o.SceneType||15==o.SceneType||11==o.SceneType){var r=i.getSignString(s),h=r[0];a=r[1],n=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+h}else{if(20!=o.SceneType&&21!=o.SceneType&&22!=o.SceneType)return void this.goDie();var d=hex_md5("YanQu"+s+"!qaz@wsx$");a=i.version,n=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+d}cc.log("reborn url:",n),axios.post(n,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":a}}).then(function(t){cc.log(t);var n=t.data.data;void 0!=n?(o.reborn.coin=n.coin,1==n.is_pay?e.rebornSuccess():(e.node.active=!0,e.background.active=!0,e.noMoney.active=!0)):e.goDie()}).catch(function(e){})},rebornSuccess:function(){var e=this;cc.log("reborn success"),o.rebornTime+=1,this.background.active=!1,this.black.active=!1,this.noMoney.active=!1,this.enoughMoney.active=!1,this.pay_success.active=!0,this.pay_success.opacity=255,this.pay_success.runAction(cc.fadeOut(1)),this.scheduleOnce(function(){e.node.active=!1},1),cc.find("Canvas").getComponent("Game").rebornGame()},goDie:function(){this.uploading.active=!0,cc.find("Canvas/bg").getComponent("endbg").init()},update:function(e){}}),cc._RF.pop()},{Common:"Common",net:"net"}],SnakeBody:[function(e,t,n){"use strict";cc._RF.push(t,"66580Lg+rNMPrpNq8ELkYf+","SnakeBody"),cc.Class({extends:cc.Component,properties:{snakeBody:{default:null,type:cc.Prefab},snake:{default:null,type:cc.Node},snakeHead:{default:null,type:cc.Node}},onLoad:function(){this.canvas=this.node._parent._parent,this.beNormalColor=!1,this.gameObject=this.canvas.getComponent("Game"),this.lifeLabel=cc.find("Canvas/snakeLife").getComponent("cc.Label"),this.snakeBodyAddNum=0,this.snakeBodyRemoveNum=0,this.radiansGeneration=.9,this.snakeBodyShowNumber=15,this.bodyPool=new cc.NodePool;for(var e=0;e<20;++e){var t=cc.instantiate(this.snakeBody);this.bodyPool.put(t)}this.bodyArr=[];for(var n=0;n<20;n++)this.bodyArr.push(this._spawnBody(n));this.radians=0,this.lifeLabel.string=this.bodyArr.length,this.bodyAddClock=0,this.bodyAddDuration=.1},init:function(){},_spawnBody:function(e){if(e<this.snakeBodyShowNumber){var t=null;if((t=this.bodyPool.size()>0?this.bodyPool.get():cc.instantiate(this.snakeBody))._id=e,e<1)t.setPosition(cc.v2(this.snakeHead.x,this.snakeHead.y-t.height));else{var n=this.bodyArr[e-1];t.setPosition(cc.v2(n.x,n.y-t.height))}return this.node.addChild(t),t}return 1},bodyOnKill:function(e){this.bodyPool.put(e)},addBody:function(){var e=this._spawnBody(this.bodyArr.length);this.bodyArr.push(e),this.lifeLabel.string=this.bodyArr.length},replaceBody:function(){if(this.bodyArr.length<=0)return!1;if(this.snakeHead.setPosition(this.snakeHead.x,this.bodyArr[0].position.y),this.bodyOnKill(this.bodyArr[0]),this.bodyArr.splice(0,1),this.bodyArr.length>=this.snakeBodyShowNumber){this.bodyArr[this.snakeBodyShowNumber-1]=this._spawnBody(this.snakeBodyShowNumber-1);for(var e=0;e<this.snakeBodyShowNumber;e++)this.bodyArr[e]._id=e}else for(var t=0;t<this.bodyArr.length;t++)this.bodyArr[t]._id=t;return this.lifeLabel.string=this.bodyArr.length,!0},start:function(){},update:function(e){if(this.gameObject.bonusTime?this.radiansGeneration=.8:this.radiansGeneration=.9-.02*(this.gameObject.speed-5),this.snakeBodyAddNum>0&&(this.bodyAddClock+=e,this.bodyAddClock>this.bodyAddDuration&&(this.snakeBodyAddNum-=1,this.addBody(),this.bodyAddClock=0)),this.bodyArr.length>0)for(var t=0;t<this.bodyArr.length;t++)t>=this.snakeBodyShowNumber||(this.beNormalColor&&(this.bodyArr[t].opacity=255),this.bodyArr[t].getComponent("Body").updateBody())}}),cc._RF.pop()},{}],SnakeHead:[function(e,t,n){"use strict";var i;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"a927fM8unNJVaxyOMboj9PX","SnakeHead");var a=e("Common");cc.Class({extends:cc.Component,properties:(i={redPackage:!1,snakeLife:{default:null,type:cc.Node},reborn:{default:null,type:cc.Node},snakeBody:{default:null,type:cc.Node},brickParticlePrefab:{default:null,type:cc.Prefab},headParticlePrefab:{default:null,type:cc.Prefab},bulletPrefab:{default:null,type:cc.Prefab},halo:{default:null,type:cc.Node},collideAudio:{default:null,url:cc.AudioClip},lifeAudio:{default:null,url:cc.AudioClip},starAudio:{default:null,url:cc.AudioClip},gameOverAudio:{default:null,url:cc.AudioClip},fireCollideAudio:{default:null,url:cc.AudioClip},brickAudio:{default:null,url:cc.AudioClip}},o(i,"brickAudio",{default:null,url:cc.AudioClip}),o(i,"bgmAudio",{default:null,url:cc.AudioClip}),i),onLoad:function(){this.redPackage&&cc.director.preloadScene("GameScene"),this.bgm=cc.audioEngine.play(this.bgmAudio,!0,1),this.bulletFire=!0,this.bulletClock=0,this.bulletDuration=.1,this.halo.opacity=0,this.plankWidth=6,this.brickWidth=6,this.currentBrickWidth=6,this.moveX=0,this.tempMoveX=0,this.moveY=8,this.collisionX=0,this.currentHeadPositionY=this.node.y,this.scoreLabel=cc.find("Canvas/Score").getComponent("cc.Label"),this.canvas=this.node._parent._parent,this.gameObject=this.canvas.getComponent("Game"),this.property=this.canvas.getComponent("Property"),this.substances=cc.find("Canvas/Substance"),this.lifeReposition=!1,this.CircleCollider=this.node.getComponent("cc.CircleCollider"),this.snakeBodyObject=this.snakeBody.getComponent("SnakeBody"),this.brickSpeed=this.gameObject.speed,this.brickCollide=!1,this.brickCollideClock=0,this.brickCollideDuration=.05,this.brickShockClock=0,this.brickShockDuration=.05,this.brickShockBegin=!1,this.brickShockGeneration=-10,this.brickShockPositionGeneration=-5,this.onCollide=!1,this.headRepositionProcess=!1,this.brickId=0,this.tempY=0,this.haloShrink=-5,this.node.side="",this.blackType=!1,this.node.blackHole=!1,this.starCollideClock=0,this.starCollide=!1,this.setInputControl()},setInputControl:function(){var e=this;this.canvas.on(cc.Node.EventType.TOUCH_START,function(e){}),this.canvas.on(cc.Node.EventType.TOUCH_CANCEL,function(e){}),this.canvas.on(cc.Node.EventType.TOUCH_END,function(e){}),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(!e.blackType){var n=t;e.moveX=n.touch._point.x-n.touch._prevPoint.x;n.touch._point.y,n.touch._prevPoint.y;e.moveX>100&&(e.moveX=100),e.moveX<-100&&(e.moveX=-100),0!=e.moveX&&(e.tempMoveX=e.moveX)}})},snakeMoveTo:function(e){if("Canvas"===this.canvas._name&&(this.property.fireOn?this.node.color=new cc.Color(1,1,1):this.node.color=new cc.Color(255,255,255)),this.moveX<0){if(-1===this.collisionX)return}else if(this.moveX>0&&1===this.collisionX)return;this.node.y>this.node.moveYMin&&(this.node.x+this.node.width/2+1.2*this.moveX>this.node.moveXMax?(this.node.x=this.node.moveXMax-this.node.width/2-2,this.moveX=0):this.node.x-this.node.width/2+1.2*this.moveX<this.node.moveXMin&&(this.node.x=this.node.moveXMin+this.node.width/2+2,this.moveX=0)),this.node.x+=1.2*this.moveX,this.moveX=0,this.snakeLife.x=this.node.x,this.node.x>this.canvas.width/2-this.node.width/2?this.node.x=this.canvas.width/2-this.node.width/2:this.node.x<-this.canvas.width/2+this.node.width/2&&(this.node.x=-this.canvas.width/2+this.node.width/2)},onCollisionEnter:function(e,t){if(this.blackType){if("blackHole"===e.node.group)t.node.opacity=255,t.node.x=e.node.x,this.blackType=!1,this.node.blackHole=!1;else if("life"===e.node.group){cc.audioEngine.play(this.lifeAudio,!1,1);var n=Number(e.node.getChildByName("label").getComponent("cc.Label").string);this.snakeBodyObject.snakeBodyAddNum+=n,e.node.destroy()}}else if("brick"===e.node.group)this.brickPreCollide(e,t);else if("plank"===e.node.group)this.plankPreCollide(e,t);else if(2===e.tag){cc.audioEngine.play(this.lifeAudio,!1,1);var i=Number(e.node.getChildByName("label").getComponent("cc.Label").string);this.snakeBodyObject.snakeBodyAddNum+=i,e.node.destroy()}else"bricks"===e.node.group||("snowFlower"===e.node.group?(this.property.getProperty("slowDown"),e.node.destroy()):"blackHole"===e.node.group?this.property.fireOn||"bottom"===e.node.side&&(t.node.opacity=0,t.node.x=e.node.x,this.node.blackHole=!0,this.blackType=!0):"star"===e.node.group&&(this.starCollide||(cc.audioEngine.play(this.starAudio,!1,.8),this.starCollide=!0,this.starCollideClock=0),a.score+=1,this.scoreLabel.string=a.score,e.node.destroy()))},onCollisionExit:function(e,t){"brick"===e.node.group||"bricks"===e.node.group&&(this.collideBrick=!1),t.touchingX&&(this.collisionX=0,t.touchingX=!1),this.moveX=0,this.collisionX=0},onCollisionStay:function(e,t){this.blackType||("plank"===e.node.group?this.plankPreCollide(e,t):"brick"===e.node.group?this.brickPreCollide(e,t):"bricks"===e.node.group&&this.collideBrick&&this.stopScheduler())},brickPreCollide:function(e,t){var n=e.world.aabb,i=e.world.preAabb.clone(),o=t.world.aabb,s=t.world.preAabb.clone();if(s.x=o.x,i.x=n.x,this.node.rotation=0,cc.Intersection.rectRect(s,i)&&(this.tempMoveX<0&&s.xMax>i.xMax?(this.node.x=e.node.x+e.node.width/2+t.node.width/2+2,this.CircleCollider.x=this.node.x,this.collisionX=-1):this.tempMoveX>0&&s.xMin<i.xMin?(this.node.x=e.node.x-t.node.width/2-e.node.width/2-2,this.CircleCollider.x=this.node.x,this.collisionX=1):t.node.x>e.node.x?(this.node.x=e.node.x+t.node.width/2+e.node.width/2+2,this.CircleCollider.x=this.node.x,this.collisionX=-1):t.node.x<e.node.x&&(this.node.x=e.node.x-t.node.width/2-e.node.width/2,this.CircleCollider.x=this.node.x,this.collisionX=1),this.moveX=0,e.touchingX=!0,this.tempY!==i.y))this.tempY=i.y;else if(s.y=o.y,i.y=n.y,this.node.x<i.xMax-this.canvas.width/2&&this.node.x>i.xMin-this.canvas.width&&cc.Intersection.rectRect(o,n))if(this.property.fireOn)cc.audioEngine.play(this.fireCollideAudio,!1,1),e.node.getChildByName("property").children.length<1||this.property.getProperty(e.node.getChildByName("property").children[0]._name),this.spawnBrickParticle(e.node.position),a.score+=Number(e.node.getChildByName("life").getComponent("cc.Label").string),this.scoreLabel.string=a.score,e.node.getChildByName("property").children.length<1||e.node.getChildByName("property").children[0].destroy(),e.node.active=!1;else if(cc.audioEngine.play(this.collideAudio,!1,1),s.y<i.yMin){if(this.onCollide=!0,this.stopScheduler(),this._spawnHeadParticle(),!this.snakeBodyObject.replaceBody())return e.node.active=!1,cc.audioEngine.stop(this.bgm),this.gameObject.cover.active=!0,cc.audioEngine.play(this.gameOverAudio,!1,1),cc.find("Canvas/reborn").getComponent("Reborn").showLabel(),void(this.node.active=!1);this.onCollide=!1;var c=e.node.getChildByName("life").getComponent("cc.Label").string;c<2?(cc.audioEngine.play(this.brickAudio,!1,1),a.score+=1,this.scoreLabel.string=a.score,this.spawnBrickParticle(e.node.position),e.node.getChildByName("property").children.length<1||(this.property.getProperty(e.node.getChildByName("property").children[0]._name),e.node.getChildByName("property").children[0].destroy()),e.node.setPosition(0,0),this.collideBrick=!1,e.node.active=!1,this.resumeScheduler()):(c-=1,a.score+=1,e.node.color=c>15?new cc.Color(115,100,255,255):c>10?new cc.Color(149,128,255,255):c>5?new cc.Color(180,135,255,255):new cc.Color(208,170,255,255),this.scoreLabel.string=a.score,e.node.getChildByName("life").getComponent("cc.Label").string=c)}},plankPreCollide:function(e,t){var n=e.world.aabb,i=e.world.preAabb.clone(),o=t.world.aabb,a=t.world.preAabb.clone();a.x=o.x,i.x=n.x,cc.Intersection.rectRect(a,i)&&(this.tempMoveX<0&&a.xMax>i.xMax?(this.node.x=e.node.x+t.node.width/2+e.node.width/2+2,this.CircleCollider.x=this.node.x,this.collisionX=-1):a.xMin<i.xMin?(this.node.x=e.node.x-t.node.width/2-e.node.width/2-2,this.CircleCollider.x=this.node.x,this.collisionX=1):a.xMin>=i.xMin?(this.node.x=e.node.x+t.node.width/2+e.node.width/2+2,this.CircleCollider.x=this.node.x,this.collisionX=-1):a.xMax<=i.xMax&&(this.node.x=e.node.x-t.node.width/2-e.node.width/2-2,this.CircleCollider.x=this.node.x,this.collisionX=1)),this.moveX=0},resumeScheduler:function(){this.gameObject.scheduler=!0},stopScheduler:function(){this.gameObject.scheduler=!1},headReposition:function(){this.headRepositionProcess=!0;var e=this.node.y-this.currentHeadPositionY;if(Math.abs(e)<5)return this.headRepositionProcess=!1,this.node.y=this.currentHeadPositionY,this.gameObject.radiansChange=!0,void(this.onCollide||this.resumeScheduler());this.node.y!=this.currentHeadPositionY&&(this.gameObject.radiansChange=!1),e>0?(this.lifeReposition&&(this.snakeLife.y-=this.moveY),this.node.y-=this.moveY):e<0&&(this.lifeReposition&&(this.snakeLife.y+=this.moveY),this.node.y+=this.moveY)},spawnBrickParticle:function(e){var t=cc.instantiate(this.brickParticlePrefab);t.setPosition(e.x,e.y),this.canvas.addChild(t)},_spawnHeadParticle:function(){var e=cc.instantiate(this.headParticlePrefab);e.setPosition(this.node.x,this.node.y),this.canvas.addChild(e)},_spawnBullet:function(){var e=cc.instantiate(this.bulletPrefab);e.setPosition(this.node.x,this.node.y),this.canvas.addChild(e)},haloChange:function(){this.halo.x>this.canvas.width/2?this.halo.x=this.canvas.width/2-this.node.width/2-2:this.halo.x<-this.canvas.width/2&&(this.halo.x=-this.canvas.width/2+this.node.width/2+2),this.halo.x=this.node.x,this.halo.width+=this.haloShrink,this.halo.height+=this.haloShrink,this.halo.width<80?this.haloShrink*=-1:this.halo.width>200&&(this.haloShrink*=-1)},update:function(e){this.headReposition(),this.snakeMoveTo(e),this.haloChange(),this.starCollide&&(this.starCollideClock+=e,this.starCollideClock>.1&&(this.starCollide=!1))},start:function(){}}),cc._RF.pop()},{Common:"Common"}],Start:[function(e,t,n){"use strict";cc._RF.push(t,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var i=e("Common"),o=e("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var e=this;this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){e.preload=!0,cc.log("preload success",e.preload,e.netload),e.netload&&(e.button.active=!0)})},chooseEnv:function(){if(void 0==o.type)if(void 0==o.token)void 0!==o.singletoken&&(this.rankButton.active=!0,1==o.env?i.url=o.url.appoffline:2==o.env?i.url=o.url.apppre:i.url=o.url.apponline,i.SceneType=10);else{if(1==o.env){var e=void 0;try{e=window.yanqu.getBrowerID()}catch(e){}i.url=o.url.appoffline,i.SceneType="yqbrower"==e?12:1}else i.SceneType=11,2==o.env?i.url=o.url.apppre:i.url=o.url.apponline;5==o.apptype&&(i.SceneType=15)}else 1==o.env?i.url=o.url.wxoffline:2==o.env?i.url=o.url.wxpre:i.url=o.url.wxonline,void 0!==o.singletoken&&(this.rankButton.active=!0,i.SceneType=10),3==o.type?i.SceneType=20:4==o.type?i.SceneType=21:5==o.type&&(i.SceneType=22);cc.log("scenetype:",i.SceneType)},getInfo:function(){var e,t=this,n="room_id="+o.room_id+"&token="+o.token,a=o.version,s=void 0;if(1==i.SceneType)s=hex_md5("YanQu"+n+"!qaz@wsx$"),a=1,o.AREA=1,this.transcend(s,a);else if(12==i.SceneType||15==i.SceneType||11==i.SceneType){var c=o.getSignString(n);s=c[0],a=c[1],o._version=a,this.transcend(s,a)}else if(20==i.SceneType||21==i.SceneType||22==i.SceneType)this.transcend();else if(10==i.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));e=i.url+"/live_game/revive?token="+o.token+"&room_id="+o.room_id+"&sign="+s,axios.post(e,{},{headers:{AREA:o.AREA,"CLIENT-VERSION":a}}).then(function(e){cc.log("start respose:",e);var n=e.data.data;i.reborn=n,t.netload=!0,t.preload&&(t.button.active=!0)}).catch(function(e){t.button.active=!0,cc.log(e)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(e,t){cc.log(e,t);var n,a=o.token,s=o.room_id,c=e;void 0==e&&(c=hex_md5("YanQu"+("room_id="+s+"&token="+a)+"!qaz@wsx$"));var r=o.AREA,h=t;void 0==t&&(h=o.version),n=i.url+"/live/section_rank_score?token="+a+"&room_id="+s+"&sign="+c,axios.post(n,{},{headers:{AREA:r,"CLIENT-VERSION":h}}).then(function(e){cc.log("rank:",e),Object.keys(e.data.data.rank).forEach(function(t){i.rank.push(e.data.data.rank[t])}),cc.log(i.rank)},this).catch(function(e){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(o))},update:function(e){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],Star:[function(e,t,n){"use strict";cc._RF.push(t,"4c0f2SyDpxJjp8M4SovU1kU","Star"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.canvas=cc.find("Canvas"),this.gameObject=this.canvas.getComponent("Game")},start:function(){},update:function(e){this.gameObject.scheduler&&(this.node.y-=this.gameObject.speed),this.node.y<-740&&this.node.destroy()}}),cc._RF.pop()},{}],Substance:[function(e,t,n){"use strict";cc._RF.push(t,"2e7bamjok9Hb74wsWSIawLj","Substance");e("Common");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.canvas=cc.find("Canvas"),this.gameObject=this.canvas.getComponent("Game")},start:function(){},onCollisionEnter:function(e,t){},onCollisionExit:function(e,t){},_brickMove:function(){this.node.y-=this.gameObject.speed,this.node.y<-1280&&("plank"===this.node._name?this.gameObject.plankOnKill(this.node):this.node.destroy())},update:function(e){this.gameObject.scheduler&&this._brickMove()}}),cc._RF.pop()},{Common:"Common"}],chaoyue:[function(e,t,n){"use strict";cc._RF.push(t,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var i=e("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",i.SceneType,i.rank),(11===i.SceneType||12===i.SceneType||20===i.SceneType||1==i.SceneType)&&0!=i.rank.length){this._ranking=i.rank.length,this.transcendFunc();var e=cc.instantiate(this.transcendPrefab);this.node.addChild(e),e.opacity=0,e.getComponent("transcend").init(i.rank[this._ranking-1].avatar,i.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",i.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var e=i.rank,t=this.scoreLabel.string,n=0;n<e.length;n++)if(Number(t)>Number(e[n].score)&&(cc.log(t,e[n].score,n),this._ranking>n)){var o=cc.instantiate(this.transcendPrefab);this.node.addChild(o),o.setPosition(cc.v2(0,0)),o.opacity=0,o.getComponent("transcend").init(i.rank[n].avatar,i.rank[n].rank);var a=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return o.runAction(a),this._ranking=n,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(e,t,n){"use strict";cc._RF.push(t,"b0123F/GzdDoYtgcFawA/yh","endbg");var i=e("Common"),o=e("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",o),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){this.node.zIndex=2,this.node.active=!0,10===i.SceneType?(this.weixing.active=!0,this.putongRank()):11===i.SceneType||12===i.SceneType||1===i.SceneType?(this.hongbao.active=!0,this.hongBao()):20===i.SceneType?(this.weixing.active=!0,this.wechat()):21===i.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===i.SceneType||15===i.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+i.score)},start:function(){},putongRank:function(){var e=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var t,n=o.singletoken,a=o.AREA,s="game_id="+i.GameId+"&score="+e+"&token="+n,c=hex_md5("YanQu"+s+"!qaz@wsx$"),r=o.version;t=i.url+"/game/single_push_data?token="+n+"&game_id="+i.GameId+"&score="+e+"&sign="+c,cc.log(t),axios.post(t,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(cc.log("code:",t),400404==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){10==i.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank,o=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,o===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,o===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,o===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},hongBao:function(){var e=i.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=e;var t,n=o.token,a=o.room_id,s=o.AREA,c=(o.env,"room_id="+a+"&score="+e+"&token="+n),r=void 0,h=void 0;try{var d=window.yanqu.getSignString(c);r=JSON.parse(d).sign.sign,h=JSON.parse(d).header.VERSION}catch(e){}1===i.SceneType&&(r=hex_md5("YanQu"+c+"!qaz@wsx$")),t=i.url+"/live_game/push_data?token="+n+"&score="+e+"&room_id="+a+"&sign="+r,axios.post(t,{},{headers:{AREA:s,"CLIENT-VERSION":h}}).then(function(e){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="";var n=e.data.data.rank_list,i=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechat:function(){var e=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var t,n=o.token,a=o.room_id,s=o.AREA,c=hex_md5("YanQu"+("room_id="+a+"&score="+e+"&token="+n)+"!qaz@wsx$"),r=o.version;t=i.url+"/live_game/push_data?token="+n+"&score="+e+"&room_id="+a+"&sign="+c,cc.log(t),axios.post(t,{},{headers:{AREA:s,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(cc.log("code:",t),400404==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank_list,i=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechathelp:function(){var e,t=o.token,n=o.room_id,a=o.AREA,s="help_score="+i.score+"&room_id="+n+"&token="+t+"&user_id="+o.helpuid,c=hex_md5("YanQu"+s+"!qaz@wsx$");e=i.url+"/live_game/push_data?token="+t+"&help_score="+i.score+"&room_id="+n+"&user_id="+o.helpuid+"&sign="+c;var r=o.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="";var n=e.data.data.rank_list,o=e.data.data.current_rank,a=e.data.data.max_help_score;console.log("head",n),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+a+" \u5206",n[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,o===n[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,o===n[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,o===n[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==t){var s=e.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+s.message}}).catch(function(e){cc.log(e)})},teamend:function(){cc.log("team");var e,t=o.token,n=o.room_id,a=o.AREA,s="room_id="+n+"&score="+i.score+"&token="+t,c=hex_md5("YanQu"+s+"!qaz@wsx$");e=i.url+"/live_game/push_data?token="+t+"&score="+i.score+"&room_id="+n+"&sign="+c;var r=o.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank_list,o=e.data.data.current_rank,a=e.data.data.max_score;console.log("head",n),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+a+" \u5206",n[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,o===n[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,o===n[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,o===n[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==t){var s=e.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+s.message}}).catch(function(e){cc.log(e)})},turn:function(){i.score=0,i.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})}}),cc._RF.pop()},{Common:"Common",net:"net"}],fireParticle:[function(e,t,n){"use strict";cc._RF.push(t,"cd5caoAcnVDIrxySUl/Fzwp","fireParticle"),cc.Class({extends:cc.Component,properties:{snakeHead:{default:null,type:cc.Node}},onLoad:function(){},start:function(){},update:function(e){this.node.x=this.snakeHead.position.x,this.node.y=this.snakeHead.position.y}}),cc._RF.pop()},{}],net:[function(e,t,n){"use strict";cc._RF.push(t,"62e73sDA6dOGolthqoGzpA1","net");var i=function(){var e=window.location.search,t=new Object;if(-1!=e.indexOf("?"))for(var n=e.substr(1),i=n.split("&"),o=0;o<i.length;o++)t[i[o].split("=")[0]]=i[o].split("=")[1];return t}();var o={token:i.token,room_id:i.room_id,AREA:i.AREA,env:i.env,type:i.type,version:i.version,helpuid:i.helpuid,teamid:i.teamid,apptype:i.apptype,singletoken:i.singletoken,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(e){var t=[];try{var n=window.yanqu.getSignString(e),i=JSON.parse(n).sign.sign,o=JSON.parse(n).header.VERSION;t.push(i),t.push(o)}catch(e){}return t}};t.exports=o,cc._RF.pop()},{}],transcend:[function(e,t,n){"use strict";cc._RF.push(t,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(e,t){var n=this;cc.log(e,t);var i="http://image.dialect-tv.com/"+e;cc.log("url: ",i),cc.loader.load(i,function(e,t){if(e)cc.log(e);else{n.texture=t;var i=new cc.SpriteFrame(t);n.img.spriteFrame=i}}),this.num.string="\u7b2c"+t+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Common","Block","Rank","Start","chaoyue","transcend","endbg","net","Reborn","Background","BlackHole","Body","BrickCollide","Bullet","CameraScript","Game","Life","Particle","PreCollide","Property","SnakeBody","SnakeHead","Star","Substance","fireParticle"]);