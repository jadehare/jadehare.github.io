window.__require=function n(e,t,a){function i(o,r){if(!t[o]){if(!e[o]){var s=o.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+o+"'")}}var g=t[o]={exports:{}};e[o][0].call(g.exports,function(n){return i(e[o][1][n]||n)},g,g.exports,n,e,t,a)}return t[o].exports}for(var c="function"==typeof __require&&__require,o=0;o<a.length;o++)i(a[o]);return i}({Block:[function(n,e,t){"use strict";cc._RF.push(e,"7678faPbyJLrph1RxP8mctM","Block");var a=n("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(n,e,t,i){var c=this;this.rankLabel.string=n,this.rankLabel.node.color="1"==n?new cc.Color(255,0,0,255):"2"==n?new cc.Color(255,102,0,255):"3"==n?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=t,this.score.string=i,""==e||(cc.log("load pic",a.url+"/"+e),cc.loader.load("http://image.dialect-tv.com/"+e,function(n,e){n&&console.error(n),c.userIcon.spriteFrame=new cc.SpriteFrame(e)}))}}),cc._RF.pop()},{Common:"Common"}],Brick:[function(n,e,t){"use strict";cc._RF.push(e,"39c59ujBONGLryRZhCOKPY5","Brick"),Object.defineProperty(t,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,c=a.property,o=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.num_label=null,e}return __extends(e,n),e.prototype.onLoad=function(){},e.prototype.start=function(){this.node.color=new cc.Color(255,193,96),this.setInputControl(),this.num_label.scale=this.node.width/200},e.prototype.setInputControl=function(){var n=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){var t=n.node.getChildByName("num").getComponent("cc.Label").string;n.node.parent.parent.getComponent("Game").selectBrick(t)?n.node.color=new cc.Color(51,255,0):n.node.color=new cc.Color(255,0,51)})},__decorate([c(cc.Node)],e.prototype,"num_label",void 0),e=__decorate([i],e)}(cc.Component);t.default=o,cc._RF.pop()},{}],Common:[function(n,e,t){"use strict";cc._RF.push(e,"7909a3apzlKmp1KvIKOAlkf","Common");e.exports={level:0,SceneType:0,reborn:{},rebornTime:1,GameId:28,url:"",rank:[]},cc._RF.pop()},{}],Game:[function(n,e,t){"use strict";cc._RF.push(e,"b5af1Sg3bRO1oV27Guk0Jtr","Game"),Object.defineProperty(t,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,c=a.property,o=n("./Common"),r=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.count_down=null,e.game_illu=null,e.playground=null,e.title=null,e.game_over=null,e.cover=null,e.loading_scene=null,e.endNode=null,e.brick_prefab=null,e.answer_right_audio="",e.answer_wrong_audio="",e.game_begin=!1,e.count_down_num=0,e.count_down_label=null,e.title_label=null,e.min_num=0,e}return __extends(e,n),e.prototype.onLoad=function(){this.count_down_label=this.count_down.getComponent("cc.Label"),this.title_label=this.title.getComponent("cc.Label"),this.loading_scene.active=!1},e.prototype.start=function(){this.game_over.active=!1,this.init()},e.prototype.init=function(){if(0===o.level)return this.cover.active=!0,this.count_down_num=3,void this.countDown();o.level<=12?this.count_down_num=10:o.level<=25?this.count_down_num=15:this.count_down_num=30,this.title_label.string="\u7b2c"+o.level+"\u5173",this.playground.removeAllChildren(),this.getProblem(),this.countDown()},e.prototype.setInputControl=function(){var n=this;this.title.on(cc.Node.EventType.TOUCH_START,function(e){n.unscheduleAllCallbacks(),o.level++,n.init()})},e.prototype.countDown=function(){var n=this;if(this.count_down_num<0)return 0!==o.level?void this.gameEnd():(this.cover.active=!1,this.game_illu.active=!1,o.level++,this.title_label.string="\u7b2c"+o.level+"\u5173",void this.init());this.count_down_label.string=this.count_down_num--,this.scheduleOnce(function(){n.countDown()},1)},e.prototype.getProblem=function(){var n=0,e=0,t=0;o.level<=3?(n=2,e=51,t=99):o.level<=6?(n=2,e=11,t=99):o.level<=9?(n=3,e=71,t=99):o.level<=12?(n=3,e=31,t=99):o.level<=15?(n=4,e=71,t=99):o.level<=18?(n=4,e=51,t=99):o.level<=21?(n=4,e=31,t=99):o.level<=25?(n=4,e=11,t=99):o.level<=30?(n=5,e=71,t=99):o.level<=40?(n=5,e=51,t=99):o.level<=50?(n=5,e=31,t=99):(n=5,e=11,t=99),this.spawnBricks(n,e,t)},e.prototype.spawnBricks=function(n,e,t){var a=this.ranRandomNumBoth(e,t,n*n);this.min_num=this.min(a);for(var i=0,c=0;c<n;c++)for(var o=0;o<n;o++){var r=cc.instantiate(this.brick_prefab),s=cc.v2(0,0);s.x=this.playground.width/(2*n)+o*(this.playground.width/n),s.y=this.playground.height/(2*n)+c*(this.playground.height/n),r.setPosition(s),r.width=this.playground.width/n-20,r.height=this.playground.height/n-20,r.getChildByName("num").getComponent("cc.Label").string=a[i],this.playground.addChild(r),i++}},e.prototype.selectBrick=function(n){return this.unscheduleAllCallbacks(),n==this.min_num?(cc.audioEngine.play(this.answer_right_audio,!1,1),o.level++,this.title_label.string="\u7b2c"+o.level+"\u5173",this.init(),!0):(this.gameEnd(),!1)},e.prototype.ranRandomNumBoth=function(n,e,t){for(var a=[],i=0;i<Math.floor(t);){var c=Math.floor(Math.random()*(e-n)+n);a.indexOf(c)<0&&(a.push(c),i++)}return a},e.prototype.min=function(n){return Math.min.apply(null,n)},e.prototype.gameEnd=function(){cc.audioEngine.play(this.answer_wrong_audio,!1,1),this.game_over.active=!0,this.cover.active=!0;for(var n=0;n<this.playground.children.length;n++)if(this.playground.children[n].getChildByName("num").getComponent("cc.Label").string==this.min_num){this.playground.children[n].color=new cc.Color(51,255,0);break}this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1)},e.prototype.restart=function(){this.loading_scene.active=!1,this.playground.removeAllChildren(),this.game_over.active=!1,this.game_illu.active=!0,o.level=0,this.title_label.string="\u7b2c1\u5173",this.init()},e.prototype.update=function(n){},__decorate([c(cc.Node)],e.prototype,"count_down",void 0),__decorate([c(cc.Node)],e.prototype,"game_illu",void 0),__decorate([c(cc.Node)],e.prototype,"playground",void 0),__decorate([c(cc.Node)],e.prototype,"title",void 0),__decorate([c(cc.Node)],e.prototype,"game_over",void 0),__decorate([c(cc.Node)],e.prototype,"cover",void 0),__decorate([c(cc.Node)],e.prototype,"loading_scene",void 0),__decorate([c(cc.Node)],e.prototype,"endNode",void 0),__decorate([c(cc.Prefab)],e.prototype,"brick_prefab",void 0),__decorate([c(cc.AudioClip)],e.prototype,"answer_right_audio",void 0),__decorate([c(cc.AudioClip)],e.prototype,"answer_wrong_audio",void 0),e=__decorate([i],e)}(cc.Component);t.default=r,cc._RF.pop()},{"./Common":"Common"}],Rank:[function(n,e,t){"use strict";cc._RF.push(e,"a85ca6+unNLWaN7ujmWKgFm","Rank");var a=n("net"),i=n("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==i.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var n=this.statusArray.length;n>12&&(n=12);for(var e=0;e<n;++e){var t=this.statusArray[e],a=t.rank,i=t.avatar,c=t.nickname,o=t.score,r=this.spawnBlock();this.content.addChild(r),r.setPosition(0,-this.itemHeight*(.5+e)),e%2==0&&(r.getChildByName("bg").opacity=0),r.getComponent("Block").init(a,i,c,o),this.blockArr.push(r)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+1))},getStatus:function(n){var e=this,t=a.AREA,c=a.version,o=a.singletoken;cc.log(t,c);var r=i.GameId,s=hex_md5("YanQu"+("game_id="+r+"&page="+n+"&token="+o)+"!qaz@wsx$"),l=i.url+"/game/single_rank_all?token="+o+"&game_id="+r+"&page="+n+"&sign="+s;cc.log(l),axios.post(l,{},{headers:{AREA:t,"CLIENT-VERSION":c}}).then(function(t){cc.log(t);for(var a=t.data.data.rank_list,i=0;i<a.length;i++)e.statusArray.push(a[i]);e.currentPage=n,e.statusControl(t.data.data.current),e.content.height+=a.length*e.itemHeight,a.length<20&&(e.rankDied=!0),e.loading.opacity=0},this).catch(function(n){cc.log(n)})},statusControl:function(n){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(n)):this.refreshRank()},initSelf:function(n){cc.log("self data:",n);var e=n.rank,t=n.avatar,a=n.nickname,i=n.score,c=this.spawnBlock();c.getComponent("Block").init(e,t,a,i),this.self.addChild(c)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(n,e){1==e&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var n=0;n<this.blockArr.length;n++){var e=this.blockArr[n],t=Math.abs(e.y),a=Math.round((t+60)/120)-1;if(a>this.statusArray.length-1||a<0)e.opacity=0;else{e.opacity=255;var i=this.statusArray[a],c=i.rank,o=i.avatar,r=i.nickname,s=i.score;e.getComponent("Block").init(c,o,r,s)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var n=0;n<this.blockArr.length;n++){if(this.content.y+this.blockArr[n].y>660){var e=this.blockArr[n];e.y-=1440;var t=Math.abs(e.y),a=Math.round((t+60)/120);if(a>this.statusArray.length||a<0){e.opacity=0;continue}e.opacity=255;var i=this.statusArray[a-1],c=i.rank,o=i.avatar,r=i.nickname,s=i.score;e.getComponent("Block").init(c,o,r,s)}if(this.content.y+this.blockArr[n].y<-660){var l=this.blockArr[n];l.y+=1440;var g=Math.abs(l.y),p=Math.round((g+60)/120);if(p>this.statusArray.length){l.opacity=0;continue}l.opacity=255;var h=this.statusArray[p-1],d=h.rank,u=h.avatar,b=h.nickname,m=h.score;l.getComponent("Block").init(d,u,b,m)}}},update:function(n){this.statusBeGet&&(this.undateCount+=n,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Start:[function(n,e,t){"use strict";cc._RF.push(e,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var a=n("Common"),i=n("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var n=this;this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){n.preload=!0,cc.log("preload success",n.preload,n.netload),n.netload&&(n.button.active=!0)})},chooseEnv:function(){if(void 0==i.type)if(void 0==i.token)void 0!==i.singletoken&&(this.rankButton.active=!0,1==i.env?a.url=i.url.appoffline:2==i.env?a.url=i.url.apppre:a.url=i.url.apponline,a.SceneType=10);else{if(1==i.env){var n=void 0;try{n=window.yanqu.getBrowerID()}catch(n){}a.url=i.url.appoffline,a.SceneType="yqbrower"==n?12:1}else a.SceneType=11,2==i.env?a.url=i.url.apppre:a.url=i.url.apponline;5==i.apptype&&(a.SceneType=15)}else 1==i.env?a.url=i.url.wxoffline:2==i.env?a.url=i.url.wxpre:a.url=i.url.wxonline,void 0!==i.singletoken&&(this.rankButton.active=!0,a.SceneType=10),3==i.type?a.SceneType=20:4==i.type?a.SceneType=21:5==i.type&&(a.SceneType=22);cc.log("scenetype:",a.SceneType)},getInfo:function(){var n,e=this,t="room_id="+i.room_id+"&token="+i.token,c=i.version,o=void 0;if(1==a.SceneType)o=hex_md5("YanQu"+t+"!qaz@wsx$"),c=1,i.AREA=1,this.transcend(o,c);else if(12==a.SceneType||15==a.SceneType||11==a.SceneType){var r=i.getSignString(t);o=r[0],c=r[1],i._version=c,this.transcend(o,c)}else if(20==a.SceneType||21==a.SceneType||22==a.SceneType)this.transcend();else if(10==a.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));n=a.url+"/live_game/revive?token="+i.token+"&room_id="+i.room_id+"&sign="+o,axios.post(n,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":c}}).then(function(n){cc.log("start respose:",n);var t=n.data.data;a.reborn=t,e.netload=!0,e.preload&&(e.button.active=!0)}).catch(function(n){e.button.active=!0,cc.log(n)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(n,e){cc.log(n,e);var t,c=i.token,o=i.room_id,r=n;void 0==n&&(r=hex_md5("YanQu"+("room_id="+o+"&token="+c)+"!qaz@wsx$"));var s=i.AREA,l=e;void 0==e&&(l=i.version),t=a.url+"/live/section_rank_score?token="+c+"&room_id="+o+"&sign="+r,axios.post(t,{},{headers:{AREA:s,"CLIENT-VERSION":l}}).then(function(n){cc.log("rank:",n),Object.keys(n.data.data.rank).forEach(function(e){a.rank.push(n.data.data.rank[e])}),cc.log(a.rank)},this).catch(function(n){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(i))},update:function(n){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],chaoyue:[function(n,e,t){"use strict";cc._RF.push(e,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var a=n("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",a.SceneType,a.rank),(11===a.SceneType||12===a.SceneType||20===a.SceneType||1==a.SceneType)&&0!=a.rank.length){this._ranking=a.rank.length,this.transcendFunc();var n=cc.instantiate(this.transcendPrefab);this.node.addChild(n),n.opacity=0,n.getComponent("transcend").init(a.rank[this._ranking-1].avatar,a.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",a.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var n=a.rank,e=a.level,t=0;t<n.length;t++)if(Number(e)>Number(n[t].score)&&(cc.log(e,n[t].score,t),this._ranking>t)){var i=cc.instantiate(this.transcendPrefab);this.node.addChild(i),i.setPosition(cc.v2(0,0)),i.opacity=0,i.getComponent("transcend").init(a.rank[t].avatar,a.rank[t].rank);var c=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return i.runAction(c),this._ranking=t,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(n,e,t){"use strict";cc._RF.push(e,"b0123F/GzdDoYtgcFawA/yh","endbg");var a=n("Common"),i=n("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",i),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===a.SceneType?(this.weixing.active=!0,this.putongRank()):11===a.SceneType||12===a.SceneType||1===a.SceneType?(this.hongbao.active=!0,this.hongBao()):20===a.SceneType?(this.weixing.active=!0,this.wechat()):21===a.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===a.SceneType||15===a.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+a.level)},start:function(){},putongRank:function(){var n=a.level;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,t=i.singletoken,c=i.AREA,o="game_id="+a.GameId+"&score="+n+"&token="+t,r=hex_md5("YanQu"+o+"!qaz@wsx$"),s=i.version;e=a.url+"/game/single_push_data?token="+t+"&game_id="+a.GameId+"&score="+n+"&sign="+r,cc.log(e),axios.post(e,{},{headers:{AREA:c,"CLIENT-VERSION":s}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},hongBao:function(){var n=a.level;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=n;var e,t=i.token,c=i.room_id,o=i.AREA,r=(i.env,"room_id="+c+"&score="+n+"&token="+t),s=void 0,l=void 0;try{var g=window.yanqu.getSignString(r);s=JSON.parse(g).sign.sign,l=JSON.parse(g).header.VERSION}catch(n){}1===a.SceneType&&(s=hex_md5("YanQu"+r+"!qaz@wsx$")),e=a.url+"/live_game/push_data?token="+t+"&score="+n+"&room_id="+c+"&sign="+s,axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":l}}).then(function(n){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="";var t=n.data.data.rank_list,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechat:function(){var n=a.level;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,t=i.token,c=i.room_id,o=i.AREA,r=hex_md5("YanQu"+("room_id="+c+"&score="+n+"&token="+t)+"!qaz@wsx$"),s=i.version;e=a.url+"/live_game/push_data?token="+t+"&score="+n+"&room_id="+c+"&sign="+r,cc.log(e),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":s}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechathelp:function(){var n,e=i.token,t=i.room_id,c=i.AREA,o="help_score="+a.level+"&room_id="+t+"&token="+e+"&user_id="+i.helpuid,r=hex_md5("YanQu"+o+"!qaz@wsx$");n=a.url+"/live_game/push_data?token="+e+"&help_score="+a.level+"&room_id="+t+"&user_id="+i.helpuid+"&sign="+r;var s=i.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":s}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="";var t=n.data.data.rank_list,i=n.data.data.current_rank,c=n.data.data.max_help_score;console.log("head",t),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=a.level,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+c+" \u5206",t[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},teamend:function(){cc.log("team");var n,e=i.token,t=i.room_id,c=i.AREA,o="room_id="+t+"&score="+a.level+"&token="+e,r=hex_md5("YanQu"+o+"!qaz@wsx$");n=a.url+"/live_game/push_data?token="+e+"&score="+a.level+"&room_id="+t+"&sign="+r;var s=i.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":s}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,i=n.data.data.current_rank,c=n.data.data.max_score;console.log("head",t),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=a.level,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+c+" \u5206",t[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},turn:function(){a.level=0,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(n,e,t){"use strict";cc._RF.push(e,"62e73sDA6dOGolthqoGzpA1","net");var a=function(){var n=window.location.search,e=new Object;if(-1!=n.indexOf("?"))for(var t=n.substr(1),a=t.split("&"),i=0;i<a.length;i++)e[a[i].split("=")[0]]=a[i].split("=")[1];return e}();var i={token:a.token,room_id:a.room_id,AREA:a.AREA,env:a.env,type:a.type,version:a.version,helpuid:a.helpuid,teamid:a.teamid,apptype:a.apptype,singletoken:a.singletoken,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(n){var e=[];try{var t=window.yanqu.getSignString(n),a=JSON.parse(t).sign.sign,i=JSON.parse(t).header.VERSION;e.push(a),e.push(i)}catch(n){}return e}};e.exports=i,cc._RF.pop()},{}],transcend:[function(n,e,t){"use strict";cc._RF.push(e,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(n,e){var t=this;cc.log(n,e);var a="http://image.dialect-tv.com/"+n;cc.log("url: ",a),cc.loader.load(a,function(n,e){if(n)cc.log(n);else{t.texture=e;var a=new cc.SpriteFrame(e);t.img.spriteFrame=a}}),this.num.string="\u7b2c"+e+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Brick","Common","Game","Block","Rank","Start","chaoyue","transcend","endbg","net"]);