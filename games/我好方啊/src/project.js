window.__require=function n(t,e,i){function c(o,r){if(!e[o]){if(!t[o]){var s=o.split("/");if(s=s[s.length-1],!t[s]){var h="function"==typeof __require&&__require;if(!r&&h)return h(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+o+"'")}}var g=e[o]={exports:{}};t[o][0].call(g.exports,function(n){return c(t[o][1][n]||n)},g,g.exports,n,t,e,i)}return e[o].exports}for(var a="function"==typeof __require&&__require,o=0;o<i.length;o++)c(i[o]);return c}({Background:[function(n,t,e){"use strict";cc._RF.push(t,"fcd66yQJr5MY6SD/Tpnrahm","Background"),cc.Class({extends:cc.Component,properties:{},start:function(){},init:function(n){this.node.color=new cc.Color(n[0],n[1],n[2],255),this.r=n[0],this.g=n[1],this.b=n[2],this.color=[this.r,this.g,this.b],this.changingColor()},changeColor:function(n){this.tempColor=this.color,this.r=n[0],this.g=n[1],this.b=n[2]},changingColor:function(){var n=this;this.scheduleOnce(function(){n.r==n.color[0]||(n.color[0]+=(n.r-n.tempColor[0])/10,n.color[1]+=(n.g-n.tempColor[1])/10,n.color[2]+=(n.b-n.tempColor[2])/10),n.node.color=new cc.Color(n.color[0],n.color[1],n.color[2],255),n.changingColor()},.1)}}),cc._RF.pop()},{}],Block:[function(n,t,e){"use strict";cc._RF.push(t,"7678faPbyJLrph1RxP8mctM","Block");var i=n("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(n,t,e,c){var a=this;this.rankLabel.string=n,this.rankLabel.node.color="1"==n?new cc.Color(255,0,0,255):"2"==n?new cc.Color(255,102,0,255):"3"==n?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=e,this.score.string=c,""==t||(cc.log("load pic",i.url+"/"+t),cc.loader.load("http://image.dialect-tv.com/"+t,function(n,t){n&&console.error(n),a.userIcon.spriteFrame=new cc.SpriteFrame(t)}))}}),cc._RF.pop()},{Common:"Common"}],Bricks:[function(n,t,e){"use strict";cc._RF.push(t,"f10c7ZN/R1Ov6VZ3yODQrNX","Bricks"),cc.Class({extends:cc.Component,properties:{},start:function(){},init:function(n){for(var t=this.node.children,e=0;e<t.length;e++){t[e].getChildByName("brickT0").color=new cc.Color(n[0],n[1],n[2],255)}this.r=n[0],this.g=n[1],this.b=n[2],this.color=[this.r,this.g,this.b],this.changingColor()},changeColor:function(n){this.tempColor=this.color,this.r=n[0],this.g=n[1],this.b=n[2]},changingColor:function(){var n=this;this.scheduleOnce(function(){n.r==n.color[0]||(n.color[0]+=(n.r-n.tempColor[0])/5,n.color[1]+=(n.g-n.tempColor[1])/5,n.color[2]+=(n.b-n.tempColor[2])/5);for(var t=n.node.children,e=0;e<t.length;e++){t[e].getChildByName("brickT0").color=new cc.Color(n.color[0],n.color[1],n.color[2],255)}n.changingColor()},.1)}}),cc._RF.pop()},{}],Camera:[function(n,t,e){"use strict";cc._RF.push(t,"531b3qI9EpGhYYiX9A+QXyA","Camera"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node}},onLoad:function(){this.gameControl=this.canvas.getComponent("Game"),this.setInputControl()},start:function(){},setInputControl:function(){var n=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){n.gameControl.gameEnded||(t.touch._point.x>n.node.width/2?n.gameControl.jumpRight=!0:n.gameControl.jumpRight=!1,n.gameControl.gameOn||(n.gameControl.gameOn=!0,n.gameControl.moveControl(),n.gameControl.difficultControl()))})}}),cc._RF.pop()},{}],Common:[function(n,t,e){"use strict";cc._RF.push(t,"dbca0gTrxhByLe20r7m2mvO","Common"),t.exports={score:0,SceneType:0,reborn:{},rebornTime:1,GameId:43,url:"",rank:[]},cc._RF.pop()},{}],Game:[function(n,t,e){"use strict";cc._RF.push(t,"d00a3NIZxVL1I3viZSv9j1p","Game");var i=n("Common");cc.Class({extends:cc.Component,properties:{brick_pre:{default:null,type:cc.Prefab},stack_pre:{default:[],type:cc.Prefab},player:{default:null,type:cc.Node},bricks_father:{default:null,type:cc.Node},Camera:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label},score:{default:null,type:cc.Node},background:{default:null,type:cc.Node},die_particle:{default:null,type:cc.Prefab},bgm_audio:{default:null,type:cc.AudioClip},die_audio:{default:null,type:cc.AudioClip}},start:function(){this.brickPool=new cc.NodePool;for(var n=0;n<10;++n){var t=cc.instantiate(this.brick_pre);this.brickPool.put(t)}this.currentBgm=cc.audioEngine.play(this.bgm_audio,!0,1),this.colorArr=[[231,118,139,255],[244,148,144,255],[240,160,75,255],[222,253,124,255],[141,248,207,255],[112,190,245,255],[150,165,246,255],[200,128,208,255]],this.bgColorArr=[[173,61,92,255],[150,54,64,255],[185,85,60,255],[0,102,51,255],[81,133,101,255],[78,98,161,255],[66,106,162,255],[92,53,154,255]],this.difficult=20,this.jumpDuration=.3,this.bricksObject=this.bricks_father.getComponent("Bricks"),this.backgroundObject=this.background.getComponent("Background"),this.init()},init:function(){this.jumpRight=!0,this.brickInit(),this.colorInit(),this.gameOn=!1,this.gameEnded=!1,this.currentBrick=[0,0],this.player.x=this.brickArr[this.currentBrick[0]][this.currentBrick[1]].x+2,this.player.y=this.brickArr[this.currentBrick[0]][this.currentBrick[1]].y+68},colorInit:function(){var n=Math.floor(Math.random()*this.colorArr.length);this.color=this.colorArr[n];var t=this.bgColorArr[n];this.bricksObject.init(this.color),this.backgroundObject.init(t),this.colorControl()},colorControl:function(){var n=this,t=Math.floor(Math.random()*this.colorArr.length);this.color=this.colorArr[t];var e=this.bgColorArr[t];this.bricksObject.changeColor(this.color),this.backgroundObject.changeColor(e),this.scheduleOnce(function(){n.colorControl()},20)},difficultControl:function(){var n=this;this.difficult<=6||(this.difficult-=1,this.jumpDuration-=.008,cc.log(this.difficult,this.jumpDuration),this.scheduleOnce(function(){n.difficultControl()},10))},brickInit:function(){this.brickArr=[],this.brickArr[0]=[],this.brickArr[0].push(this.spawnBrick(cc.v2(0,400)));for(var n=1;n<15;n++)if(this.brickArr[n]=[],n%2==1)for(var t=Math.floor(16*Math.random()),e=0;e<4;e++){var i=this.spawnBrick(cc.v2(120*-e-80+260,96*-n+400));if(e==t){var c=this.spawnStack(Math.floor(this.stack_pre.length*Math.random()));i.addChild(c)}this.brickArr[n].push(i)}else for(var a=Math.floor(16*Math.random()),o=0;o<5;o++){var r=this.spawnBrick(cc.v2(120*-o+260-20,96*-n+400));if(o==a){var s=this.spawnStack(Math.floor(this.stack_pre.length*Math.random()));r.addChild(s)}this.brickArr[n].push(r)}},bricksControl:function(){if(this.brickArr.length-this.currentBrick[0]<10)for(var n=this.brickArr.length,t=n;t<n+5;t++)if(this.brickArr[t]=[],t%2==1)for(var e=Math.floor(Math.random()*this.difficult),i=0;i<4;i++){var c=this.spawnBrick(cc.v2(120*-i-80+260,96*-t+400));if(i==e){var a=this.spawnStack(Math.floor(this.stack_pre.length*Math.random()));c.addChild(a)}c.color=new cc.Color(this.color[0],this.color[1],this.color[2],255),this.brickArr[t].push(c)}else for(var o=Math.floor(Math.random()*this.difficult),r=0;r<5;r++){var s=this.spawnBrick(cc.v2(120*-r+260-20,96*-t+400));if(r==o){var h=this.spawnStack(Math.floor(this.stack_pre.length*Math.random()));s.addChild(h)}s.color=new cc.Color(this.color[0],this.color[1],this.color[2],255),this.brickArr[t].push(s)}},bricksDestroy:function(){if(this.currentBrick[0]>6){var n=this.brickArr[this.currentBrick[0]-7];if(null==n)return;for(var t=0;t<n.length;t++){var e=n[t];e.children.length>2&&e.getChildByName("stack").destroy(),this.brickPool.put(e)}}this.brickArr[this.currentBrick[0]-7]=null},moveControl:function(){var n=this;this.jump(),this.bricksControl(),this.bricksDestroy(),this.cameraMove(),this.gameEnded||this.scheduleOnce(function(){n.brickAction(),n.moveControl()},this.jumpDuration)},cameraMove:function(){if(this.brickArr[this.currentBrick[0]][this.currentBrick[1]].y-100>this.Camera.y);else{var n=cc.moveTo(this.jumpDuration,cc.v2(0,this.brickArr[this.currentBrick[0]][this.currentBrick[1]].y-100));this.Camera.runAction(n);var t=cc.moveTo(this.jumpDuration,cc.v2(0,this.brickArr[this.currentBrick[0]][this.currentBrick[1]].y-100));this.score.runAction(t)}},brickAction:function(){this.brickArr[this.currentBrick[0]][this.currentBrick[1]].getChildByName("brickT0").getComponent(cc.Animation).play("brick")},jump:function(){var n=this;if(0==this.currentBrick[0])this.jumpRight?(this.currentBrick=[1,1],this.player.scaleX=-1):(this.currentBrick=[1,2],this.player.scaleX=1);else if(this.currentBrick[0]%2==1)this.jumpRight?this.currentBrick=[this.currentBrick[0]+1,this.currentBrick[1]]:this.currentBrick=[this.currentBrick[0]+1,this.currentBrick[1]+1];else if(this.jumpRight){if(this.currentBrick[1]<=0){var t=cc.jumpBy(this.jumpDuration,cc.v2(100,-100),20,1);return this.player.runAction(t),this.gameEnded=!0,this.scheduleOnce(function(){cc.audioEngine.stop(n.currentBgm),cc.audioEngine.play(n.die_audio,!1,1)},this.jumpDuration),void this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1)}this.currentBrick=[this.currentBrick[0]+1,this.currentBrick[1]-1]}else{if(this.currentBrick[1]>=4){var e=cc.jumpBy(this.jumpDuration,cc.v2(-100,-100),20,1);return this.player.runAction(e),this.gameEnded=!0,this.scheduleOnce(function(){cc.audioEngine.stop(n.currentBgm),cc.audioEngine.play(n.die_audio,!1,1)},this.jumpDuration),void this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1)}this.currentBrick=[this.currentBrick[0]+1,this.currentBrick[1]]}var c=this.brickArr[this.currentBrick[0]][this.currentBrick[1]],a=c.getChildByName("shadow");a.active=!0,a.scale=0,a.runAction(cc.sequence(cc.scaleTo(this.jumpDuration/2,0),cc.scaleTo(0,.5),cc.scaleTo(this.jumpDuration/2,1),cc.scaleTo(0,0))),c.children.length>2&&(this.gameEnded=!0,this.scheduleOnce(function(){n.spawnParticle(cc.v2(n.player.x,n.player.y)),n.player.destroy(),n.cameraShake(),cc.audioEngine.stop(n.currentBgm),cc.audioEngine.play(n.die_audio,!1,1)},this.jumpDuration),this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1)),i.score+=1,this.scoreLabel.string=i.score;var o=this.jumpRight,r=cc.sequence(cc.callFunc(function(){n.player.scaleX=o?-1:1}),cc.jumpTo(this.jumpDuration,cc.v2(c.x+2,c.y+68),20,1));this.player.runAction(r)},spawnBrick:function(n){var t=null;return(t=this.brickPool.size()>0?this.brickPool.get():cc.instantiate(this.brick_pre)).width=160,t.height=160,t.setPosition(n),this.bricks_father.addChild(t),t},spawnStack:function(n){return cc.instantiate(this.stack_pre[n])},spawnParticle:function(n){var t=cc.instantiate(this.die_particle);t.setPosition(n),this.node.addChild(t)},cameraShake:function(){var n=this.Camera.x,t=this.Camera.y;this.Camera.stopAllActions();for(var e=[],i=0;i<20;i++)e.push(cc.moveBy(.02,cc.v2(2*(Math.random()-.5)*10,2*(Math.random()-.5)*10)));var c=cc.sequence(e,cc.moveTo(0,cc.v2(n,t)));this.Camera.runAction(c)},gameEnd:function(){}}),cc._RF.pop()},{Common:"Common"}],Rank:[function(n,t,e){"use strict";cc._RF.push(t,"a85ca6+unNLWaN7ujmWKgFm","Rank");var i=n("net"),c=n("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==c.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var n=this.statusArray.length;n>12&&(n=12);for(var t=0;t<n;++t){var e=this.statusArray[t],i=e.rank,c=e.avatar,a=e.nickname,o=e.score,r=this.spawnBlock();this.content.addChild(r),r.setPosition(0,-this.itemHeight*(.5+t)),t%2==0&&(r.getChildByName("bg").opacity=0),r.getComponent("Block").init(i,c,a,o),this.blockArr.push(r)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+1))},getStatus:function(n){var t=this,e=i.AREA,a=i.version,o=i.singletoken;cc.log(e,a);var r=c.GameId,s=hex_md5("YanQu"+("game_id="+r+"&page="+n+"&token="+o)+"!qaz@wsx$"),h=c.url+"/game/single_rank_all?token="+o+"&game_id="+r+"&page="+n+"&sign="+s;cc.log(h),axios.post(h,{},{headers:{AREA:e,"CLIENT-VERSION":a}}).then(function(e){cc.log(e);for(var i=e.data.data.rank_list,c=0;c<i.length;c++)t.statusArray.push(i[c]);t.currentPage=n,t.statusControl(e.data.data.current),t.content.height+=i.length*t.itemHeight,i.length<20&&(t.rankDied=!0),t.loading.opacity=0},this).catch(function(n){cc.log(n)})},statusControl:function(n){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(n)):this.refreshRank()},initSelf:function(n){cc.log("self data:",n);var t=n.rank,e=n.avatar,i=n.nickname,c=n.score,a=this.spawnBlock();a.getComponent("Block").init(t,e,i,c),this.self.addChild(a)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(n,t){1==t&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var n=0;n<this.blockArr.length;n++){var t=this.blockArr[n],e=Math.abs(t.y),i=Math.round((e+60)/120)-1;if(i>this.statusArray.length-1||i<0)t.opacity=0;else{t.opacity=255;var c=this.statusArray[i],a=c.rank,o=c.avatar,r=c.nickname,s=c.score;t.getComponent("Block").init(a,o,r,s)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var n=0;n<this.blockArr.length;n++){if(this.content.y+this.blockArr[n].y>660){var t=this.blockArr[n];t.y-=1440;var e=Math.abs(t.y),i=Math.round((e+60)/120);if(i>this.statusArray.length||i<0){t.opacity=0;continue}t.opacity=255;var c=this.statusArray[i-1],a=c.rank,o=c.avatar,r=c.nickname,s=c.score;t.getComponent("Block").init(a,o,r,s)}if(this.content.y+this.blockArr[n].y<-660){var h=this.blockArr[n];h.y+=1440;var g=Math.abs(h.y),l=Math.round((g+60)/120);if(l>this.statusArray.length){h.opacity=0;continue}h.opacity=255;var u=this.statusArray[l-1],p=u.rank,d=u.avatar,b=u.nickname,m=u.score;h.getComponent("Block").init(p,d,b,m)}}},update:function(n){this.statusBeGet&&(this.undateCount+=n,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Start:[function(n,t,e){"use strict";cc._RF.push(t,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var i=n("Common"),c=n("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var n=this;this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){n.preload=!0,cc.log("preload success",n.preload,n.netload),n.netload&&(n.button.active=!0)})},chooseEnv:function(){if(void 0==c.type)if(void 0==c.token)void 0!==c.singletoken&&(this.rankButton.active=!0,1==c.env?i.url=c.url.appoffline:2==c.env?i.url=c.url.apppre:i.url=c.url.apponline,i.SceneType=10);else{if(1==c.env){var n=void 0;try{n=window.yanqu.getBrowerID()}catch(n){}i.url=c.url.appoffline,i.SceneType="yqbrower"==n?12:1}else i.SceneType=11,2==c.env?i.url=c.url.apppre:i.url=c.url.apponline;5==c.apptype&&(i.SceneType=15)}else 1==c.env?i.url=c.url.wxoffline:2==c.env?i.url=c.url.wxpre:i.url=c.url.wxonline,void 0!==c.singletoken&&(this.rankButton.active=!0,i.SceneType=10),3==c.type?i.SceneType=20:4==c.type?i.SceneType=21:5==c.type&&(i.SceneType=22);cc.log("scenetype:",i.SceneType)},getInfo:function(){var n,t=this,e="room_id="+c.room_id+"&token="+c.token,a=c.version,o=void 0;if(1==i.SceneType)o=hex_md5("YanQu"+e+"!qaz@wsx$"),a=1,c.AREA=1,this.transcend(o,a);else if(12==i.SceneType||15==i.SceneType||11==i.SceneType){var r=c.getSignString(e);o=r[0],a=r[1],c._version=a,this.transcend(o,a)}else if(20==i.SceneType||21==i.SceneType||22==i.SceneType)this.transcend();else if(10==i.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));n=i.url+"/live_game/revive?token="+c.token+"&room_id="+c.room_id+"&sign="+o,axios.post(n,{},{headers:{AREA:c.AREA,"CLIENT-VERSION":a}}).then(function(n){cc.log("start respose:",n);var e=n.data.data;i.reborn=e,t.netload=!0,t.preload&&(t.button.active=!0)}).catch(function(n){t.button.active=!0,cc.log(n)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(n,t){cc.log(n,t);var e,a=c.token,o=c.room_id,r=n;void 0==n&&(r=hex_md5("YanQu"+("room_id="+o+"&token="+a)+"!qaz@wsx$"));var s=c.AREA,h=t;void 0==t&&(h=c.version),e=i.url+"/live/section_rank_score?token="+a+"&room_id="+o+"&sign="+r,axios.post(e,{},{headers:{AREA:s,"CLIENT-VERSION":h}}).then(function(n){cc.log("rank:",n),Object.keys(n.data.data.rank).forEach(function(t){i.rank.push(n.data.data.rank[t])}),cc.log(i.rank)},this).catch(function(n){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(c))},update:function(n){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],chaoyue:[function(n,t,e){"use strict";cc._RF.push(t,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var i=n("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",i.SceneType,i.rank),(11===i.SceneType||12===i.SceneType||20===i.SceneType||1==i.SceneType)&&0!=i.rank.length){this._ranking=i.rank.length,this.transcendFunc();var n=cc.instantiate(this.transcendPrefab);this.node.addChild(n),n.opacity=0,n.getComponent("transcend").init(i.rank[this._ranking-1].avatar,i.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",i.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var n=i.rank,t=this.scoreLabel.string,e=0;e<n.length;e++)if(Number(t)>Number(n[e].score)&&(cc.log(t,n[e].score,e),this._ranking>e)){var c=cc.instantiate(this.transcendPrefab);this.node.addChild(c),c.setPosition(cc.v2(0,0)),c.opacity=0,c.getComponent("transcend").init(i.rank[e].avatar,i.rank[e].rank);var a=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return c.runAction(a),this._ranking=e,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(n,t,e){"use strict";cc._RF.push(t,"b0123F/GzdDoYtgcFawA/yh","endbg");var i=n("Common"),c=n("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",c),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===i.SceneType?(this.weixing.active=!0,this.putongRank()):11===i.SceneType||12===i.SceneType||1===i.SceneType?(this.hongbao.active=!0,this.hongBao()):20===i.SceneType?(this.weixing.active=!0,this.wechat()):21===i.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===i.SceneType||15===i.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+i.score)},start:function(){},putongRank:function(){var n=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var t,e=c.singletoken,a=c.AREA,o="game_id="+i.GameId+"&score="+n+"&token="+e,r=hex_md5("YanQu"+o+"!qaz@wsx$"),s=c.version;t=i.url+"/game/single_push_data?token="+e+"&game_id="+i.GameId+"&score="+n+"&sign="+r,cc.log(t),axios.post(t,{},{headers:{AREA:a,"CLIENT-VERSION":s}}).then(function(n){cc.log(n);var t=n.data.code;if(cc.log("code:",t),400404==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){10==i.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var e=n.data.data.rank,c=n.data.data.current_rank;cc.log("head",e),e[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=e[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=e[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=e[0].score,c===e[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),e[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=e[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=e[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=e[1].score,c===e[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),e[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=e[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=e[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=e[2].score,c===e[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},hongBao:function(){var n=i.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=n;var t,e=c.token,a=c.room_id,o=c.AREA,r=(c.env,"room_id="+a+"&score="+n+"&token="+e),s=void 0,h=void 0;try{var g=window.yanqu.getSignString(r);s=JSON.parse(g).sign.sign,h=JSON.parse(g).header.VERSION}catch(n){}1===i.SceneType&&(s=hex_md5("YanQu"+r+"!qaz@wsx$")),t=i.url+"/live_game/push_data?token="+e+"&score="+n+"&room_id="+a+"&sign="+s,axios.post(t,{},{headers:{AREA:o,"CLIENT-VERSION":h}}).then(function(n){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",n);var t=n.data.code;if(400404==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="";var e=n.data.data.rank_list,i=n.data.data.current_rank;cc.log("head",e),e[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=e[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=e[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=e[0].score,i===e[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),e[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=e[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=e[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=e[1].score,i===e[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),e[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=e[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=e[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=e[2].score,i===e[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechat:function(){var n=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var t,e=c.token,a=c.room_id,o=c.AREA,r=hex_md5("YanQu"+("room_id="+a+"&score="+n+"&token="+e)+"!qaz@wsx$"),s=c.version;t=i.url+"/live_game/push_data?token="+e+"&score="+n+"&room_id="+a+"&sign="+r,cc.log(t),axios.post(t,{},{headers:{AREA:o,"CLIENT-VERSION":s}}).then(function(n){cc.log(n);var t=n.data.code;if(cc.log("code:",t),400404==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var e=n.data.data.rank_list,i=n.data.data.current_rank;cc.log("head",e),e[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=e[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=e[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=e[0].score,i===e[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),e[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=e[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=e[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=e[1].score,i===e[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),e[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=e[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=e[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=e[2].score,i===e[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechathelp:function(){var n,t=c.token,e=c.room_id,a=c.AREA,o="help_score="+i.score+"&room_id="+e+"&token="+t+"&user_id="+c.helpuid,r=hex_md5("YanQu"+o+"!qaz@wsx$");n=i.url+"/live_game/push_data?token="+t+"&help_score="+i.score+"&room_id="+e+"&user_id="+c.helpuid+"&sign="+r;var s=c.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:a,"CLIENT-VERSION":s}}).then(function(n){cc.log(n);var t=n.data.code;if(400404==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="";var e=n.data.data.rank_list,c=n.data.data.current_rank,a=n.data.data.max_help_score;console.log("head",e),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+a+" \u5206",e[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=e[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=e[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=e[0].score,c===e[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),e[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=e[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=e[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=e[1].score,c===e[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),e[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=e[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=e[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=e[2].score,c===e[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==t){var o=n.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},teamend:function(){cc.log("team");var n,t=c.token,e=c.room_id,a=c.AREA,o="room_id="+e+"&score="+i.score+"&token="+t,r=hex_md5("YanQu"+o+"!qaz@wsx$");n=i.url+"/live_game/push_data?token="+t+"&score="+i.score+"&room_id="+e+"&sign="+r;var s=c.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:a,"CLIENT-VERSION":s}}).then(function(n){cc.log(n);var t=n.data.code;if(400404==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var e=n.data.data.rank_list,c=n.data.data.current_rank,a=n.data.data.max_score;console.log("head",e),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+a+" \u5206",e[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=e[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=e[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=e[0].score,c===e[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),e[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=e[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=e[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=e[1].score,c===e[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),e[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=e[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=e[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=e[2].score,c===e[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==t){var o=n.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},turn:function(){i.score=0,i.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(n,t,e){"use strict";cc._RF.push(t,"62e73sDA6dOGolthqoGzpA1","net");var i=function(){var n=window.location.search,t=new Object;if(-1!=n.indexOf("?"))for(var e=n.substr(1),i=e.split("&"),c=0;c<i.length;c++)t[i[c].split("=")[0]]=i[c].split("=")[1];return t}();var c={token:i.token,room_id:i.room_id,AREA:i.AREA,env:i.env,type:i.type,version:i.version,helpuid:i.helpuid,teamid:i.teamid,apptype:i.apptype,singletoken:i.singletoken,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(n){var t=[];try{var e=window.yanqu.getSignString(n),i=JSON.parse(e).sign.sign,c=JSON.parse(e).header.VERSION;t.push(i),t.push(c)}catch(n){}return t}};t.exports=c,cc._RF.pop()},{}],transcend:[function(n,t,e){"use strict";cc._RF.push(t,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(n,t){var e=this;cc.log(n,t);var i="http://image.dialect-tv.com/"+n;cc.log("url: ",i),cc.loader.load(i,function(n,t){if(n)cc.log(n);else{e.texture=t;var i=new cc.SpriteFrame(t);e.img.spriteFrame=i}}),this.num.string="\u7b2c"+t+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Block","Rank","Start","chaoyue","transcend","endbg","net","Background","Bricks","Camera","Common","Game"]);