window.__require=function e(t,n,i){function a(c,s){if(!n[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+c+"'")}}var h=n[c]={exports:{}};t[c][0].call(h.exports,function(e){return a(t[c][1][e]||e)},h,h.exports,e,t,n,i)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<i.length;c++)a(i[c]);return a}({Block:[function(e,t,n){"use strict";cc._RF.push(t,"7678faPbyJLrph1RxP8mctM","Block");var i=e("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(e,t,n,a){var o=this;this.rankLabel.string=e,this.rankLabel.node.color="1"==e?new cc.Color(255,0,0,255):"2"==e?new cc.Color(255,102,0,255):"3"==e?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=n,this.score.string=a,""==t||(cc.log("load pic",i.url+"/"+t),cc.loader.load("http://image.dialect-tv.com/"+t,function(e,t){e&&console.error(e),o.userIcon.spriteFrame=new cc.SpriteFrame(t)}))}}),cc._RF.pop()},{Common:"Common"}],Common:[function(e,t,n){"use strict";cc._RF.push(t,"325baQcxo5IFZC9fgBOVbya","Common"),t.exports={score:0,SceneType:0,reborn:{},rebornTime:1,GameId:47,url:"",rank:[]},cc._RF.pop()},{}],EnemyPlane:[function(e,t,n){"use strict";cc._RF.push(t,"f8da8y1iH5MYJvTaquWJkTm","EnemyPlane"),cc.Class({extends:cc.Component,properties:{enemy:{default:null,type:cc.Node}},start:function(){this.enemyControl=this.enemy.getComponent("Enemy")},onCollisionEnter:function(e,t){"bullet"==e.node.name&&(this.enemyControl.getDamage("BULLET"),e.node.destroy())},onCollisionStay:function(e,t){"plane"==e.node.name&&this.enemyControl.getDamage("PLAYER")}}),cc._RF.pop()},{}],Enemy:[function(e,t,n){"use strict";cc._RF.push(t,"7c23bZ5jZJBNbkb2ro+9Mof","Enemy");var i={MISSILE:8,BULLET:40,PLAYER:2},a=e("Common");cc.Class({extends:cc.Component,properties:{rotateSpeed:100,moveSpeed:50,bullet_pre:{default:null,type:cc.Prefab},plane:{default:null,type:cc.Node},life:{default:null,type:cc.Node},shield:{default:null,type:cc.Node}},onLoad:function(){this.shoot()},start:function(){},init:function(e){this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game"),this.target=cc.find("Canvas/player"),this.playerControl=this.target.getComponent("Player"),this.radar=cc.find("Canvas/Main Camera/radar"),this.radarControl=this.radar.getComponent("Radar"),this.moveSpeed=e,cc.log(this.moveSpeed),this.inRange=!1},initRadar:function(){var e=cc.v2(this.target.x-this.node.x,this.target.y-this.node.y);this.point=this.radarControl.spawnPoint(e),this.point.color=new cc.Color(255,153,51,255)},showInRadar:function(e){e.mulSelf(.1),e.mag()>100?this.point.opacity=0:this.point.opacity=255,this.point.x=-e.x,this.point.y=-e.y},shoot:function(){var e=this;this.schedule(function(){if(e.inRange){var t=e.vec.signAngle(cc.v2(0,1)),n=e.playerControl.spawnBullet1(cc.v2(e.node.x,e.node.y),cc.misc.radiansToDegrees(t));n.stopAllActions();var i=cc.v2(0,1e3);i.rotateSelf(-t);var a=cc.sequence(cc.moveBy(1.5,i.x,i.y),cc.removeSelf());n.runAction(a)}},1)},faceToTarget:function(e){if(this.vec=cc.v2(this.target.x-this.node.x,this.target.y-this.node.y),this.showInRadar(this.vec),this.vec.mag()>140){var t=cc.v2(this.canvas.width/2,this.canvas.height/2).rotate(Math.random()*Math.PI*2);return this.node.x=this.target.x+t.x,void(this.node.y=this.target.y+t.y)}this.vec.mag()<60?this.inRange=!0:this.inRange=!1;var n=cc.misc.radiansToDegrees(this.vec.signAngle(cc.v2(0,1))),i=(this.plane.rotation-n)%360;i<.5&&i>-.5||(i>0&&i<180||i>-360&&i<-180?this.plane.rotation-=this.rotateSpeed*e:(i<0||i>180)&&(this.plane.rotation+=this.rotateSpeed*e))},move:function(e){var t=cc.v2(0,1).rotate(-cc.misc.degreesToRadians(this.plane.rotation));t.mulSelf(this.moveSpeed),this.node.x+=t.x*e,this.node.y+=t.y*e},shieldRecovery:function(){50-this.shield.width>10?this.shield.width+=10:(this.shield.width=50,this.unschedule(this.shieldRecovery))},getDamage:function(e){var t=i[e];a.score+=Number(t),this.enemyDie()},enemyDie:function(){this.gameControl.getProperty(cc.v2(this.node.x,this.node.y)),this.radarControl.pointRecycle(this.point),this.gameControl.enemyRecycle(this.node)},update:function(e){this.gameControl.gameEnded?this.unscheduleAllCallbacks():(this.faceToTarget(e),this.move(e))}}),cc._RF.pop()},{Common:"Common"}],Event:[function(e,t,n){"use strict";cc._RF.push(t,"6ccf7EZSvdAzoUmk5cS/SVj","Event"),cc.Class({extends:cc.Component,properties:{joystick:{type:cc.Component,default:null}},start:function(){this.setInputControl()},setInputControl:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){var n=t.touch._point;e.joystick.setLocation(n.x-e.node.width/2,n.y-e.node.height/2)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var n=t.touch._point;e.joystick.moveJoystick(n.x-e.node.width/2,n.y-e.node.height/2)}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){e.joystick.touchCancel()}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.joystick.touchCancel()})}}),cc._RF.pop()},{}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"8004fY7AvhBObgUWAVYmk0W","Game");var i=e("Common");cc.Class({extends:cc.Component,properties:{Camera:{type:cc.Node,default:null},missile_pre:{type:cc.Prefab,default:null},enemy_pre:{type:cc.Prefab,default:null},missile_father:{type:cc.Node,default:null},enemy_father:{type:cc.Node,default:null},player:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label},propertys_pre:{default:[],type:cc.Prefab},passBar:{default:null,type:cc.Node},passImg:{default:null,type:cc.Node},passName:{default:null,type:cc.Label},passScore:{default:null,type:cc.Label},boomAnim:{default:[],type:cc.Prefab},boom_audio:{default:null,type:cc.AudioClip},boom1_audio:{default:null,type:cc.AudioClip}},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){this.gameEnded=!1,this.enemyConstant=5,this.enemyVariable=5,this.missileConstant=1,this.missileVariable=3,this.enemySpeed=250,this.missileCount=0,this.initPool(),this.missileControl(),this.enemyControl(),this.difficultControl()},initPass:function(){this.passBar.opacity=0,i.rank.length<1||(this.currentScore=0,this.pass())},initPool:function(){this.missilePool=new cc.NodePool;for(var e=0;e<5;++e){var t=cc.instantiate(this.missile_pre);this.missilePool.put(t)}this.enemyPool=new cc.NodePool;for(var n=0;n<5;++n){var i=cc.instantiate(this.enemy_pre);this.enemyPool.put(i)}this.boomPool=[],this.boomPool[0]=new cc.NodePool;for(var a=0;a<5;++a){var o=cc.instantiate(this.boomAnim[0]);this.boomPool[0].put(o)}this.boomPool[1]=new cc.NodePool;for(var c=0;c<5;++c){var s=cc.instantiate(this.boomAnim[1]);this.boomPool[1].put(s)}this.propertyPool=new cc.NodePool;for(var r=0;r<16;++r){var l=cc.instantiate(this.propertys_pre[Math.floor(Math.random()*this.propertys_pre.length)]);this.propertyPool.put(l)}},difficultControl:function(){var e=this;this.missileConstant-=.01,this.missileVariable-=.03,this.enemyConstant-=.05,this.enemyVariable-=.05,this.missileConstant<.2?this.enemySpeed+=.5:(cc.log(this.missileConstant,this.missileVariable,this.enemyConstant,this.enemyVariable),this.scheduleOnce(function(){e.difficultControl()},3))},enemyControl:function(){var e=this,t=this.Camera.x,n=this.Camera.y,i=cc.v2(this.Camera.width/2,this.Camera.height/2).rotate(Math.random()*Math.PI*2);this.spawnEnemy(cc.v2(t+i.x,n+i.y)),this.scheduleOnce(function(){e.enemyControl()},this.enemyConstant+Math.random()*this.enemyVariable)},spawnEnemy:function(e){var t=null;(t=this.enemyPool.size()>0?this.enemyPool.get():cc.instantiate(this.enemy_pre)).setPosition(e),this.enemy_father.addChild(t),t.getComponent("Enemy").init(this.enemySpeed),t.getComponent("Enemy").initRadar()},enemyRecycle:function(e){cc.audioEngine.play(this.boom_audio,!1,1),this.spawnBoom(cc.v2(e.x,e.y)),this.enemyPool.put(e)},missileControl:function(){var e=this,t=this.Camera.x,n=this.Camera.y,i=cc.v2(this.Camera.width/2,this.Camera.height/2).rotate(Math.random()*Math.PI*2);this.spawnMissile(cc.v2(t+i.x,n+i.y)),this.scheduleOnce(function(){e.missileControl()},this.missileConstant+Math.random()*this.missileVariable)},spawnMissile:function(e){var t=null;(t=this.missilePool.size()>0?this.missilePool.get():cc.instantiate(this.missile_pre)).getChildByName("particlesystem").getComponent("cc.ParticleSystem").resetSystem(),t.setPosition(e),t.rotation=360*Math.random(),this.missile_father.addChild(t),t.getComponent("Missile").start(),t.getComponent("Missile").initRadar(),0==this.missileCount++&&this.scheduleOnce(function(){t.getComponent("Missile").collideControl(),t.destroy()},.1)},spawnProperty:function(e){var t=null;(t=this.propertyPool.size()>0?this.propertyPool.get():cc.instantiate(this.propertys_pre[Math.floor(Math.random()*this.propertys_pre.length)])).setPosition(e);var n=cc.sequence(cc.scaleTo(5,1),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.callFunc(function(){t.destroy()}));t.runAction(n),this.node.addChild(t)},propertyRecycle:function(e){e.stopAllActions(),this.propertyPool.put(e)},spawnBoom:function(e){var t=this,n=null;(n=this.boomPool[0].size()>0?this.boomPool[0].get():cc.instantiate(this.boomAnim[0])).getComponent("cc.Animation").play("boom"),this.node.addChild(n),n.setPosition(e),this.scheduleOnce(function(){t.boomPool[0].put(n)},.24)},spawnBoom2:function(e){var t=this,n=null;(n=this.boomPool[1].size()>0?this.boomPool[1].get():cc.instantiate(this.boomAnim[1])).getComponent("cc.Animation").play("boom2"),this.node.addChild(n),n.setPosition(e),this.scheduleOnce(function(){t.boomPool[1].put(n)},.24)},getProperty:function(e){10*Math.random()>6&&this.spawnProperty(e)},missileRecycle:function(e){cc.audioEngine.play(this.boom1_audio,!1,1),this.spawnBoom2(cc.v2(e.x,e.y)),this.missilePool.put(e)},pass:function(){var e=this,t=0,n=null;for(var a in i.rank){var o=i.rank[a];o.score<i.score&&o.score>t&&(t=o.score,n=o)}if(t>this.currentScore){var c=n.avatar,s=null;cc.loader.load(c,function(t,n){s=n,e.passImg.getComponent(cc.Sprite).spriteFrame=n},function(){e.passBar.stopAllActions();var t=cc.sequence(cc.fadeIn(.1,255),cc.fadeIn(2,255),cc.fadeIn(0,0),cc.callFunc(function(){cc.loader.release(s)}));e.passBar.runAction(t)}),this.passName.string=n.nickname,this.passScore.string=n.score,this.currentScore=t}this.scheduleOnce(function(){e.pass()},3)},gameEnd:function(){for(var e=this.enemy_father.children,t=0;t<e.length;t++)e[t].destroy();this.gameEnded=!0,this.unscheduleAllCallbacks(),this.spawnBoom(cc.v2(this.player.x,this.player.y)),this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},.5)},update:function(e){this.scoreLabel.string=i.score}}),cc._RF.pop()},{Common:"Common"}],JoyStick:[function(e,t,n){"use strict";cc._RF.push(t,"b7013frWrdLZL9BnOtNrVWM","JoyStick"),cc.Class({extends:cc.Component,properties:{stageType:{displayName:"\u6bb5\u843d\u5f0f",default:!1},canStop:{displayName:"\u80fd\u5426\u9759\u6b62",default:!1},sensitive:{displayName:"\u7075\u654f\u5ea6",default:10},target:{default:null,type:cc.Node},normalSpeed:{default:0,displayName:"\u6807\u51c6\u901f\u5ea6"},Camera:{type:cc.Node,default:null},background_father:{type:cc.Node,default:null},backgrounds:{type:cc.Node,default:[]},axis:{type:cc.Node,default:null},joystick:{type:cc.Node,default:null},canvas:{type:cc.Node,default:null}},start:function(){this.vec=cc.v2(0,0),this.speedX=0,this.speedY=0,this.rotate=0,this.plane=this.target.getChildByName("plane"),this.gameControl=this.canvas.getComponent("Game"),this.backgroundsArr=[];for(var e=0,t=0;t<2;t++){this.backgroundsArr[t]=[];for(var n=0;n<2;n++)this.backgroundsArr[t][n]=this.backgrounds[e++]}},setLocation:function(e,t){this.node.stopAllActions(),this.node.opacity=255,this.node.x=e,this.node.y=t},moveJoystick:function(e,t){var n=cc.v2(e-this.node.x,t-this.node.y);if(this.vec=n.mul(this.sensitive/10),this.rotate=cc.misc.radiansToDegrees(this.vec.signAngle(cc.v2(0,1))),this.vec.mag()>cc.v2(0,30).mag()&&(this.vec=this.vec.normalize(),this.vec.mulSelf(30)),this.joystick.x=this.vec.x,this.joystick.y=this.vec.y,this.stageType){var i=this.vec.mul(this.normalSpeed);this.speedX=i.x,this.speedY=i.y}else{var a=this.vec.normalize();0==(a=a.mul(30)).x&&0==a.y||(a=a.mul(this.normalSpeed),this.speedX=a.x,this.speedY=a.y)}},resetPosition:function(){this.joystick.x=0,this.joystick.y=0,this.vec.x=0,this.vec.y=0,this.canStop&&(this.speedX=0,this.speedY=0)},touchCancel:function(){this.resetPosition();var e=cc.fadeOut(.2);this.node.runAction(e)},moveBackground:function(){},backgroundControl:function(e){this.background_father.x-=this.speedX*e/2,this.background_father.y-=this.speedY*e/2;var t=-Math.ceil((this.background_father.x-405)/810);t>=0?1==Math.abs(t%2)?(this.backgroundsArr[0][0].x=405+810*t,this.backgroundsArr[1][0].x=405+810*t,this.backgroundsArr[0][1].x=405+810*(t-1),this.backgroundsArr[1][1].x=405+810*(t-1)):(this.backgroundsArr[0][0].x=405+810*(t-1),this.backgroundsArr[1][0].x=405+810*(t-1),this.backgroundsArr[0][1].x=405+810*t,this.backgroundsArr[1][1].x=405+810*t):t<0&&(1==Math.abs(t%2)?(this.backgroundsArr[0][0].x=405+810*t,this.backgroundsArr[1][0].x=405+810*t,this.backgroundsArr[0][1].x=810*t-405,this.backgroundsArr[1][1].x=810*t-405):(this.backgroundsArr[0][0].x=810*t-405,this.backgroundsArr[1][0].x=810*t-405,this.backgroundsArr[0][1].x=405+810*t,this.backgroundsArr[1][1].x=405+810*t));var n=-Math.ceil((this.background_father.y-720)/1440);1==Math.abs(n%2)?(this.backgroundsArr[0][0].y=1440*n-720,this.backgroundsArr[0][1].y=1440*n-720,this.backgroundsArr[1][0].y=720+1440*n,this.backgroundsArr[1][1].y=720+1440*n):(this.backgroundsArr[0][0].y=720+1440*n,this.backgroundsArr[0][1].y=720+1440*n,this.backgroundsArr[1][0].y=1440*n-720,this.backgroundsArr[1][1].y=1440*n-720)},update:function(e){this.gameControl.gameEnded||(this.plane.rotation=this.rotate,this.target.x+=this.speedX*e,this.target.y+=this.speedY*e,this.backgroundControl(e),this.Camera.x=this.target.x,this.Camera.y=this.target.y)}}),cc._RF.pop()},{}],Missile:[function(e,t,n){"use strict";cc._RF.push(t,"ed695HS2ERGR7AwxTWwlOgT","Missile");var i=e("Common");cc.Class({extends:cc.Component,properties:{rotateSpeed:50,moveSpeed:50},start:function(){this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game"),this.target=cc.find("Canvas/player"),this.playerControl=this.target.getComponent("Player"),this.radar=cc.find("Canvas/Main Camera/radar"),this.radarControl=this.radar.getComponent("Radar")},initRadar:function(){var e=cc.v2(this.target.x-this.node.x,this.target.y-this.node.y);this.point=this.radarControl.spawnPoint(e),this.point.color=new cc.Color(255,51,51,255)},showInRadar:function(e){e.mulSelf(.1),e.mag()>100?this.point.opacity=0:this.point.opacity=255,this.point.x=-e.x,this.point.y=-e.y},faceToTarget:function(e){var t=cc.v2(this.target.x-this.node.x,this.target.y-this.node.y);this.showInRadar(t);var n=cc.misc.radiansToDegrees(t.signAngle(cc.v2(0,1))),i=(this.node.rotation-n)%360;i<.5&&i>-.5?this.node.rotation=n:i>0&&i<180||i>-360&&i<-180?this.node.rotation-=this.rotateSpeed*e:(i<0||i>180)&&(this.node.rotation+=this.rotateSpeed*e)},move:function(e){var t=cc.v2(0,1).rotate(-cc.misc.degreesToRadians(this.node.rotation));t.mulSelf(this.moveSpeed),this.node.x+=t.x*e,this.node.y+=t.y*e},collideControl:function(){this.radarControl.pointRecycle(this.point)},onCollisionEnter:function(e,t){"player"==e.node.group?(i.score+=30,this.collideControl(),this.playerControl.getDamage("MISSILE"),this.gameControl.missileRecycle(this.node)):"bullet"==e.node.name?(i.score+=30,this.collideControl(),this.gameControl.missileRecycle(this.node),this.playerControl.bulletRecycle(e.node)):"missile"==e.node.name&&(this.collideControl(),this.gameControl.missileRecycle(this.node))},update:function(e){this.gameControl.gameEnded||(this.faceToTarget(e),this.move(e))}}),cc._RF.pop()},{Common:"Common"}],Plane:[function(e,t,n){"use strict";cc._RF.push(t,"23172BekPtE/ZbQnKfn+GB/","Plane"),cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},joystick:{default:null,type:cc.Node},shieldCover:{default:null,type:cc.Node}},start:function(){this.shieldCover.active=!1,this.playerControl=this.player.getComponent("Player"),this.joystickControl=this.joystick.getComponent("JoyStick"),this.disturbanceCount=0},initProperty:function(){},onCollisionEnter:function(e,t){"bullet1"==e.node.name?(this.playerControl.getDamage("BULLET"),this.playerControl.bulletRecycle(e.node)):"property"==e.node.group&&("ass"==e.node.name?this.ass():"speed"==e.node.name?this.speed():"invincible"==e.node.name?this.invincible():"shootfast"==e.node.name&&this.shootFast(),e.node.destroy())},onCollisionStay:function(e,t){"enemy"==e.node.name&&this.playerControl.getDamage("ENEMY")},disturbance:function(){this.disturbanceCount++,this.disturbanceCount>15?this.unschedule(this.disturbance):this.playerControl.disturbance()},ass:function(){this.disturbanceCount=0,this.unschedule(this.disturbance),this.schedule(this.disturbance,.5)},speedSche:function(){this.joystickControl.normalSpeed=10},speed:function(){this.joystickControl.normalSpeed=20,this.unschedule(this.speedSche),this.scheduleOnce(this.speedSche,3)},shootFastSche:function(){this.playerControl.bulletDuration=.2},shootFast:function(){this.playerControl.bulletDuration=.1,this.unschedule(this.shootFastSche),this.scheduleOnce(this.shootFastSche,8)},invincibleSche:function(){var e=this;cc.log("shield cover stop"),this.shieldCover.stopAllActions(),this.shieldCover.opacity=255;var t=cc.sequence(cc.scaleTo(0,1),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.fadeTo(0,0),cc.fadeTo(.2,0),cc.fadeTo(0,255),cc.fadeTo(.2,255),cc.callFunc(function(){e.shieldCover.active=!1,e.playerControl.invincibling=!1}));this.shieldCover.runAction(t)},invincible:function(){this.shieldCover.active=!0,this.playerControl.invincibling=!0,this.unschedule(this.invincibleSche),this.schedule(this.invincibleSche,8)}}),cc._RF.pop()},{}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"7465db80eJHGKtYRgxO9rzf","Player");var i={MISSILE:15,BULLET:10,ENEMY:10};cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node},bullet_pre:{default:null,type:cc.Prefab},bullet1_pre:{default:null,type:cc.Prefab},plane:{default:null,type:cc.Node},life:{default:null,type:cc.Node},shield:{default:null,type:cc.Node},gun:{default:null,type:cc.Node},bullet_audio:{default:null,type:cc.AudioClip}},start:function(){this.gameControl=this.canvas.getComponent("Game"),this.invincibling=!1,this.bulletDuration=.2,this.initPool(),this.bulletControl()},initPool:function(){this.bulletPool=new cc.NodePool;for(var e=0;e<10;++e){var t=cc.instantiate(this.bullet_pre);this.bulletPool.put(t)}this.bullet1Pool=new cc.NodePool;for(var n=0;n<10;++n){var i=cc.instantiate(this.bullet1_pre);this.bullet1Pool.put(i)}},getDamage:function(e){if(!this.invincibling){this.unschedule(this.shieldRecovery);var t=i[e];this.shield.width>t?this.shield.width-=t:(this.life.width-=Number(t-this.shield.width),this.shield.width=0),this.life.width<=0&&(this.unscheduleAllCallbacks(),this.gameControl.gameEnd(),this.node.destroy()),this.schedule(this.shieldRecovery,2)}},shieldRecovery:function(){100-this.shield.width>10?this.shield.width+=15:(this.shield.width=100,this.unschedule(this.shieldRecovery))},bulletControl:function(){var e=this;this.normalBullet(),this.scheduleOnce(function(){e.bulletControl()},this.bulletDuration)},disturbance:function(){for(var e=0;e<3;e++){var t=this.spawnBullet(this.node.position,this.plane.rotation),n=cc.v2(0,200).rotate(-cc.misc.degreesToRadians(this.plane.rotation-20+20*e)),i=cc.sequence(cc.moveBy(1,-n.x,-n.y).easing(cc.easeOut(2)),cc.removeSelf());t.runAction(i)}},normalBullet:function(){cc.audioEngine.play(this.bullet_audio,!1,.2);var e=this.gun.getBoundingBoxToWorld(),t=this.spawnBullet(cc.v2(e.x-this.canvas.width/2,e.y-this.canvas.height/2),this.plane.rotation),n=cc.v2(0,500);n.rotateSelf(-cc.misc.degreesToRadians(this.plane.rotation));var i=cc.sequence(cc.moveBy(.5,n.x,n.y),cc.removeSelf());t.runAction(i)},spawnBullet:function(e,t){var n=null;return(n=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bullet_pre)).stopAllActions(),n.rotation=t,n.setPosition(e),this.canvas.addChild(n),n},spawnBullet1:function(e,t){var n=null;return(n=this.bullet1Pool.size()>0?this.bullet1Pool.get():cc.instantiate(this.bullet1_pre)).rotation=t,n.setPosition(e),this.canvas.addChild(n),n},bulletRecycle:function(e){"bullet"==e.name?this.bulletPool.put(e):this.bullet1Pool.put(e)}}),cc._RF.pop()},{}],Radar:[function(e,t,n){"use strict";cc._RF.push(t,"7e2e8xyqUtLG74A81/h1kvl","Radar"),cc.Class({extends:cc.Component,properties:{point_pre:{default:null,type:cc.Prefab}},onLoad:function(){this.pointPool=new cc.NodePool;for(var e=0;e<5;++e){var t=cc.instantiate(this.point_pre);this.pointPool.put(t)}},start:function(){},spawnPoint:function(e){var t=null;return(t=this.pointPool.size()>0?this.pointPool.get():cc.instantiate(this.point_pre)).opacity=255,t.setPosition(e),this.node.addChild(t),t},pointRecycle:function(e){this.pointPool.put(e)}}),cc._RF.pop()},{}],Rank:[function(e,t,n){"use strict";cc._RF.push(t,"a85ca6+unNLWaN7ujmWKgFm","Rank");var i=e("net"),a=e("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==a.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var e=this.statusArray.length;e>12&&(e=12);for(var t=0;t<e;++t){var n=this.statusArray[t],i=n.rank,a=n.avatar,o=n.nickname,c=n.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+t)),t%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(i,a,o,c),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+1))},getStatus:function(e){var t=this,n=i.AREA,o=i.version,c=i.singletoken;cc.log(n,o);var s=a.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+e+"&token="+c)+"!qaz@wsx$"),l=a.url+"/game/single_rank_all?token="+c+"&game_id="+s+"&page="+e+"&sign="+r;cc.log(l),axios.post(l,{},{headers:{AREA:n,"CLIENT-VERSION":o}}).then(function(n){cc.log(n);for(var i=n.data.data.rank_list,a=0;a<i.length;a++)t.statusArray.push(i[a]);t.currentPage=e,t.statusControl(n.data.data.current),t.content.height+=i.length*t.itemHeight,i.length<20&&(t.rankDied=!0),t.loading.opacity=0},this).catch(function(e){cc.log(e)})},statusControl:function(e){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(e)):this.refreshRank()},initSelf:function(e){cc.log("self data:",e);var t=e.rank,n=e.avatar,i=e.nickname,a=e.score,o=this.spawnBlock();o.getComponent("Block").init(t,n,i,a),this.self.addChild(o)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(e,t){1==t&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var e=0;e<this.blockArr.length;e++){var t=this.blockArr[e],n=Math.abs(t.y),i=Math.round((n+60)/120)-1;if(i>this.statusArray.length-1||i<0)t.opacity=0;else{t.opacity=255;var a=this.statusArray[i],o=a.rank,c=a.avatar,s=a.nickname,r=a.score;t.getComponent("Block").init(o,c,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var e=0;e<this.blockArr.length;e++){if(this.content.y+this.blockArr[e].y>660){var t=this.blockArr[e];t.y-=1440;var n=Math.abs(t.y),i=Math.round((n+60)/120);if(i>this.statusArray.length||i<0){t.opacity=0;continue}t.opacity=255;var a=this.statusArray[i-1],o=a.rank,c=a.avatar,s=a.nickname,r=a.score;t.getComponent("Block").init(o,c,s,r)}if(this.content.y+this.blockArr[e].y<-660){var l=this.blockArr[e];l.y+=1440;var h=Math.abs(l.y),d=Math.round((h+60)/120);if(d>this.statusArray.length){l.opacity=0;continue}l.opacity=255;var g=this.statusArray[d-1],u=g.rank,p=g.avatar,m=g.nickname,b=g.score;l.getComponent("Block").init(u,p,m,b)}}},update:function(e){this.statusBeGet&&(this.undateCount+=e,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Start:[function(e,t,n){"use strict";cc._RF.push(t,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var i=e("Common"),a=e("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},questionMark:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var e=this;this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){e.preload=!0,cc.log("preload success",e.preload,e.netload),e.netload&&(e.button.active=!0)})},chooseEnv:function(){if(void 0==a.type)if(void 0==a.token)void 0!==a.singletoken&&(this.rankButton.active=!0,1==a.env?i.url=a.url.appoffline:2==a.env?i.url=a.url.apppre:i.url=a.url.apponline,i.SceneType=10);else{if(1==a.env){var e=void 0;try{e=window.yanqu.getBrowerID()}catch(e){}i.url=a.url.appoffline,i.SceneType="yqbrower"==e?12:1}else i.SceneType=11,2==a.env?i.url=a.url.apppre:i.url=a.url.apponline;5==a.apptype&&(i.SceneType=15)}else 1==a.env?i.url=a.url.wxoffline:2==a.env?i.url=a.url.wxpre:i.url=a.url.wxonline,void 0!==a.singletoken&&(this.rankButton.active=!0,i.SceneType=10),3==a.type?i.SceneType=20:4==a.type?i.SceneType=21:5==a.type&&(i.SceneType=22);cc.log("scenetype:",i.SceneType)},getInfo:function(){var e,t=this,n="room_id="+a.room_id+"&token="+a.token,o=a.version,c=void 0;if(1==i.SceneType)c=hex_md5("YanQu"+n+"!qaz@wsx$"),o=1,a.AREA=1,this.transcend(c,o);else if(12==i.SceneType||15==i.SceneType||11==i.SceneType){var s=a.getSignString(n);c=s[0],o=s[1],a._version=o,this.transcend(c,o)}else if(20==i.SceneType||21==i.SceneType||22==i.SceneType)this.transcend();else if(10==i.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));e=i.url+"/live_game/revive?token="+a.token+"&room_id="+a.room_id+"&sign="+c,axios.post(e,{},{headers:{AREA:a.AREA,"CLIENT-VERSION":o}}).then(function(e){cc.log("start respose:",e);var n=e.data.data;i.reborn=n,t.netload=!0,t.preload&&(t.button.active=!0)}).catch(function(e){t.button.active=!0,cc.log(e)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(e,t){cc.log(e,t);var n,o=a.token,c=a.room_id,s=e;void 0==e&&(s=hex_md5("YanQu"+("room_id="+c+"&token="+o)+"!qaz@wsx$"));var r=a.AREA,l=t;void 0==t&&(l=a.version),n=i.url+"/live/section_rank_score?token="+o+"&room_id="+c+"&sign="+s,axios.post(n,{},{headers:{AREA:r,"CLIENT-VERSION":l}}).then(function(e){cc.log("rank:",e),Object.keys(e.data.data.rank).forEach(function(t){i.rank.push(e.data.data.rank[t])}),cc.log(i.rank)},this).catch(function(e){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(a))},update:function(e){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],chaoyue:[function(e,t,n){"use strict";cc._RF.push(t,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var i=e("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",i.SceneType,i.rank),(11===i.SceneType||12===i.SceneType||20===i.SceneType||1==i.SceneType)&&0!=i.rank.length){this._ranking=i.rank.length,this.transcendFunc();var e=cc.instantiate(this.transcendPrefab);this.node.addChild(e),e.opacity=0,e.getComponent("transcend").init(i.rank[this._ranking-1].avatar,i.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",i.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var e=i.rank,t=this.scoreLabel.string,n=0;n<e.length;n++)if(Number(t)>Number(e[n].score)&&(cc.log(t,e[n].score,n),this._ranking>n)){var a=cc.instantiate(this.transcendPrefab);this.node.addChild(a),a.setPosition(cc.v2(0,0)),a.opacity=0,a.getComponent("transcend").init(i.rank[n].avatar,i.rank[n].rank);var o=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return a.runAction(o),this._ranking=n,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(e,t,n){"use strict";cc._RF.push(t,"b0123F/GzdDoYtgcFawA/yh","endbg");var i=e("Common"),a=e("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",a),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===i.SceneType?(this.weixing.active=!0,this.putongRank()):11===i.SceneType||12===i.SceneType||1===i.SceneType?(this.hongbao.active=!0,this.hongBao()):20===i.SceneType?(this.weixing.active=!0,this.wechat()):21===i.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===i.SceneType||15===i.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+i.score)},start:function(){},putongRank:function(){var e=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var t,n=a.singletoken,o=a.AREA,c="game_id="+i.GameId+"&score="+e+"&token="+n,s=hex_md5("YanQu"+c+"!qaz@wsx$"),r=a.version;t=i.url+"/game/single_push_data?token="+n+"&game_id="+i.GameId+"&score="+e+"&sign="+s,cc.log(t),axios.post(t,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(cc.log("code:",t),400404==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank,i=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},hongBao:function(){var e=i.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=e;var t,n=a.token,o=a.room_id,c=a.AREA,s=(a.env,"room_id="+o+"&score="+e+"&token="+n),r=void 0,l=void 0;try{var h=window.yanqu.getSignString(s);r=JSON.parse(h).sign.sign,l=JSON.parse(h).header.VERSION}catch(e){}1===i.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),t=i.url+"/live_game/push_data?token="+n+"&score="+e+"&room_id="+o+"&sign="+r,axios.post(t,{},{headers:{AREA:c,"CLIENT-VERSION":l}}).then(function(e){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="";var n=e.data.data.rank_list,i=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechat:function(){var e=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=e;var t,n=a.token,o=a.room_id,c=a.AREA,s=hex_md5("YanQu"+("room_id="+o+"&score="+e+"&token="+n)+"!qaz@wsx$"),r=a.version;t=i.url+"/live_game/push_data?token="+n+"&score="+e+"&room_id="+o+"&sign="+s,cc.log(t),axios.post(t,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(cc.log("code:",t),400404==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank_list,i=e.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(e){cc.log(e)})},wechathelp:function(){var e,t=a.token,n=a.room_id,o=a.AREA,c="help_score="+i.score+"&room_id="+n+"&token="+t+"&user_id="+a.helpuid,s=hex_md5("YanQu"+c+"!qaz@wsx$");e=i.url+"/live_game/push_data?token="+t+"&help_score="+i.score+"&room_id="+n+"&user_id="+a.helpuid+"&sign="+s;var r=a.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="";var n=e.data.data.rank_list,a=e.data.data.current_rank,o=e.data.data.max_help_score;console.log("head",n),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+o+" \u5206",n[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,a===n[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,a===n[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,a===n[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==t){var c=e.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(e){cc.log(e)})},teamend:function(){cc.log("team");var e,t=a.token,n=a.room_id,o=a.AREA,c="room_id="+n+"&score="+i.score+"&token="+t,s=hex_md5("YanQu"+c+"!qaz@wsx$");e=i.url+"/live_game/push_data?token="+t+"&score="+i.score+"&room_id="+n+"&sign="+s;var r=a.version;cc.log(e,"PPPPP"),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(e){cc.log(e);var t=e.data.code;if(400404==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==t)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==t){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=e.data.data.rank_list,a=e.data.data.current_rank,o=e.data.data.max_score;console.log("head",n),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+o+" \u5206",n[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,a===n[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,a===n[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,a===n[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==t){var c=e.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(e){cc.log(e)})},turn:function(){i.score=0,i.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(e,t,n){"use strict";cc._RF.push(t,"62e73sDA6dOGolthqoGzpA1","net");var i=function(){var e=window.location.search,t=new Object;if(-1!=e.indexOf("?"))for(var n=e.substr(1),i=n.split("&"),a=0;a<i.length;a++)t[i[a].split("=")[0]]=i[a].split("=")[1];return t}(),a=i.token,o=i.room_id,c=i.AREA,s=i.env,r=i.type,l=i.version,h=i.helpuid,d=i.teamid,g=i.apptype,u=i.singletoken;var p={text:window.location,token:a,room_id:o,AREA:c,env:s,type:r,version:l,helpuid:h,teamid:d,apptype:g,singletoken:u,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(e){var t=[];try{var n=window.yanqu.getSignString(e),i=JSON.parse(n).sign.sign,a=JSON.parse(n).header.VERSION;t.push(i),t.push(a)}catch(e){}return t}};t.exports=p,cc._RF.pop()},{}],transcend:[function(e,t,n){"use strict";cc._RF.push(t,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(e,t){var n=this;cc.log(e,t);var i="http://image.dialect-tv.com/"+e;cc.log("url: ",i),cc.loader.load(i,function(e,t){if(e)cc.log(e);else{n.texture=t;var i=new cc.SpriteFrame(t);n.img.spriteFrame=i}}),this.num.string="\u7b2c"+t+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Block","Rank","Start","chaoyue","transcend","endbg","net","JoyStick","Common","Enemy","EnemyPlane","Event","Game","Missile","Plane","Player","Radar"]);