window.__require=function t(e,n,i){function o(c,s){if(!n[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!s&&h)return h(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+c+"'")}}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return o(e[c][1][t]||t)},l,l.exports,t,e,n,i)}return n[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({Arrow:[function(t,e,n){"use strict";cc._RF.push(e,"f8e4f98qxlGhLfpp7CzxHbs","Arrow"),cc.Class({extends:cc.Component,properties:{particle:{default:null,type:cc.ParticleSystem},fruit_audio:{default:null,type:cc.AudioClip}},onLoad:function(){this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game"),this.clock=0,this.duration=.2,this.dropedSpeed=0,this.g=100,this.shootingG=1e3,this.rotate=100*-Math.random(),this.shotspeed=2e3,this.arrowSpeed=cc.v2(0,0),this.droped=!1,this.onShooting=!1},start:function(){this.arrowReloaded=!1},onCollisionEnter:function(t,e){var n=this;if("wall"==t.node.group)this.particle.stopSystem(),this.onShooting&&(this.onShooting=!1,this.gameControl.spawnTreeDust(cc.v2(this.node.x+this.node.width/2,this.node.y)),this.arrowReloaded||(this.gameControl.arrowReload(),this.arrowReloaded=!0),this.scheduleOnce(function(){n.droped=!0},1+4*Math.random()));else if("fruit"==t.node.group){cc.audioEngine.play(this.fruit_audio,!1,1);var i=t.node.parent;"egg"==i.name&&(t.node.getProperty||(this.gameControl.showProperty(this.node.position),t.node.getProperty=!0)),t.node.getScore||(this.gameControl.addScore(t.node.parent.position),t.node.getScore=!0),i.getComponent("fruit").split_fruit(this.node.rotation)}},arrowControl:function(t){this.onShooting&&(this.node.x+=this.arrowSpeed.x*t,this.node.y+=this.arrowSpeed.y*t,this.arrowSpeed.y-=this.shootingG*t,this.node.rotation=cc.misc.radiansToDegrees(this.arrowSpeed.signAngle(cc.v2(1,0))))},shoot:function(t){this.particle.resetSystem(),this.arrowSpeed=cc.v2(t,0).rotate(cc.misc.degreesToRadians(-this.node.rotation)),this.onShooting=!0},update:function(t){this.droped&&(this.node.y+=this.dropedSpeed-=this.g*t,this.node.rotation+=this.rotate*t),this.arrowControl(t),(this.clock+=t)<this.duration||(this.clock=0,(this.node.y<-400||this.node.y>400)&&(this.droped||this.arrowReloaded||(this.gameControl.arrowReload(),this.arrowReloaded=!0),this.node.destroy()))}}),cc._RF.pop()},{}],Block:[function(t,e,n){"use strict";cc._RF.push(e,"7678faPbyJLrph1RxP8mctM","Block");var i=t("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(t,e,n,o){var a=this;this.rankLabel.string=t,this.rankLabel.node.color="1"==t?new cc.Color(255,0,0,255):"2"==t?new cc.Color(255,102,0,255):"3"==t?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=n,this.score.string=o,""==e||(cc.log("load pic",i.url+"/"+e),cc.loader.load("http://image.dialect-tv.com/"+e,function(t,e){t&&console.error(t),a.userIcon.spriteFrame=new cc.SpriteFrame(e)}))}}),cc._RF.pop()},{Common:"Common"}],Common:[function(t,e,n){"use strict";cc._RF.push(e,"9a437G2AIdFvqnl5U1xFc0B","Common"),e.exports={score:0,SceneType:0,reborn:{},rebornTime:1,GameId:56,url:"",rank:[],fruitRandomTime:3},cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"f967cVEwDdIPaPsPXgOOSL/","Game");var i=t("Common");cc.Class({extends:cc.Component,properties:{property_sprites:{default:[],type:cc.Sprite},bow:{default:null,type:cc.Node},arrow_pre:{default:null,type:cc.Prefab},fruit_pres:{default:[],type:cc.Prefab},egg_pre:{default:null,type:cc.Prefab},fruit_father:{default:null,type:cc.Node},property_pre:{default:null,type:cc.Prefab},scoreLabel:{default:null,type:cc.Label},laser:{default:null,type:cc.Node},play_anim:{default:null,type:cc.Animation},dragPoint:{default:null,type:cc.Node},dragBar:{default:null,type:cc.Node},arrowLocate:{default:null,type:cc.Node},tree_dust_pre:{default:null,type:cc.Prefab},bowbow_audio:{default:null,type:cc.AudioClip},shot_audio:{default:null,type:cc.AudioClip},die_audio:{default:null,type:cc.AudioClip},dragType:!1,lifeBar:{default:null,type:cc.Node},freezeStatus:{default:null,type:cc.Node},strongStatus:{default:null,type:cc.Node},biggerStatus:{default:null,type:cc.Node},tribleStatus:{default:null,type:cc.Node},freezeBar:{default:null,type:cc.Node},strongBar:{default:null,type:cc.Node},biggerBar:{default:null,type:cc.Node},tribleBar:{default:null,type:cc.Node},excellent:{default:null,type:cc.Node},great:{default:null,type:cc.Node},good:{default:null,type:cc.Node},score:{default:null,type:cc.Node},statusBar:{default:null,type:cc.Node}},start:function(){cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),this.excellent.opacity=0,this.great.opacity=0,this.good.opacity=0,this.freezeStatus.active=!1,this.strongStatus.active=!1,this.biggerStatus.active=!1,this.tribleStatus.active=!1,this.dragPoint.opacity=0,this.dragBar.opacity=0,this.life=5,this.statusBarLength=300,this.totalTribleCount=0,this.g=1e3,this.shotspeed=2e3,this.gameSpeedDown=.5,this.slowDowning=!1,this.arrowScale=1,cc.director.getCollisionManager().enabled=!0,this.setInputControl(),this.currentArrow=[],this.currentArrowCount=0,this.onShooting=!1,this.tribleCount=-1,this.reloadCount=0,this.bonusCount=0,this.shotFruitCount=1,this.fruitRandomTime=i.fruitRandomTime,this.scoreLabel.string=i.score,this.arrowSpeed=cc.v2(0,0),this.arrowReload(),this.init(),this.gameEnded=!1,this.dragPosition=cc.v2(0,0)},setInputControl:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){if(!t.gameEnded){var n=e.touch._point;t.dragType?(t.dragPosition=cc.v2(n.x-t.node.width/2,n.y-t.node.height/2),t.dragPoint.position=t.dragPosition,t.dragBar.position=t.dragPosition,t.dragPoint.opacity=255):t.getDirection(n)}}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(!t.gameEnded){var n=e.touch._point;if(t.dragType){var i=cc.v2(t.dragPosition.x-(n.x-t.node.width/2),t.dragPosition.y-(n.y-t.node.height/2));if(0==i.mag())return;var o=cc.misc.radiansToDegrees(i.signAngle(cc.v2(1,0)));t.dragBar.rotation=o,t.dragBar.opacity=255,t.dragBar.width=i.mag(),o>90?o=90:o<-90&&(o=-90),t.bow.rotation=o}else t.getDirection(n)}}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){t.gameEnded||(t.dragBar.opacity=0,t.dragPoint.opacity=0,t.shoot())}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){t.gameEnded||(t.dragBar.opacity=0,t.dragPoint.opacity=0,t.shoot())})},init:function(){this.fruitControl(),this.propertyControl(),this.difficultControl()},fruitControl:function(){var t=this;this.scheduleOnce(function(){if(t.gameEnded)t.fruitControl();else{var e=t._spawnFruit();if(t.getfruit(e),t.tribleCount>1){var n=t._spawnFruit();t.getfruit(n);var i=t._spawnFruit();t.getfruit(i)}t.fruitControl()}},this.fruitRandomTime)},difficultControl:function(){var t=this;this.scheduleOnce(function(){t.gameEnded?t.difficultControl():(t.fruitRandomTime-=.1,t.fruitRandomTime<.5||t.difficultControl())},15)},propertyControl:function(){var t=this;this.scheduleOnce(function(){if(t.gameEnded)t.propertyControl();else{var e=t._spawnEgg();t.getfruit(e),t.propertyControl()}},6+6*Math.random())},arrowReload:function(){if(this.currentArrow=[],this.tribleCount>0){if(this.reloadCount+=1,cc.log(this.reloadCount,this.currentArrowCount),this.reloadCount>=this.currentArrowCount){cc.audioEngine.play(this.bowbow_audio,!1,1),this.play_anim.play("bowbow"),this.tribleBar.width=this.tribleCount/this.totalTribleCount*this.statusBarLength,this.tribleCount-=1,this.tribleArrowReload();var t=this._spawnArrow();t.setPosition(this.arrowLocate.position),this.bow.addChild(t),this.currentArrow.push(t),this.bonusCount++,1==this.shotFruitCount&&this.bonusReset(),this.shotFruitCount=1}}else if(0==this.tribleCount){if(this.reloadCount++,this.reloadCount==this.currentArrowCount){this.onShooting=!1,cc.audioEngine.play(this.bowbow_audio,!1,1),this.play_anim.play("bowbow"),this.tribleCount-=1,this.tribleStatus.active=!1;var e=this._spawnArrow();e.setPosition(this.arrowLocate.position),this.bow.addChild(e),this.currentArrow.push(e),this.bonusCount++,1==this.shotFruitCount&&this.bonusReset(),this.shotFruitCount=1}}else{this.onShooting=!1,cc.audioEngine.play(this.bowbow_audio,!1,1),this.play_anim.play("bowbow");var n=this._spawnArrow();n.setPosition(this.arrowLocate.position),this.bow.addChild(n),this.currentArrow.push(n),this.bonusCount++,1==this.shotFruitCount&&this.bonusReset(),this.shotFruitCount=1}},tribleArrowReload:function(){var t=this._spawnArrow();t.rotation=10,t.setPosition(this.arrowLocate.position),t.y-=10,this.bow.addChild(t),this.currentArrow.push(t);var e=this._spawnArrow();e.rotation=-10,e.setPosition(this.arrowLocate.position),e.y+=10,this.bow.addChild(e),this.currentArrow.push(e),this.onShooting=!1},getDirection:function(t){var e=cc.v2(t.x-this.node.width/2-this.bow.x,t.y-this.node.height/2-this.bow.y-20).signAngle(cc.v2(-1,0));this.shoot_degree=cc.misc.radiansToDegrees(e),this.shoot_degree>90?this.shoot_degree=90:this.shoot_degree<-90&&(this.shoot_degree=-90),this.currentArrow&&(this.onShooting||(this.currentArrow.rotation=this.shoot_degree)),this.bow.rotation=this.shoot_degree},shoot:function(){if(!this.onShooting||this.currentArrow.length>0){cc.audioEngine.play(this.shot_audio,!1,1),this.play_anim.play("shoot"),this.arrowSpeed=cc.v2(this.shotspeed,0).rotate(cc.misc.degreesToRadians(-this.shoot_degree+6*(Math.random()-.5)));for(var t=0;t<this.currentArrow.length;t++){var e=this.currentArrow[t],n=this.arrowLocate.getBoundingBoxToWorld();e.position=cc.v2(n.x-this.node.width/2,n.y-this.node.height/2),e.rotation=this.bow.rotation+e.rotation,e.parent=this.node,e.getComponent("Arrow").shoot(this.shotspeed)}this.currentArrowCount=this.currentArrow.length,this.currentArrow=[],this.reloadCount=0,this.onShooting=!0}},getfruit:function(t){this.fruit_father.addChild(t),t.x=600*(Math.random()-.5)+50,t.y=-400;Math.PI,Math.random(),Math.PI;var e=1100+100*Math.random();t.getComponent("throw_action").start_action(0,e)},showProperty:function(t){var e=this._spawnProperty(),n=Math.floor(Math.random()*this.property_sprites.length),i=this.property_sprites[n];e.getComponent(cc.Sprite).spriteFrame=i.spriteFrame,e.position=t,e.width=60,e.height=60,this.node.addChild(e);var o=i.node.name;this[o]();var a=e.getChildByName("label").getComponent(cc.Label);"tripleArrow"==o?a.string="\u4e09\u91cd\u7bad":"bebiger"==o?a.string="\u5927\u7bad":"speedUp"==o?a.string="\u5f3a\u529b\u51fb":"slowDown"==o&&(a.string="\u51cf\u901f");var c=cc.sequence(cc.moveBy(.5,cc.v2(0,50)),cc.scaleTo(.5,1),cc.removeSelf());e.runAction(c)},tripleArrow:function(){this.tribleStatus.active=!0,this.tribleCount+=6,this.totalTribleCount=this.tribleCount},bebiger:function(){this.arrowScale=1.5,this.unschedule(this.besmaller),this.biggerStatus.active=!0,this.biggerBar.width=this.statusBarLength,this.schedule(this.besmaller,.5)},besmaller:function(){this.biggerBar.width-=15,this.biggerBar.width<=0&&(this.arrowScale=1,this.biggerStatus.active=!1,this.unschedule(this.besmaller))},speedUp:function(){this.shotspeed=4e3,this.unschedule(this.speedDown),this.strongStatus.active=!0,this.strongBar.width=this.statusBarLength,this.schedule(this.speedDown,.5)},speedDown:function(){this.strongBar.width-=15,this.strongBar.width<=0&&(this.shotspeed=2e3,this.strongStatus.active=!1,this.unschedule(this.speedDown))},slowDown:function(){this.slowDowning=!0,this.unschedule(this.slowUp),this.freezeStatus.active=!0,this.freezeBar.width=this.statusBarLength,this.schedule(this.slowUp,.5)},slowUp:function(){this.freezeBar.width-=15,this.freezeBar.width<=0&&(this.slowDowning=!1,this.freezeStatus.active=!1,this.unschedule(this.slowUp))},bonusReset:function(){this.bonusCount=0},addScore:function(t){var e=(6+this.bonusCount)*this.shotFruitCount,n=cc.sequence(cc.moveBy(.5,cc.v2(0,50)),cc.scaleTo(.5,1.5),cc.fadeOut(.2));2==this.shotFruitCount?(this.good.setPosition(t),this.good.opacity=255,this.good.runAction(n)):3==this.shotFruitCount?(this.great.setPosition(t),this.great.opacity=255,this.great.runAction(n)):this.shotFruitCount>=4&&(this.excellent.setPosition(t),this.excellent.opacity=255,this.excellent.stopAllActions(),this.excellent.runAction(n)),i.score+=e,this.scoreLabel.string=i.score,this.shotFruitCount+=1},gameEnd:function(){this.gameEnded||(cc.audioEngine.play(this.die_audio,!1,1),this.gameEnded=!0,i.fruitRandomTime=this.fruitRandomTime,this.scheduleOnce(function(){cc.find("Canvas/reborn").getComponent("Reborn").showLabel()},1))},_spawnArrow:function(){var t=cc.instantiate(this.arrow_pre);return t.scale=this.arrowScale,t},_spawnFruit:function(){return cc.instantiate(this.fruit_pres[Math.floor(Math.random()*this.fruit_pres.length)])},_spawnEgg:function(){return cc.instantiate(this.egg_pre)},_spawnProperty:function(){return cc.instantiate(this.property_pre)},spawnTreeDust:function(t){var e=cc.instantiate(this.tree_dust_pre);return e.setPosition(t),this.node.addChild(e),e.getComponent(cc.ParticleSystem).resetSystem(),e},lifeReduce:function(){this.life-=1,this.life>=0&&(this.lifeBar.width=this.life/5*this.statusBarLength),this.life<1&&this.gameEnd()},update:function(t){}}),cc._RF.pop()},{Common:"Common"}],Rank:[function(t,e,n){"use strict";cc._RF.push(e,"a85ca6+unNLWaN7ujmWKgFm","Rank");var i=t("net"),o=t("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==o.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var t=this.statusArray.length;t>12&&(t=12);for(var e=0;e<t;++e){var n=this.statusArray[e],i=n.rank,o=n.avatar,a=n.nickname,c=n.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+e)),e%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(i,o,a,c),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+=1))},getStatus:function(t){var e=this,n=i.AREA,a=i.version,c=i.singletoken;cc.log(n,a);var s=o.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+t+"&token="+c)+"!qaz@wsx$"),h=o.url+"/game/single_rank_all?token="+c+"&game_id="+s+"&page="+t+"&sign="+r;cc.log(h),axios.post(h,{},{headers:{AREA:n,"CLIENT-VERSION":a}}).then(function(n){cc.log(n);for(var i=n.data.data.rank_list,o=0;o<i.length;o++)e.statusArray.push(i[o]);e.currentPage=t,e.statusControl(n.data.data.current),e.content.height+=i.length*e.itemHeight,i.length<20&&(e.rankDied=!0),e.loading.opacity=0},this).catch(function(t){cc.log(t)})},statusControl:function(t){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(t)):this.refreshRank()},initSelf:function(t){cc.log("self data:",t);var e=t.rank,n=t.avatar,i=t.nickname,o=t.score,a=this.spawnBlock();a.getComponent("Block").init(e,n,i,o),this.self.addChild(a)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(t,e){1==e&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var t=0;t<this.blockArr.length;t++){var e=this.blockArr[t],n=Math.abs(e.y),i=Math.round((n+60)/120)-1;if(i>this.statusArray.length-1||i<0)e.opacity=0;else{e.opacity=255;var o=this.statusArray[i],a=o.rank,c=o.avatar,s=o.nickname,r=o.score;e.getComponent("Block").init(a,c,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var t=0;t<this.blockArr.length;t++){if(this.content.y+this.blockArr[t].y>660){var e=this.blockArr[t];e.y-=1440;var n=Math.abs(e.y),i=Math.round((n+60)/120);if(i>this.statusArray.length||i<0){e.opacity=0;continue}e.opacity=255;var o=this.statusArray[i-1],a=o.rank,c=o.avatar,s=o.nickname,r=o.score;e.getComponent("Block").init(a,c,s,r)}if(this.content.y+this.blockArr[t].y<-660){var h=this.blockArr[t];h.y+=1440;var l=Math.abs(h.y),d=Math.round((l+60)/120);if(d>this.statusArray.length){h.opacity=0;continue}h.opacity=255;var g=this.statusArray[d-1],u=g.rank,p=g.avatar,b=g.nickname,f=g.score;h.getComponent("Block").init(u,p,b,f)}}},update:function(t){this.statusBeGet&&(this.undateCount+=t,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Reborn:[function(t,e,n){"use strict";cc._RF.push(e,"faf9bra/O1C6rUqHeQpUUcT","Reborn");var i=t("net"),o=t("Common");cc.game.watchend=function(){cc.game.emit("WATCH_TV_END")},cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Node},reborn_price:{default:null,type:cc.Node},background:{default:null,type:cc.Node},pay_success:{default:null,type:cc.Node},no_enough_money:{default:null,type:cc.Node},net_err:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},black:{default:null,type:cc.Node},panel:{default:null,type:cc.Node},videoButton:{default:null,type:cc.Node},rebornButton:{default:null,type:cc.Node},pray:{default:null,type:cc.Node},Camera:{default:null,type:cc.Node}},onLoad:function(){var t=this;void 0==i.type&&cc.game.on("WATCH_TV_END",function(){t.rebornSuccess()},this)},start:function(){this.net_err.active=!1,this.pray.active=!1,this.node.active=!1,this.no_enough_money.active=!1,this.pay_success.active=!1,this.background.active=!1,this.black.active=!1,this.gameObject=this.canvas.getComponent("Game")},showLabel:function(){if(this.node.position=this.Camera.position,this.unscheduleAllCallbacks(),void 0!=i.type)return this.goDie(),this.videoButton.active=!1,void(this.rebornButton.x=0);var t=o.reborn;cc.log("reborn:",t,i.room_id),void 0!=t?void 0!=i.room_id?1==t.revive?(this.score.getComponent("cc.Label").string=o.score+" \u5206",o.rebornTime<4&&0!=t.subsection[o.rebornTime]?(this.node.active=!0,this.panel.active=!0,this.background.active=!0,this.black.active=!0,this.reborn_price.getComponent("cc.Label").string="X "+t.subsection[o.rebornTime]):this.goDie()):this.goDie():this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1):this.goDie()},reborn:function(){var t=this;this.pray.active=!0;var e=o.reborn;if(parseInt(e.coin)<parseInt(e.subsection[o.rebornTime]))return this.no_enough_money.active=!0,this.no_enough_money.opacity=255,this.no_enough_money.stopAllActions(),this.no_enough_money.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5))),void(this.pray.active=!1);var n=void 0,a=1,c="num="+o.rebornTime+"&room_id="+i.room_id+"&token="+i.token;if(1==o.SceneType){var s=hex_md5("YanQu"+c+"!qaz@wsx$");a=1,n=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+s}else if(12==o.SceneType||15==o.SceneType||11==o.SceneType){var r=i.getSignString(c),h=r[0];a=r[1],n=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+h}else{if(20!=o.SceneType&&21!=o.SceneType&&22!=o.SceneType)return void this.goDie();var l=hex_md5("YanQu"+c+"!qaz@wsx$");a=i.version,n=o.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+o.rebornTime+"&sign="+l}cc.log("reborn url:",n);var d=this;axios.post(n,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":a}}).then(function(e){cc.log(e);var n=e.data.data;void 0!=n?(o.reborn.coin=n.coin,1==n.is_pay?t.rebornSuccess():(t.node.active=!0,t.background.active=!0)):t.goDie()}).catch(function(t){d.pray.active=!1,d.net_err.active=!0,d.net_err.opacity=255,d.net_err.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5)))})},rebornSuccess:function(){var t=this;cc.log("reborn success"),o.rebornTime+=1,this.panel.active=!1,this.pray.active=!1,this.pay_success.active=!0,this.pay_success.opacity=255,this.pay_success.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5))),this.scheduleOnce(function(){t.node.active=!1},1),cc.director.loadScene("GameScene")},showvideoads:function(){try{yanqu.showVideoAds()}catch(t){alert("\u89c6\u9891\u590d\u6d3b\u4e0d\u53ef\u7528",t)}},goDie:function(){cc.find("Canvas/bg").getComponent("endbg").init(),this.node.active=!1},update:function(t){}}),cc._RF.pop()},{Common:"Common",net:"net"}],Start:[function(t,e,n){"use strict";cc._RF.push(e,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var i=t("Common"),o=t("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node},turnScreen:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var t=this;this.turnScreen.active=!1,this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){t.preload=!0,cc.log("preload success",t.preload,t.netload),t.netload&&(t.button.active=!0)})},chooseEnv:function(){if(void 0==o.type)if(void 0==o.token)void 0!==o.singletoken&&(this.rankButton.active=!0,1==o.env?i.url=o.url.appoffline:2==o.env?i.url=o.url.apppre:i.url=o.url.apponline,i.SceneType=10);else{if(1==o.env){var t=void 0;try{t=window.yanqu.getBrowerID()}catch(t){}i.url=o.url.appoffline,i.SceneType="yqbrower"==t?12:1}else i.SceneType=11,2==o.env?i.url=o.url.apppre:i.url=o.url.apponline;5==o.apptype&&(i.SceneType=15)}else 1==o.env?i.url=o.url.wxoffline:2==o.env?i.url=o.url.wxpre:i.url=o.url.wxonline,void 0!==o.singletoken&&(this.rankButton.active=!0,i.SceneType=10),3==o.type?i.SceneType=20:4==o.type?i.SceneType=21:5==o.type&&(i.SceneType=22);cc.log("scenetype:",i.SceneType)},getInfo:function(){var t,e=this,n="room_id="+o.room_id+"&token="+o.token,a=o.version,c=void 0;if(1==i.SceneType)c=hex_md5("YanQu"+n+"!qaz@wsx$"),a=1,o.AREA=1,this.transcend(c,a);else if(12==i.SceneType||15==i.SceneType||11==i.SceneType){var s=o.getSignString(n);c=s[0],a=s[1],o._version=a,this.transcend(c,a)}else if(20==i.SceneType||21==i.SceneType||22==i.SceneType)this.transcend();else if(10==i.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));t=i.url+"/live_game/revive?token="+o.token+"&room_id="+o.room_id+"&sign="+c,axios.post(t,{},{headers:{AREA:o.AREA,"CLIENT-VERSION":a}}).then(function(t){cc.log("start respose:",t);var n=t.data.data;i.reborn=n,e.netload=!0,e.preload&&(e.button.active=!0)}).catch(function(t){e.netload=!0,e.preload&&(e.button.active=!0),cc.log(t)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},start_button:function(){this.turnScreen.active=!0},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(t,e){cc.log(t,e);var n,a=o.token,c=o.room_id,s=t;void 0==t&&(s=hex_md5("YanQu"+("room_id="+c+"&token="+a)+"!qaz@wsx$"));var r=o.AREA,h=e;void 0==e&&(h=o.version),n=i.url+"/live/section_rank_score?token="+a+"&room_id="+c+"&sign="+s,axios.post(n,{},{headers:{AREA:r,"CLIENT-VERSION":h}}).then(function(t){cc.log("rank:",t),Object.keys(t.data.data.rank).forEach(function(e){i.rank.push(t.data.data.rank[e])}),cc.log(i.rank)},this).catch(function(t){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(o))},update:function(t){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],Wall:[function(t,e,n){"use strict";cc._RF.push(e,"413a2/mDD1BeLU9MhqF9ICM","Wall"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node}},start:function(){this.gameControl=this.canvas.getComponent("Game")}}),cc._RF.pop()},{}],chaoyue:[function(t,e,n){"use strict";cc._RF.push(e,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var i=t("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",i.SceneType,i.rank),(11===i.SceneType||12===i.SceneType||20===i.SceneType||1==i.SceneType)&&0!=i.rank.length){this._ranking=i.rank.length,this.transcendFunc();var t=cc.instantiate(this.transcendPrefab);this.node.addChild(t),t.opacity=0,t.getComponent("transcend").init(i.rank[this._ranking-1].avatar,i.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",i.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var t=i.rank,e=this.scoreLabel.string,n=0;n<t.length;n++)if(Number(e)>Number(t[n].score)&&(cc.log(e,t[n].score,n),this._ranking>n)){var o=cc.instantiate(this.transcendPrefab);this.node.addChild(o),o.setPosition(cc.v2(0,0)),o.opacity=0,o.getComponent("transcend").init(i.rank[n].avatar,i.rank[n].rank);var a=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return o.runAction(a),this._ranking=n,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(t,e,n){"use strict";cc._RF.push(e,"b0123F/GzdDoYtgcFawA/yh","endbg");var i=t("Common"),o=t("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",o),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){void 0==o.type&&this.showadstrue(),this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===i.SceneType?(this.weixing.active=!0,this.putongRank()):11===i.SceneType||12===i.SceneType||1===i.SceneType?(this.hongbao.active=!0,this.hongBao()):20===i.SceneType?(this.weixing.active=!0,this.wechat()):21===i.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===i.SceneType||15===i.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+i.score)},start:function(){},putongRank:function(){var t=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=t;var e,n=o.singletoken,a=o.AREA,c="game_id="+i.GameId+"&score="+t+"&token="+n,s=hex_md5("YanQu"+c+"!qaz@wsx$"),r=o.version;e=i.url+"/game/single_push_data?token="+n+"&game_id="+i.GameId+"&score="+t+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(t){cc.log(t);var e=t.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){10==i.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank,o=t.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,o===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,o===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,o===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(t){cc.log(t)})},hongBao:function(){var t=i.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=t;var e,n=o.token,a=o.room_id,c=o.AREA,s="room_id="+a+"&score="+t+"&token="+n,r=void 0,h=void 0;try{var l=window.yanqu.getSignString(s);r=JSON.parse(l).sign.sign,h=JSON.parse(l).header.VERSION}catch(t){}1===i.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),e=i.url+"/live_game/push_data?token="+n+"&score="+t+"&room_id="+a+"&sign="+r,cc.log("url:",e),axios.post(e,{},{headers:{AREA:c,"CLIENT-VERSION":h}}).then(function(t){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",t);var e=t.data.code;if(400404==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank_list,i=t.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(t){cc.log(t)})},wechat:function(){var t=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=t;var e,n=o.token,a=o.room_id,c=o.AREA,s=hex_md5("YanQu"+("room_id="+a+"&score="+t+"&token="+n)+"!qaz@wsx$"),r=o.version;e=i.url+"/live_game/push_data?token="+n+"&score="+t+"&room_id="+a+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(t){cc.log(t);var e=t.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank_list,i=t.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(t){cc.log(t)})},wechathelp:function(){var t,e=o.token,n=o.room_id,a=o.AREA,c="help_score="+i.score+"&room_id="+n+"&token="+e+"&user_id="+o.helpuid,s=hex_md5("YanQu"+c+"!qaz@wsx$");t=i.url+"/live_game/push_data?token="+e+"&help_score="+i.score+"&room_id="+n+"&user_id="+o.helpuid+"&sign="+s;var r=o.version;cc.log(t,"PPPPP"),axios.post(t,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(t){cc.log(t);var e=t.data.code;if(400404==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank_list,o=t.data.data.current_rank,a=t.data.data.max_help_score;console.log("head",n),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+a+" \u5206",n[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,o===n[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,o===n[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,o===n[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var c=t.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(t){cc.log(t)})},teamend:function(){cc.log("team");var t,e=o.token,n=o.room_id,a=o.AREA,c="room_id="+n+"&score="+i.score+"&token="+e,s=hex_md5("YanQu"+c+"!qaz@wsx$");t=i.url+"/live_game/push_data?token="+e+"&score="+i.score+"&room_id="+n+"&sign="+s;var r=o.version;cc.log(t,"PPPPP"),axios.post(t,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(t){cc.log(t);var e=t.data.code;if(400404==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank_list,o=t.data.data.current_rank,a=t.data.data.max_score;console.log("head",n),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+a+" \u5206",n[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,o===n[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,o===n[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,o===n[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var c=t.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+c.message}}).catch(function(t){cc.log(t)})},turn:function(){void 0==o.type&&this.showadsfalse(),i.score=0,i.rebornTime=1,i.fruitRandomTime=3,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})},showadstrue:function(){try{yanqu.showAds(!0)}catch(t){cc.log(t)}},showadsfalse:function(){try{yanqu.showAds(!1)}catch(t){cc.log(t)}}}),cc._RF.pop()},{Common:"Common",net:"net"}],fruit:[function(t,e,n){"use strict";cc._RF.push(e,"56620Q+dS1C4ZiD5SqFjJUE","fruit"),cc.Class({extends:cc.Component,properties:{particle:{default:null,type:cc.ParticleSystem}},onLoad:function(){this.status_state=0,"boom"===this.node._name?this.icon=this.node:(this.icon=this.node.getChildByName("icon"),this.h1=this.node.getChildByName("h1"),this.h2=this.node.getChildByName("h2"),this.h1.active=!1,this.h2.active=!1),this.split_speed=200+100*Math.random()},split_fruit:function(){var t=this;this.particle.resetSystem(),this.h1.rotation=this.icon.rotation,this.h2.rotation=this.icon.rotation,this.icon.active=!1,this.h1.active=!0,this.h2.active=!0,this.status_state=1;var e=this.icon.rotation;e>360&&(e-=360*Math.floor(e/360));e=(e=360-e)*Math.PI/180;var n=-this.split_speed*Math.cos(e)*3,i=-this.split_speed*Math.sin(e)*3,o=-n,a=-i;this.node.getComponent("throw_action").stop_action(),"boom"===this.node._name?this.icon=this.node:(this.h1.getComponent("throw_action").start_action(n,i),this.h2.getComponent("throw_action").start_action(o,a)),this.scheduleOnce(function(){t.node.destroy()},2)},update:function(t){if(1===this.status_state){var e=this.h1.convertToWorldSpace(cc.v2(0,0)),n=this.h2.convertToWorldSpace(cc.v2(0,0));e.y<=-100&&n.y<=-100&&this.node.removeFromParent()}else this.node.y<-400&&(0==this.status_state&&cc.find("Canvas").getComponent("Game").lifeReduce(),this.node.removeFromParent())}}),cc._RF.pop()},{}],net:[function(t,e,n){"use strict";cc._RF.push(e,"62e73sDA6dOGolthqoGzpA1","net");var i=function(){var t=window.location.search,e=new Object;if(-1!=t.indexOf("?"))for(var n=t.substr(1),i=n.split("&"),o=0;o<i.length;o++)e[i[o].split("=")[0]]=i[o].split("=")[1];return e}();var o={token:i.token,room_id:i.room_id,AREA:i.AREA,env:i.env,type:i.type,version:i.version,helpuid:i.helpuid,teamid:i.teamid,apptype:i.apptype,singletoken:i.singletoken,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(t){var e=[];try{var n=window.yanqu.getSignString(t),i=JSON.parse(n).sign.sign,o=JSON.parse(n).header.VERSION;e.push(i),e.push(o)}catch(t){}return e}};e.exports=o,cc._RF.pop()},{}],rotation_forever:[function(t,e,n){"use strict";cc._RF.push(e,"9e743abMPBG9I1NLKWKcLDF","rotation_forever"),cc.Class({extends:cc.Component,properties:{rot_time:4},onLoad:function(){this.gameObject=cc.find("Canvas").getComponent("Game"),this.node.rotation=360*Math.random()},update:function(t){this.node.rotation+=1*this.gameObject.gameSpeedDown}}),cc._RF.pop()},{}],throw_action:[function(t,e,n){"use strict";cc._RF.push(e,"ec341hmkpBKeb4Ph7Julm9+","throw_action"),cc.Class({extends:cc.Component,properties:{play_onload:!1},onLoad:function(){this.g=-500,this.canvas=cc.find("Canvas"),this.gameObject=this.canvas.getComponent("Game"),this.slowDowning=this.gameObject.slowDowning,this.slowDowning&&(this.g/=4),"fruit"!=this.node.group&&(this.g=-2e3),this.action_started=!1},start_action:function(t,e){this.action_started=!0,this.moveX=t,this.moveY=e,this.slowDowning&&(this.moveX/=2,this.moveY/=2)},stop_action:function(){this.action_started=!1},slowDown:function(){this.slowDowning||(this.moveX/=2,this.moveY/=2)},update:function(t){if(!1!==this.action_started){var e=this.moveX*t,n=this.moveY*t;this.moveY+=this.g*t,e*=this.gameObject.gameSpeedDown,n*=this.gameObject.gameSpeedDown,this.node.x+=e,this.node.y+=n}}}),cc._RF.pop()},{}],transcend:[function(t,e,n){"use strict";cc._RF.push(e,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(t,e){var n=this;cc.log(t,e);var i="http://image.dialect-tv.com/"+t;cc.log("url: ",i),cc.loader.load(i,function(t,e){if(t)cc.log(t);else{n.texture=e;var i=new cc.SpriteFrame(e);n.img.spriteFrame=i}}),this.num.string="\u7b2c"+e+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Block","Rank","Start","chaoyue","transcend","endbg","net","Reborn","Arrow","Common","Game","Wall","fruit","rotation_forever","throw_action"]);