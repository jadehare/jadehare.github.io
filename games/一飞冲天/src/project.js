window.__require=function t(e,n,i){function c(a,s){if(!n[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){return c(e[a][1][t]||t)},h,h.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)c(i[a]);return c}({Block:[function(t,e,n){"use strict";cc._RF.push(e,"7678faPbyJLrph1RxP8mctM","Block");var i=t("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(t,e,n,c){var o=this;this.rankLabel.string=t,this.rankLabel.node.color="1"==t?new cc.Color(255,0,0,255):"2"==t?new cc.Color(255,102,0,255):"3"==t?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=n,this.score.string=c,""==e||(cc.log("load pic",i.url+"/"+e),cc.loader.load("http://image.dialect-tv.com/"+e,function(t,e){t&&console.error(t),o.userIcon.spriteFrame=new cc.SpriteFrame(e)}))}}),cc._RF.pop()},{Common:"Common"}],Bomb:[function(t,e,n){"use strict";cc._RF.push(e,"5b044+1eOxPiIwzJ0Bz7Zcy","Bomb");var i=t("Common");cc.Class({extends:cc.Component,properties:{boomAudio:{type:cc.AudioClip,default:null},canvas:{default:null,type:cc.Node},brick_father:{default:null,type:cc.Node},bombLabel:{default:null,type:cc.Label},Camera:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Node},boom:{default:null,type:cc.Node},player:{default:null,type:cc.Node},status:{default:null,type:cc.Node}},onLoad:function(){var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){66==e.keyCode&&t.boom_button()},this)},start:function(){this.boom.opacity=0,this.gameControl=this.canvas.getComponent("Game"),this.brickControl=this.canvas.getComponent("BrickControl"),this.bumbNum=2,this.bombLabel.string=this.bumbNum+" X"},boom_button:function(){if(this.bumbNum>0){this.shakeCamera(),cc.audioEngine.play(this.boomAudio,!1,2),this.boom.scale=.8,this.boom.opacity=255;var t=cc.sequence(cc.scaleTo(.2,1),cc.moveBy(.1,cc.v2(10,10)),cc.moveBy(.05,cc.v2(-10,-10)),cc.moveBy(.05,cc.v2(10,10)),cc.moveBy(.05,cc.v2(-10,-10)),cc.moveBy(.05,cc.v2(10,10)),cc.moveBy(.05,cc.v2(-10,-10)),cc.moveBy(.05,cc.v2(10,10)),cc.moveBy(.05,cc.v2(-10,-10)),cc.fadeOut(.2));this.boom.stopAllActions(),this.boom.runAction(t);for(var e=this.brick_father.children,n=this.brick_father.children.length,c=0;c<n;c++)if("particlesystem"==e[0].name);else if(e[0].y<this.Camera.y+800){var o=e[0].brickLife;i.score+=Number(o),this.brickControl.brickRecycle(e[0],1)}this.bombLabel.string=--this.bumbNum+" X"}this.scoreLabel.string=i.score},shakeCamera:function(){var t=cc.sequence(cc.moveBy(.1,cc.v2(10,10)),cc.moveBy(.05,cc.v2(-10,-10)),cc.moveBy(.05,cc.v2(10,10)),cc.moveBy(.05,cc.v2(-10,-10)),cc.moveBy(.05,cc.v2(10,10)),cc.moveBy(.05,cc.v2(-10,-10)),cc.moveBy(.05,cc.v2(10,10)),cc.moveBy(.05,cc.v2(-10,-10)));this.player.runAction(t)},bombUp:function(){this.bombLabel.string=++this.bumbNum+" X"},update:function(t){}}),cc._RF.pop()},{Common:"Common"}],BrickControl:[function(t,e,n){"use strict";cc._RF.push(e,"43552V31jJKv6hQ0WDjfp/O","BrickControl");t("Common");cc.Class({extends:cc.Component,properties:{brick_Prefab:{default:null,type:cc.Prefab},brick_sprites:{default:[],type:cc.Sprite},brick_father:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},Camera:{default:null,type:cc.Node},brickParticle:{default:null,type:cc.Prefab}},onLoad:function(){this.gameControl=this.canvas.getComponent("Game"),this.registControl=this.canvas.getComponent("Regist")},start:function(){this.currentIndex=0,this.brickPool=new cc.NodePool;for(var t=0;t<20;++t){var e=cc.instantiate(this.brick_Prefab);this.brickPool.put(e)}this.init()},init:function(){this.brickClock=4,this.brickInterval=1,this.brickLife=3,this.spawnBrickCount=1},_getBrick:function(t){var e=null;return(e=this.brickPool.size()>0?this.brickPool.get():cc.instantiate(this.brick_Prefab)).name=t.name,e.getComponent(cc.Sprite).spriteFrame=t.spriteFrame,e.stopAllActions(),e},_getBrickLife:function(t,e){var n,i;n=2*(i=this.brickLife*(1+this.registControl.rateParameter/10)*(1+this.registControl.powerCount/3)*(1+this.registControl.splitCount));var c=Math.ceil(i+Math.random()*n);t.brickLife=c*e,t.brickLife>=1e3?t.getChildByName("brickLabel").getComponent("cc.Label").string=Math.round(t.brickLife/100)/10+"k":t.getChildByName("brickLabel").getComponent("cc.Label").string=t.brickLife},_spawnDropBrick:function(){var t=Math.floor(3*Math.random()),e=this._getBrick(this.brick_sprites[t]);this._getBrickLife(e,5),this.brick_father.addChild(e),e.width=this.node.width/4,e.getComponent("cc.BoxCollider").size.width=e.width,e.setPosition(-this.node.width/2+e.width/2+e.width*Math.floor(4*Math.random()),this.Camera.y+this.Camera.height/2+e.height);var n=cc.sequence(cc.moveBy(1,cc.v2(0,800)),cc.moveBy(2.5,cc.v2(0,-2e3)));e.runAction(n)},_spawnLineBrick:function(){for(var t=Math.round(Math.random()+4),e=Math.floor(3*Math.random()),n=0;n<t;n++){var i=this._getBrick(this.brick_sprites[e]);this._getBrickLife(i,1),this.brick_father.addChild(i),i.width=this.node.width/t,i.getComponent("cc.BoxCollider").size.width=i.width,i.setPosition(-this.node.width/2+i.width/2+i.width*n,this.Camera.y+this.Camera.height/2+i.height)}},_spawMoveBrick:function(){var t=Math.floor(3*Math.random()),e=this._getBrick(this.brick_sprites[t]);this._getBrickLife(e,4);var n=this._getBrick(this.brick_sprites[t]);if(this._getBrickLife(n,4),e.width=this.node.width/4,n.width=this.node.width/4,e.getComponent("cc.BoxCollider").size.width=e.width,n.getComponent("cc.BoxCollider").size.width=e.width,Math.random()>.5){e.setPosition(this.getBrickPosition(0,e)),n.setPosition(this.getBrickPosition(3,e));var i=cc.sequence(cc.moveBy(.8,cc.v2(0,0)),cc.moveTo(1,cc.v2(this.getBrickPosition(1,e))));e.runAction(i);var c=cc.sequence(cc.moveBy(.8,cc.v2(0,0)),cc.moveTo(1,cc.v2(this.getBrickPosition(2,e))));n.runAction(c)}else{e.setPosition(this.getBrickPosition(1,e)),n.setPosition(this.getBrickPosition(2,e));var o=cc.sequence(cc.moveBy(.8,cc.v2(0,0)),cc.moveTo(1,cc.v2(this.getBrickPosition(0,e))));e.runAction(o);var a=cc.sequence(cc.moveBy(.8,cc.v2(0,0)),cc.moveTo(1,cc.v2(this.getBrickPosition(3,e))));n.runAction(a)}this.brick_father.addChild(e),this.brick_father.addChild(n)},_spawMazeBrick:function(){this.currentIndex+=2;for(var t=Math.floor(3*Math.random()),e=0;e<3;e++){var n=this._getBrick(this.brick_sprites[t]);this._getBrickLife(n,4),n.width=this.node.width/4,n.setPosition(this.getBrickPosition(e,n)),n.getComponent("cc.BoxCollider").size.width=n.width,this.brick_father.addChild(n)}t=Math.floor(3*Math.random());for(var i=0;i<3;i++){cc.log("mid brick");var c=this._getBrick(this.brick_sprites[t]);this._getBrickLife(c,4),c.width=this.node.width/4,c.getComponent("cc.BoxCollider").size.width=c.width,c.setPosition(this.getBrickPosition(i+1,c)),c.y+=600,this.brick_father.addChild(c)}t=Math.floor(3*Math.random());for(var o=0;o<3;o++){var a=this._getBrick(this.brick_sprites[t]);this._getBrickLife(a,4),a.width=this.node.width/4,a.getComponent("cc.BoxCollider").size.width=a.width,a.setPosition(this.getBrickPosition(o,a)),a.y+=1200,this.brick_father.addChild(a)}t=Math.floor(3*Math.random());for(var s=0;s<3;s++){cc.log("mid brick");var r=this._getBrick(this.brick_sprites[t]);this._getBrickLife(r,4),r.width=this.node.width/4,r.getComponent("cc.BoxCollider").size.width=r.width,r.setPosition(this.getBrickPosition(s+1,r)),r.y+=1800,this.brick_father.addChild(r)}},getBrickPosition:function(t,e){return cc.v2(-this.node.width/2+e.width/2+e.width*t,this.Camera.y+this.Camera.height/2+e.height)},_spawBrick:function(){this.gameControl.unPause&&(this.spawnBrickCount++,this.spawnBrickCount%3==0?4*Math.random()<3?this._spawMoveBrick():this._spawMazeBrick():this._spawnLineBrick(),this.spawnBrickCount>3&&3*Math.random()<1&&this._spawnDropBrick())},brickRecycle:function(t,e){if("particlesystem"!=t.name){if(1==e){var n=cc.instantiate(this.brickParticle);n.setPosition(t.position),this.brick_father.addChild(n)}this.brickPool.put(t)}},brickFire:function(){var t=Math.ceil(this.Camera.y/1e3);t>this.currentIndex&&(this.currentIndex=t,this._spawBrick())},update:function(t){this.brickFire(t)}}),cc._RF.pop()},{Common:"Common"}],Brick:[function(t,e,n){"use strict";cc._RF.push(e,"fa462a8Y4lLY4nSGd1QvWwO","Brick");var i=t("Common");cc.Class({extends:cc.Component,properties:{brickLabel:{default:null,type:cc.Label},collider:{default:null,type:cc.BoxCollider},brick_audio:{default:null,type:cc.AudioClip}},onLoad:function(){this.canvas=cc.find("Canvas"),this.gameControl=this.canvas.getComponent("Game"),this.brickControl=this.canvas.getComponent("BrickControl")},start:function(){this.collider.enabled=!0},onCollisionEnter:function(t,e){if("bullet"==t.node.group){this.gameControl.onbulletKilled(t.node);var n=this.node.brickLife;n>t.node.bulletPower?(i.score+=t.node.bulletPower,n-=t.node.bulletPower):(i.score+=Number(n),n=0),this.node.brickLife=n,this.brickLabel.string=n>1e3?Math.round(n/100)/10+"k":n,n<=0&&(cc.audioEngine.play(this.brick_audio,!1,1),this.brickControl.brickRecycle(this.node,1))}}}),cc._RF.pop()},{Common:"Common"}],Bullet:[function(t,e,n){"use strict";cc._RF.push(e,"3fd13yyUHBGF6x9cv2Hyl0E","Bullet");t("Common");cc.Class({extends:cc.Component,properties:{direction:""},onLoad:function(){this.gameControl=cc.find("Canvas").getComponent("Game"),this.speed=this.gameControl.bulletSpeed,this.bulletPower=1,this.xSpeed=0},_bulletMove:function(t){""===this.direction?this.node.y+=this.speed*t:"left"===this.direction?(this.node.y+=this.speed*t,this.node.x+=this.xSpeed*t):"right"===this.direction&&(this.node.y+=this.speed*t,this.node.x-=this.xSpeed*t)},start:function(){},update:function(t){this._bulletMove(t)}}),cc._RF.pop()},{Common:"Common"}],Camera:[function(t,e,n){"use strict";cc._RF.push(e,"b8006BDXl1C0ZXR5WhPUJ0y","Camera");var i=t("Common");cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label},canvas:{default:null,type:cc.Node},background:{default:null,type:cc.Node},bgArr:{default:[],type:cc.Node}},backgroundMove:function(){var t=-Math.floor((this.background.y-640)/1280),e=t%4;this.bgArr[e].y=1280*t},setInputControl:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(t.gameControl.unPause){var n=e;t.player.x+=n.touch._point.x-n.touch._prevPoint.x,t.player.x>t.node.width/2-40&&(t.player.x=t.node.width/2-40),t.player.x<-t.node.width/2+40&&(t.player.x=-t.node.width/2+40)}},this)},start:function(){this.gameControl=this.canvas.getComponent("Game"),this.setInputControl(),this.backgroundClock=.1,this.backgroundCount=0},update:function(t){this.scoreLabel.string=i.score,this.background.y-=100*t,this.backgroundCount+=t,this.backgroundCount>this.backgroundClock&&(this.backgroundMove(),this.backgroundCount=0)}}),cc._RF.pop()},{Common:"Common"}],Cloud:[function(t,e,n){"use strict";cc._RF.push(e,"9c5f39sFINHqK2cI9X+W2nC","Cloud"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.randomSpeed=Math.random()+1},start:function(){},update:function(t){this.node.y+=this.randomSpeed,this.node.y<-700&&this.node.destroy()}}),cc._RF.pop()},{}],Common:[function(t,e,n){"use strict";cc._RF.push(e,"2a025USzcpDTJ6Xg1cYLSiq","Common");e.exports={score:0,SceneType:0,reborn:{},rebornTime:1,GameId:48,url:"",rank:[]},cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"518c2d8x/lCh4MgYy1fkKIS","Game");t("Common");cc.Class({extends:cc.Component,properties:{propertyInterval:0,Camera:{default:null,type:cc.Node},player:{default:null,type:cc.Node},propertys:{default:null,type:cc.Node},cloud_Prefab:{default:[],type:cc.Prefab},bulletPrefab:{default:null,type:cc.Prefab},propertyPrefab:{default:null,type:cc.Prefab},property_sprite:{default:[],type:cc.Sprite},bombPropertyPrefab:{default:null,type:cc.Prefab},audio:{type:cc.AudioClip,default:null},bulletAudio:{type:cc.AudioClip,default:null},boom:{default:null,type:cc.Node},bullet_father:{default:null,type:cc.Node},brick_father:{default:null,type:cc.Node}},start:function(){cc.director.getCollisionManager().enabled=!0,this._init()},onLoad:function(){this.bulletPool=new cc.NodePool;for(var t=0;t<20;++t){var e=cc.instantiate(this.bulletPrefab);this.bulletPool.put(e)}this.propertyClock=0,this.unPause=!0,this.clock=0,this.cloudClock=0},_init:function(){this.moveSpeed=300,this.bulletSpeed=1e3,this.bulletWidth=1,this.bulletClock=0,this.bulletInterval=.25,this.splitCount=0,this.bulletPower=2,this.propertyCount=0,this.difficultControl()},difficultControl:function(){var t=this;this.unPause&&(this.moveSpeed+=2),this.scheduleOnce(function(){t.difficultControl()},1)},_getBullet:function(t,e){var n=null;return(n=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bulletPrefab)).setPosition(t),n.width=20*e,this.bullet_father.addChild(n),n},_setBulletObject:function(t,e,n,i){var c=t.getComponent("Bullet");c.xSpeed=n,c.direction=e,t.bulletPower=i},_spawnBullet:function(t,e,n){switch(cc.audioEngine.play(this.bulletAudio,!1,.5),t){case 0:this._setBulletObject(this._getBullet(e,this.bulletWidth),"",0,n);break;case 1:this._setBulletObject(this._getBullet(cc.v2(e.x-10,e.y),this.bulletWidth),"",0,n),this._setBulletObject(this._getBullet(cc.v2(e.x+10,e.y),this.bulletWidth),"",0,n);break;case 2:this._setBulletObject(this._getBullet(e,this.bulletWidth),"",0,n),this._setBulletObject(this._getBullet(e,this.bulletWidth),"left",150,n),this._setBulletObject(this._getBullet(e,this.bulletWidth),"right",150,n);break;case 3:this._setBulletObject(this._getBullet(cc.v2(e.x-10,e.y),this.bulletWidth),"",0,n),this._setBulletObject(this._getBullet(cc.v2(e.x+10,e.y),this.bulletWidth),"",0,n),this._setBulletObject(this._getBullet(cc.v2(e.x-30,e.y),this.bulletWidth),"",0,n),this._setBulletObject(this._getBullet(cc.v2(e.x+30,e.y),this.bulletWidth),"",0,n);break;case 4:this._setBulletObject(this._getBullet(e,this.bulletWidth),"",0,n),this._setBulletObject(this._getBullet(e,this.bulletWidth),"left",150,n),this._setBulletObject(this._getBullet(e,this.bulletWidth),"right",150,n),this._setBulletObject(this._getBullet(e,this.bulletWidth),"left",300,n),this._setBulletObject(this._getBullet(e,this.bulletWidth),"right",300,n)}},onbulletKilled:function(t){this.bulletPool.put(t)},_spawProperty:function(){this.propertyCount+=1;var t=cc.instantiate(this.propertyPrefab),e=null;if("bomb"===(e=this.propertyCount%6==0&&this.splitCount<4?this.node.getComponent("Regist").randomProperty("splitUp"):this.node.getComponent("Regist").randomProperty()))t=cc.instantiate(this.bombPropertyPrefab);else{var n=t.getChildByName("property").getComponent(cc.Sprite);"rateUp"==e?n.spriteFrame=this.property_sprite[0].spriteFrame:"splitUp"==e?n.spriteFrame=this.property_sprite[1].spriteFrame:"powerUp"==e?n.spriteFrame=this.property_sprite[2].spriteFrame:"reinforceUp"==e&&(n.spriteFrame=this.property_sprite[3].spriteFrame)}t.getComponent("Property").propertyType=e,this.propertys.addChild(t);var i=Math.random()*(this.node.width-t.width)-this.node.width/2;t.setPosition(i,this.Camera.y+this.Camera.height/2+t.height/2)},_spawnCloud:function(){var t=null;switch(Math.floor(6*Math.random())){case 0:t=cc.instantiate(this.cloud1Prefab);var e=140+440*Math.random();t.setPosition(e,1350);break;case 1:t=cc.instantiate(this.cloud2Prefab);var n=23+50*Math.random();t.setPosition(n,1350);break;case 2:t=cc.instantiate(this.cloud3Prefab);var i=120+480*Math.random();t.setPosition(i,1350);break;case 3:t=cc.instantiate(this.cloud4Prefab);var c=820-100*Math.random();t.setPosition(c,1380);break;case 4:t=cc.instantiate(this.cloud1Prefab);var o=140+440*Math.random();t.setPosition(o,1350);break;case 5:t=cc.instantiate(this.cloud3Prefab);var a=120+480*Math.random();t.setPosition(a,1350)}},moveControl:function(t){var e=this.moveSpeed*t;this.Camera.y+=e,this.brick_father.y-=e,this.propertys.y-=e},bulletFire:function(t){if(this.bulletClock=this.bulletClock+t,this.bulletClock>this.bulletInterval){var e=this.player.position;this._spawnBullet(this.splitCount,cc.v2(e.x,e.y+60),this.bulletPower),this.bulletClock=0}},propertyFire:function(t){this.propertyClock=this.propertyClock+t,this.propertyClock>this.propertyInterval&&(this._spawProperty(),this.propertyClock=0)},rebornGame:function(){for(var t=this.brick_father.children,e=0;e<t.length;e++)t[e].destroy();this.unPause=!0,this.boomObject=this.boom.getComponent("Bomb"),this.boomObject.bumbNum=1,this.boomObject.bombUp(),this.boom.active=!0,this.player.x=0},update:function(t){this.unPause&&(this.bulletFire(t),this.moveControl(t),this.propertyFire(t))}}),cc._RF.pop()},{Common:"Common"}],Plane:[function(t,e,n){"use strict";cc._RF.push(e,"3ca8eeg0O9HM7qF3HTB86OO","Plane"),cc.Class({extends:cc.Component,properties:{arm:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},gameOverAudio:{default:null,type:cc.AudioClip},propertyAudio:{default:null,type:cc.AudioClip},bombNode:{default:null,type:cc.Node}},onLoad:function(){},start:function(){this.gameObject=this.canvas.getComponent("Game"),this.bombControl=this.bombNode.getComponent("Bomb"),this.registControl=this.canvas.getComponent("Regist")},spawnArm:function(){},update:function(t){},onCollisionEnter:function(t,e){if("brick"==t.node.group)this.bombNode.active=!1,this.gameObject.unPause=!1,this.node.runAction(cc.blink(1,2)),cc.audioEngine.play(this.gameOverAudio,!1,1),cc.find("Canvas/reborn").getComponent("Reborn").showLabel();else if("property"==t.node.group){cc.audioEngine.play(this.propertyAudio,!1,.6);var n=t.node.getComponent("Property");"bomb"===n.propertyType?this.bombControl.bombUp():this.registControl.getProperty(n.propertyType),t.node.opacity=0,t.node.destroy()}}}),cc._RF.pop()},{}],Property:[function(t,e,n){"use strict";cc._RF.push(e,"dc451/QKUlKNq9zQKNevw4s","Property"),cc.Class({extends:cc.Component,properties:{speed:0,propertyType:""},onLoad:function(){},start:function(){},update:function(t){this.node.y=this.node.y-this.speed}}),cc._RF.pop()},{}],Rank:[function(t,e,n){"use strict";cc._RF.push(e,"a85ca6+unNLWaN7ujmWKgFm","Rank");var i=t("net"),c=t("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==c.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var t=this.statusArray.length;t>12&&(t=12);for(var e=0;e<t;++e){var n=this.statusArray[e],i=n.rank,c=n.avatar,o=n.nickname,a=n.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+e)),e%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(i,c,o,a),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+=1))},getStatus:function(t){var e=this,n=i.AREA,o=i.version,a=i.singletoken;cc.log(n,o);var s=c.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+t+"&token="+a)+"!qaz@wsx$"),l=c.url+"/game/single_rank_all?token="+a+"&game_id="+s+"&page="+t+"&sign="+r;cc.log(l),axios.post(l,{},{headers:{AREA:n,"CLIENT-VERSION":o}}).then(function(n){cc.log(n);for(var i=n.data.data.rank_list,c=0;c<i.length;c++)e.statusArray.push(i[c]);e.currentPage=t,e.statusControl(n.data.data.current),e.content.height+=i.length*e.itemHeight,i.length<20&&(e.rankDied=!0),e.loading.opacity=0},this).catch(function(t){cc.log(t)})},statusControl:function(t){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(t)):this.refreshRank()},initSelf:function(t){cc.log("self data:",t);var e=t.rank,n=t.avatar,i=t.nickname,c=t.score,o=this.spawnBlock();o.getComponent("Block").init(e,n,i,c),this.self.addChild(o)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(t,e){1==e&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var t=0;t<this.blockArr.length;t++){var e=this.blockArr[t],n=Math.abs(e.y),i=Math.round((n+60)/120)-1;if(i>this.statusArray.length-1||i<0)e.opacity=0;else{e.opacity=255;var c=this.statusArray[i],o=c.rank,a=c.avatar,s=c.nickname,r=c.score;e.getComponent("Block").init(o,a,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var t=0;t<this.blockArr.length;t++){if(this.content.y+this.blockArr[t].y>660){var e=this.blockArr[t];e.y-=1440;var n=Math.abs(e.y),i=Math.round((n+60)/120);if(i>this.statusArray.length||i<0){e.opacity=0;continue}e.opacity=255;var c=this.statusArray[i-1],o=c.rank,a=c.avatar,s=c.nickname,r=c.score;e.getComponent("Block").init(o,a,s,r)}if(this.content.y+this.blockArr[t].y<-660){var l=this.blockArr[t];l.y+=1440;var h=Math.abs(l.y),u=Math.round((h+60)/120);if(u>this.statusArray.length){l.opacity=0;continue}l.opacity=255;var d=this.statusArray[u-1],p=d.rank,g=d.avatar,b=d.nickname,m=d.score;l.getComponent("Block").init(p,g,b,m)}}},update:function(t){this.statusBeGet&&(this.undateCount+=t,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Reborn:[function(t,e,n){"use strict";cc._RF.push(e,"faf9bra/O1C6rUqHeQpUUcT","Reborn");var i=t("net"),c=t("Common");cc.game.watchend=function(){cc.game.emit("WATCH_TV_END")},cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Node},reborn_price:{default:null,type:cc.Node},background:{default:null,type:cc.Node},pay_success:{default:null,type:cc.Node},no_enough_money:{default:null,type:cc.Node},net_err:{default:null,type:cc.Node},canvas:{default:null,type:cc.Node},black:{default:null,type:cc.Node},panel:{default:null,type:cc.Node},videoButton:{default:null,type:cc.Node},rebornButton:{default:null,type:cc.Node},pray:{default:null,type:cc.Node},Camera:{default:null,type:cc.Node}},onLoad:function(){var t=this;void 0==i.type&&cc.game.on("WATCH_TV_END",function(){t.rebornSuccess()},this)},start:function(){this.net_err.active=!1,this.pray.active=!1,this.node.active=!1,this.no_enough_money.active=!1,this.pay_success.active=!1,this.background.active=!1,this.black.active=!1,this.gameObject=this.canvas.getComponent("Game")},showLabel:function(){if(this.node.x=this.Camera.x,this.node.y=this.Camera.y,this.unscheduleAllCallbacks(),void 0!=i.type)return this.goDie(),this.videoButton.active=!1,void(this.rebornButton.x=0);var t=c.reborn;cc.log("reborn:",t,i.room_id),void 0!=t?void 0!=i.room_id?1==t.revive?(this.score.getComponent("cc.Label").string=c.score+" \u5206",c.rebornTime<4&&0!=t.subsection[c.rebornTime]?(this.node.active=!0,this.panel.active=!0,this.background.active=!0,this.black.active=!0,this.reborn_price.getComponent("cc.Label").string="X "+t.subsection[c.rebornTime]):this.goDie()):this.goDie():this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1):this.goDie()},reborn:function(){var t=this;this.pray.active=!0;var e=c.reborn;if(parseInt(e.coin)<parseInt(e.subsection[c.rebornTime]))return this.no_enough_money.active=!0,this.no_enough_money.opacity=255,this.no_enough_money.stopAllActions(),this.no_enough_money.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5))),void(this.pray.active=!1);var n=void 0,o=1,a="num="+c.rebornTime+"&room_id="+i.room_id+"&token="+i.token;if(1==c.SceneType){var s=hex_md5("YanQu"+a+"!qaz@wsx$");o=1,n=c.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+c.rebornTime+"&sign="+s}else if(12==c.SceneType||15==c.SceneType||11==c.SceneType){var r=i.getSignString(a),l=r[0];o=r[1],n=c.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+c.rebornTime+"&sign="+l}else{if(20!=c.SceneType&&21!=c.SceneType&&22!=c.SceneType)return void this.goDie();var h=hex_md5("YanQu"+a+"!qaz@wsx$");o=i.version,n=c.url+"/live_game/revive_post?token="+i.token+"&room_id="+i.room_id+"&num="+c.rebornTime+"&sign="+h}cc.log("reborn url:",n);var u=this;axios.post(n,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":o}}).then(function(e){cc.log(e);var n=e.data.data;void 0!=n?(c.reborn.coin=n.coin,1==n.is_pay?t.rebornSuccess():(t.node.active=!0,t.background.active=!0)):t.goDie()}).catch(function(t){u.pray.active=!1,u.net_err.active=!0,u.net_err.opacity=255,u.net_err.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5)))})},rebornSuccess:function(){var t=this;cc.log("reborn success"),c.rebornTime+=1,this.panel.active=!1,this.pray.active=!1,this.pay_success.active=!0,this.pay_success.opacity=255,this.pay_success.runAction(cc.sequence(cc.fadeTo(.5,255),cc.fadeOut(.5))),this.scheduleOnce(function(){t.node.active=!1},1),this.canvas.getComponent("Game").rebornGame()},showvideoads:function(){try{yanqu.showVideoAds()}catch(t){alert("\u89c6\u9891\u590d\u6d3b\u4e0d\u53ef\u7528",t)}},goDie:function(){cc.find("Canvas/bg").getComponent("endbg").init(),this.node.active=!1},update:function(t){}}),cc._RF.pop()},{Common:"Common",net:"net"}],Recycle:[function(t,e,n){"use strict";cc._RF.push(e,"3704b6tLftPh7tskQVNSzVH","Recycle"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node}},start:function(){this.gameControl=this.canvas.getComponent("Game"),this.brickControl=this.canvas.getComponent("BrickControl")},onCollisionEnter:function(t,e){"brick"==t.node.group?"TopRecycle"==this.node.name||this.brickControl.brickRecycle(t.node):"property"==t.node.group?t.node.destroy():"bullet"==t.node.group&&this.gameControl.onbulletKilled(t.node)}}),cc._RF.pop()},{}],Regist:[function(t,e,n){"use strict";cc._RF.push(e,"b85adxbDjxLFbqR+mR4wsRZ","Regist"),cc.Class({extends:cc.Component,properties:{propertyDuration:5,status_power:{default:null,type:cc.Label},status_rate:{default:null,type:cc.Label},status_split:{default:null,type:cc.Label},status_reinforce:{default:null,type:cc.Label},reinforce:{default:[],type:cc.Node},player:{default:null,type:cc.Node}},start:function(){this.gameControl=this.node.getComponent("Game"),this.brickControl=this.node.getComponent("BrickControl"),this.bulletInterval=this.gameControl.bulletInterval,this.clock=0,this.reinforceOn=!1,this.reinforce[0].active=!1,this.reinforce[1].active=!1,this.init()},onLoad:function(){},getProperty:function(t){this[t]()},randomProperty:function(t){if("splitUp"==t)return"splitUp";var e=["rateUp","powerUp","reinforceUp","bomb"],n=e[Math.floor(e.length*Math.random())];return cc.log(n),n},init:function(){this.rateParameter=1,this.powerCount=2,this.splitCount=0,this.reinforceCount=1,this.r_bulletInterval=0,this.r_bulletClock=0,this.r_bulletPower=0,this.r_bulletWidth=1},splitUp:function(){this.splitCount+=1,this.gameControl.splitCount=this.splitCount,this.splitCount<2||(this.brickControl.brickLife+=4)},rateUp:function(){this.rateParameter+=1,this.status_rate.string="\u5c04\u901f\uff1a"+this.rateParameter,this.gameControl.bulletInterval=1/(this.rateParameter+1)/2+.01,this.brickControl.brickLife+=1},powerUp:function(){this.powerCount+=1,this.status_power.string="\u5a01\u529b\uff1a"+this.powerCount,this.gameControl.bulletWidth=-1/this.powerCount+2,this.gameControl.bulletPower=2*this.powerCount,this.brickControl.brickLife+=1},reinforceUp:function(){this.reinforceOn||(this.reinforceOn=!0,this.reinforce[0].active=!0,this.reinforce[1].active=!0),this.reinforceCount+=1,this.r_bulletInterval=1/(this.reinforceCount/2+1)/2+.01,this.r_bulletPower=2*this.reinforceCount,this.r_bulletWidth=-1/(this.reinforceCount/2)+2,this.status_reinforce.string="\u652f\u63f4\uff1a"+this.reinforceCount,this.brickControl.brickLife+=1},reinforceFire:function(t){if(this.reinforceOn&&(this.r_bulletClock+=t,this.r_bulletClock>this.r_bulletInterval)){var e=cc.v2(this.reinforce[0].position.x+this.player.x,this.player.y+10);this.gameControl._setBulletObject(this.gameControl._getBullet(e,this.r_bulletWidth),"",0,this.r_bulletPower);var n=cc.v2(this.reinforce[1].position.x+this.player.x,this.player.y+10);this.gameControl._setBulletObject(this.gameControl._getBullet(n,this.r_bulletWidth),"",0,this.r_bulletPower),this.r_bulletClock=0}},update:function(t){this.gameControl.unPause&&(this.clock+=t,this.reinforceFire(t))}}),cc._RF.pop()},{}],Reinforce:[function(t,e,n){"use strict";cc._RF.push(e,"70cd4mW70tORbNTMZ3s6yJa","Reinforce"),cc.Class({extends:cc.Component,properties:{reinforce:{default:[],type:cc.Node},plane:{default:null,type:cc.Node},arm:{default:null,type:cc.Node}},start:function(){this.plane.zIndex=5,this.reinforce[0].zIndex=this.plane.zIndex-2,this.reinforce[1].zIndex=this.plane.zIndex+2,this.rotationDistance=100,this.xSpeed=2.7,this.x=0},speedControl:function(t){this.x+=this.xSpeed*t,this.reinforce[0].x=this.rotationDistance*Math.cos(this.x),this.reinforce[1].x=-this.rotationDistance*Math.cos(this.x),this.reinforce[0].scale=.1*Math.cos(this.x+Math.PI/2)+1,this.reinforce[1].scale=.1*-Math.cos(this.x+Math.PI/2)+1,this.reinforce[1].x<-80?this.reinforce[1].zIndex<this.plane.zIndex&&(this.reinforce[1].zIndex=this.plane.zIndex+1,this.reinforce[0].zIndex=this.plane.zIndex-1):this.reinforce[1].x>80&&this.reinforce[1].zIndex>this.plane.zIndex&&(this.reinforce[1].zIndex=this.plane.zIndex-1,this.reinforce[0].zIndex=this.plane.zIndex+1)},update:function(t){this.speedControl(t)}}),cc._RF.pop()},{}],Start:[function(t,e,n){"use strict";cc._RF.push(e,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var i=t("Common"),c=t("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var t=this;void 0==c.type&&this.showadstrue(),this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){t.preload=!0,cc.log("preload success",t.preload,t.netload),t.netload&&(t.button.active=!0)})},showadstrue:function(){try{yanqu.showAds(!0)}catch(t){cc.log(t)}},showadsfalse:function(){try{yanqu.showAds(!1)}catch(t){cc.log(t)}},chooseEnv:function(){if(void 0==c.type)if(void 0==c.token)void 0!==c.singletoken&&(this.rankButton.active=!0,1==c.env?i.url=c.url.appoffline:2==c.env?i.url=c.url.apppre:i.url=c.url.apponline,i.SceneType=10);else{if(1==c.env){var t=void 0;try{t=window.yanqu.getBrowerID()}catch(t){}i.url=c.url.appoffline,i.SceneType="yqbrower"==t?12:1}else i.SceneType=11,2==c.env?i.url=c.url.apppre:i.url=c.url.apponline;5==c.apptype&&(i.SceneType=15)}else 1==c.env?i.url=c.url.wxoffline:2==c.env?i.url=c.url.wxpre:i.url=c.url.wxonline,void 0!==c.singletoken&&(this.rankButton.active=!0,i.SceneType=10),3==c.type?i.SceneType=20:4==c.type?i.SceneType=21:5==c.type&&(i.SceneType=22);cc.log("scenetype:",i.SceneType)},getInfo:function(){var t,e=this,n="room_id="+c.room_id+"&token="+c.token,o=c.version,a=void 0;if(1==i.SceneType)a=hex_md5("YanQu"+n+"!qaz@wsx$"),this.transcend(a,o);else if(12==i.SceneType||15==i.SceneType||11==i.SceneType){var s=c.getSignString(n);a=s[0],o=s[1],c._version=o,this.transcend(a,o)}else if(20==i.SceneType||21==i.SceneType||22==i.SceneType)a=hex_md5("YanQu"+n+"!qaz@wsx$"),this.transcend();else if(10==i.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));t=i.url+"/live_game/revive?token="+c.token+"&room_id="+c.room_id+"&sign="+a,axios.post(t,{},{headers:{AREA:c.AREA,"CLIENT-VERSION":o}}).then(function(t){cc.log("revive:",t);var n=t.data.data;i.reborn=n,e.netload=!0,e.preload&&(e.button.active=!0)}).catch(function(t){e.netload=!0,e.preload&&(e.button.active=!0),cc.log(t)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){void 0==c.type&&this.showadsfalse(),cc.director.loadScene("GameScene")},transcend:function(t,e){cc.log(t,e);var n,o=c.token,a=c.room_id,s=t;void 0==t&&(s=hex_md5("YanQu"+("room_id="+a+"&token="+o)+"!qaz@wsx$"));var r=c.AREA,l=e;void 0==e&&(l=c.version),n=i.url+"/live/section_rank_score?token="+o+"&room_id="+a+"&sign="+s,axios.post(n,{},{headers:{AREA:r,"CLIENT-VERSION":l}}).then(function(t){cc.log("\u8d85\u8d8a\uff1a",t),Object.keys(t.data.data.rank).forEach(function(e){i.rank.push(t.data.data.rank[e])})},this).catch(function(t){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){this.hideButtonCount++,this.hideButtonCount>3&&(alert(JSON.stringify(c)),this.hideButtonCount=0)},update:function(t){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],chaoyue:[function(t,e,n){"use strict";cc._RF.push(e,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var i=t("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",i.SceneType,i.rank),(11===i.SceneType||12===i.SceneType||20===i.SceneType||1==i.SceneType)&&0!=i.rank.length){this._ranking=i.rank.length,this.transcendFunc();var t=cc.instantiate(this.transcendPrefab);this.node.addChild(t),t.opacity=0,t.getComponent("transcend").init(i.rank[this._ranking-1].avatar,i.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",i.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var t=i.rank,e=this.scoreLabel.string,n=0;n<t.length;n++)if(Number(e)>Number(t[n].score)&&(cc.log(e,t[n].score,n),this._ranking>n)){var c=cc.instantiate(this.transcendPrefab);this.node.addChild(c),c.setPosition(cc.v2(0,0)),c.opacity=0,c.getComponent("transcend").init(i.rank[n].avatar,i.rank[n].rank);var o=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return c.runAction(o),this._ranking=n,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(t,e,n){"use strict";cc._RF.push(e,"b0123F/GzdDoYtgcFawA/yh","endbg");var i=t("Common"),c=t("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",c),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){void 0==c.type&&this.showadstrue(),this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===i.SceneType?(this.weixing.active=!0,this.putongRank()):11===i.SceneType||12===i.SceneType||1===i.SceneType?(this.hongbao.active=!0,this.hongBao()):20===i.SceneType?(this.weixing.active=!0,this.wechat()):21===i.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===i.SceneType||15===i.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+i.score)},start:function(){},putongRank:function(){var t=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=t;var e,n=c.singletoken,o=c.AREA,a="game_id="+i.GameId+"&score="+t+"&token="+n,s=hex_md5("YanQu"+a+"!qaz@wsx$"),r=c.version;e=i.url+"/game/single_push_data?token="+n+"&game_id="+i.GameId+"&score="+t+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(t){cc.log(t);var e=t.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){10==i.SceneType?cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="":cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank,c=t.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,c===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,c===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,c===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(t){cc.log(t)})},hongBao:function(){var t=i.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=t;var e,n=c.token,o=c.room_id,a=c.AREA,s="room_id="+o+"&score="+t+"&token="+n,r=void 0,l=void 0;try{var h=window.yanqu.getSignString(s);r=JSON.parse(h).sign.sign,l=JSON.parse(h).header.VERSION}catch(t){}1===i.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),e=i.url+"/live_game/push_data?token="+n+"&score="+t+"&room_id="+o+"&sign="+r,cc.log("url:",e),axios.post(e,{},{headers:{AREA:a,"CLIENT-VERSION":l}}).then(function(t){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",t);var e=t.data.code;if(400404==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank_list,i=t.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(t){cc.log(t)})},wechat:function(){var t=i.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=t;var e,n=c.token,o=c.room_id,a=c.AREA,s=hex_md5("YanQu"+("room_id="+o+"&score="+t+"&token="+n)+"!qaz@wsx$"),r=c.version;e=i.url+"/live_game/push_data?token="+n+"&score="+t+"&room_id="+o+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:a,"CLIENT-VERSION":r}}).then(function(t){cc.log(t);var e=t.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank_list,i=t.data.data.current_rank;cc.log("head",n),n[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,i===n[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,i===n[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,i===n[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(t){cc.log(t)})},wechathelp:function(){var t,e=c.token,n=c.room_id,o=c.AREA,a="help_score="+i.score+"&room_id="+n+"&token="+e+"&user_id="+c.helpuid,s=hex_md5("YanQu"+a+"!qaz@wsx$");t=i.url+"/live_game/push_data?token="+e+"&help_score="+i.score+"&room_id="+n+"&user_id="+c.helpuid+"&sign="+s;var r=c.version;cc.log(t,"PPPPP"),axios.post(t,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(t){cc.log(t);var e=t.data.code;if(400404==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank_list,c=t.data.data.current_rank,o=t.data.data.max_help_score;console.log("head",n),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+o+" \u5206",n[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,c===n[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,c===n[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,c===n[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var a=t.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+a.message}}).catch(function(t){cc.log(t)})},teamend:function(){cc.log("team");var t,e=c.token,n=c.room_id,o=c.AREA,a="room_id="+n+"&score="+i.score+"&token="+e,s=hex_md5("YanQu"+a+"!qaz@wsx$");t=i.url+"/live_game/push_data?token="+e+"&score="+i.score+"&room_id="+n+"&sign="+s;var r=c.version;cc.log(t,"PPPPP"),axios.post(t,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(t){cc.log(t);var e=t.data.code;if(400404==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var n=t.data.data.rank_list,c=t.data.data.current_rank,o=t.data.data.max_score;console.log("head",n),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=i.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+o+" \u5206",n[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=n[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=n[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=n[0].score,c===n[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),n[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=n[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=n[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=n[1].score,c===n[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),n[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=n[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=n[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=n[2].score,c===n[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var a=t.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+a.message}}).catch(function(t){cc.log(t)})},turn:function(){void 0==c.type&&this.showadsfalse(),i.score=0,i.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})},showadstrue:function(){try{yanqu.showAds(!0)}catch(t){cc.log(t)}},showadsfalse:function(){try{yanqu.showAds(!1)}catch(t){cc.log(t)}}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(t,e,n){"use strict";cc._RF.push(e,"62e73sDA6dOGolthqoGzpA1","net");var i=function(){var t=window.location.search,e=new Object;if(-1!=t.indexOf("?"))for(var n=t.substr(1),i=n.split("&"),c=0;c<i.length;c++)e[i[c].split("=")[0]]=i[c].split("=")[1];return e}(),c=i.token,o=i.room_id,a=i.AREA,s=i.env,r=i.type,l=i.version,h=i.helpuid,u=i.teamid,d=i.apptype,p=i.singletoken;var g={text:window.location,token:c,room_id:o,AREA:a,env:s,type:r,version:l,helpuid:h,teamid:u,apptype:d,singletoken:p,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(t){var e=[];try{var n=window.yanqu.getSignString(t),i=JSON.parse(n).sign.sign,c=JSON.parse(n).header.VERSION;e.push(i),e.push(c)}catch(t){}return e}};e.exports=g,cc._RF.pop()},{}],transcend:[function(t,e,n){"use strict";cc._RF.push(e,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(t,e){var n=this;cc.log(t,e);var i="http://image.dialect-tv.com/"+t;cc.log("url: ",i),cc.loader.load(i,function(t,e){if(t)cc.log(t);else{n.texture=e;var i=new cc.SpriteFrame(e);n.img.spriteFrame=i}}),this.num.string="\u7b2c"+e+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["chaoyue","transcend","endbg","net","Reborn","Bomb","Brick","BrickControl","Bullet","Camera","Cloud","Common","Game","Plane","Property","Recycle","Regist","Reinforce","Block","Rank","Start"]);