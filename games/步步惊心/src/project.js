window.__require=function n(e,t,a){function i(o,s){if(!t[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var g="function"==typeof __require&&__require;if(!s&&g)return g(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+o+"'")}}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(n){return i(e[o][1][n]||n)},l,l.exports,n,e,t,a)}return t[o].exports}for(var c="function"==typeof __require&&__require,o=0;o<a.length;o++)i(a[o]);return i}({Block:[function(n,e,t){"use strict";cc._RF.push(e,"7678faPbyJLrph1RxP8mctM","Block");var a=n("Common");cc.Class({extends:cc.Component,properties:{rankLabel:{default:null,type:cc.Label},userIcon:{default:null,type:cc.Sprite},userInfo:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},score:{default:null,type:cc.Label}},start:function(){},init:function(n,e,t,i){var c=this;this.rankLabel.string=n,this.rankLabel.node.color="1"==n?new cc.Color(255,0,0,255):"2"==n?new cc.Color(255,102,0,255):"3"==n?new cc.Color(255,204,0,255):new cc.Color(255,255,255,255),this.userName.string=t,this.score.string=i,""==e||(cc.log("load pic",a.url+"/"+e),cc.loader.load("http://image.dialect-tv.com/"+e,function(n,e){n&&console.error(n),c.userIcon.spriteFrame=new cc.SpriteFrame(e)}))}}),cc._RF.pop()},{Common:"Common"}],Camera:[function(n,e,t){"use strict";cc._RF.push(e,"df9a35VxC1C0aINyGfL3cHo","Camera");cc.Class({extends:cc.Component,properties:{gameNode:{default:null,type:cc.Node},ninjaNode:{default:null,type:cc.Node},spikeNode:{default:null,type:cc.Node},scoreNode:{default:null,type:cc.Node}},setInputControl:function(){var n=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){if(!n.gameEnded){n.gameControl.onBegin=!0;var e=n.ninjaControl.jump();e&&n.moveHeight(e)}})},start:function(){this.gameControl=this.gameNode.getComponent("Game"),this.ninjaControl=this.ninjaNode.getComponent("Ninja"),this.sawCount=-1,this.sawInterval=620,this.sawRandomInterval=100,this.gameEnded=!1,this.bgArr=-1,this.setInputControl(),this.sawControl()},moveHeight:function(n){var e=this,t=Math.floor((n+300)/668);t>this.bgArr&&(this.gameControl.spawnBackground(t+1),this.bgArr+=1),this.spikeNode.stopAllActions(),this.spikeMoveToOriginal();var a=cc.moveTo(.2,cc.v2(0,n+300)).easing(cc.easeIn(1.5)),i=cc.sequence(a,cc.callFunc(function(){e.spikeMoveUp(),e.sawControl()}));this.node.runAction(i)},spikeMoveUp:function(){this.spikeNode.y=this.node.y-700;var n=cc.moveBy(20,cc.v2(0,640));this.spikeNode.runAction(n)},spikeMoveToOriginal:function(){var n=cc.moveTo(.2,cc.v2(0,this.node.y-640));this.spikeNode.runAction(n)},sawControl:function(){for(var n=Math.floor(this.node.y/this.sawInterval);this.sawCount-n<5;){var e=this.sawCount*this.sawInterval+2*(Math.random()-1)*this.sawRandomInterval;this.sawCount%2==1?this.gameControl.spawnSaw("left",e):this.gameControl.spawnSaw("right",e),this.sawCount++}},gameEnd:function(){this.gameEnded=!0,this.spikeNode.stopAllActions(),this.node.stopAllActions()},update:function(n){}}),cc._RF.pop()},{}],Common:[function(n,e,t){"use strict";cc._RF.push(e,"2f8e8sKenVITJS9U8OKUEd8","Common");e.exports={score:0,SceneType:0,reborn:{},rebornTime:1,GameId:35,url:"",rank:[]},cc._RF.pop()},{}],Game:[function(n,e,t){"use strict";cc._RF.push(e,"f4a5c/HZ/RAWIrjAinwoMUN","Game");cc.Class({extends:cc.Component,properties:{ninjaNode:{default:null,type:cc.Node},Camera:{default:null,type:cc.Node},background_father:{default:null,type:cc.Node},spikes:{default:null,type:cc.Node},background_prefab:{default:null,type:cc.Prefab},sides_prefab:{default:null,type:cc.Prefab},saw_prefab:{default:null,type:cc.Prefab}},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){this.backgroundPool=new cc.NodePool;for(var n=0;n<3;++n){var e=cc.instantiate(this.background_prefab);this.backgroundPool.put(e)}this.sawPool=new cc.NodePool;for(var t=0;t<4;++t){var a=cc.instantiate(this.saw_prefab);this.sawPool.put(a)}this.sidesPool=new cc.NodePool;for(var i=0;i<4;++i){var c=cc.instantiate(this.sides_prefab);this.sidesPool.put(c)}this.sawRight=!0,this.onBegin=!1,this.ninjaControl=this.ninjaNode.getComponent("Ninja"),this.init()},init:function(){this.spikes.zIndex=10,this.spawnBackground(0)},spawnBackground:function(n){var e=null;(e=this.backgroundPool.size()>0?this.backgroundPool.get():cc.instantiate(this.background_prefab)).zIndex=7,e.setPosition(0,n*e.height),this.spawnSides(n),this.background_father.addChild(e)},spawnSides:function(n){var e=null;(e=this.sidesPool.size()>0?this.sidesPool.get():cc.instantiate(this.sides_prefab)).zIndex=9,e.setPosition(0,n*e.height),this.background_father.addChild(e)},spawnSaw:function(n,e){var t=null;t=this.sawPool.size()>0?this.sawPool.get():cc.instantiate(this.saw_prefab);var a=1;"right"==n||(a=-1),t.zIndex=8,t.setPosition((this.node.width/2-70)*a,e),this.background_father.addChild(t)},recycle:function(n){"background"==n.name?this.backgroundPool.put(n):"disk"==n.name?this.sawPool.put(n):"sides"==n.name&&this.sidesPool.put(n)},update:function(n){}}),cc._RF.pop()},{}],Ninja:[function(n,e,t){"use strict";cc._RF.push(e,"49387mmuqREVr/QvXy0ynLI","Ninja");var a=n("Common");cc.Class({extends:cc.Component,properties:{Camera:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label},jump_audio:{default:null,url:cc.AudioClip},saw_audio:{default:null,url:cc.AudioClip},ahh_audio:{default:null,url:cc.AudioClip}},onLoad:function(){},start:function(){this.gameEnd=!1,this.CameraControl=this.Camera.getComponent("Camera"),this.animation=this.node.getChildByName("ninja").getComponent("cc.Animation"),this.jumping=!1,this.jumpCount=0},onCollisionEnter:function(n,e){cc.log("die"),cc.audioEngine.play(this.saw_audio,!1,1),cc.audioEngine.play(this.ahh_audio,!1,1),this.gameEnd=!0,this.CameraControl.gameEnd(),this.animation.play("ninja_die"),this.scheduleOnce(function(){cc.find("Canvas/bg").getComponent("endbg").init()},1)},jump:function(){var n=this;if(this.jumping)return!1;var e=1;cc.audioEngine.play(this.jump_audio,!1,1),0==this.jumpCount?this.animation.play("ninja_firstJump"):this.jumpCount%2==1?(e=-1,this.node.scaleX=1,this.animation.play("ninja_flip")):(e=1,this.node.scaleX=-1,this.animation.play("ninja_flip")),this.jumping=!0;var t=300,a=this.node.y+t;0==this.node.x&&(t/=2,a=this.node.y+200),cc.log(this.Camera.width);var i=cc.sequence(cc.jumpTo(.2,cc.v2((this.Camera.width/2-110)*e,this.node.y+t),40,1),cc.callFunc(function(){n.jumping=!1}));return this.node.runAction(i),this.jumpCount++,a},scoreControl:function(){var n=Math.floor((this.node.y+640)/10);n>a.score&&(a.score=n,this.scoreLabel.string=a.score)},update:function(n){this.gameEnd||0!=this.node.x&&(this.jumping||(this.node.y-=50*n),this.scoreControl())}}),cc._RF.pop()},{Common:"Common"}],Rank:[function(n,e,t){"use strict";cc._RF.push(e,"a85ca6+unNLWaN7ujmWKgFm","Rank");var a=n("net"),i=n("Common");cc.Class({extends:cc.Component,properties:{block_pre:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node},self:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},itemHeight:120},start:function(){10==i.SceneType?(this.loading.opacity=0,this.undateCount=0,this.updateDutation=.2,this.content.height=0,this.directionDown=!0,this.lastContentY=0,this.currentPage=1,this.showIndex=2,this.showLineNum=12,this.statusArray=[],this.blockArr=[],this.getStatus(this.currentPage),this.statusBeGet=!1,this.rankDied=!1,this.node.active=!1):this.node.destroy()},init:function(){this.lastContentY=this.content.y;var n=this.statusArray.length;n>12&&(n=12);for(var e=0;e<n;++e){var t=this.statusArray[e],a=t.rank,i=t.avatar,c=t.nickname,o=t.score,s=this.spawnBlock();this.content.addChild(s),s.setPosition(0,-this.itemHeight*(.5+e)),e%2==0&&(s.getChildByName("bg").opacity=0),s.getComponent("Block").init(a,i,c,o),this.blockArr.push(s)}},addRank:function(){this.rankDied||(cc.log("add rank"),this.getStatus(this.currentPage+1))},getStatus:function(n){var e=this,t=a.AREA,c=a.version,o=a.singletoken;cc.log(t,c);var s=i.GameId,r=hex_md5("YanQu"+("game_id="+s+"&page="+n+"&token="+o)+"!qaz@wsx$"),g=i.url+"/game/single_rank_all?token="+o+"&game_id="+s+"&page="+n+"&sign="+r;cc.log(g),axios.post(g,{},{headers:{AREA:t,"CLIENT-VERSION":c}}).then(function(t){cc.log(t);for(var a=t.data.data.rank_list,i=0;i<a.length;i++)e.statusArray.push(a[i]);e.currentPage=n,e.statusControl(t.data.data.current),e.content.height+=a.length*e.itemHeight,a.length<20&&(e.rankDied=!0),e.loading.opacity=0},this).catch(function(n){cc.log(n)})},statusControl:function(n){this.statusBeGet=!0,1==this.currentPage?(this.init(),this.initSelf(n)):this.refreshRank()},initSelf:function(n){cc.log("self data:",n);var e=n.rank,t=n.avatar,a=n.nickname,i=n.score,c=this.spawnBlock();c.getComponent("Block").init(e,t,a,i),this.self.addChild(c)},spawnBlock:function(){return cc.instantiate(this.block_pre)},scrollEvent:function(n,e){1==e&&(cc.log("scroll bottom"),this.refreshRank())},refreshRank:function(){for(var n=0;n<this.blockArr.length;n++){var e=this.blockArr[n],t=Math.abs(e.y),a=Math.round((t+60)/120)-1;if(a>this.statusArray.length-1||a<0)e.opacity=0;else{e.opacity=255;var i=this.statusArray[a],c=i.rank,o=i.avatar,s=i.nickname,r=i.score;e.getComponent("Block").init(c,o,s,r)}}},getCurrentLine:function(){Math.ceil((this.content.y+60)/900)>this.currentPage&&this.addRank();for(var n=0;n<this.blockArr.length;n++){if(this.content.y+this.blockArr[n].y>660){var e=this.blockArr[n];e.y-=1440;var t=Math.abs(e.y),a=Math.round((t+60)/120);if(a>this.statusArray.length||a<0){e.opacity=0;continue}e.opacity=255;var i=this.statusArray[a-1],c=i.rank,o=i.avatar,s=i.nickname,r=i.score;e.getComponent("Block").init(c,o,s,r)}if(this.content.y+this.blockArr[n].y<-660){var g=this.blockArr[n];g.y+=1440;var l=Math.abs(g.y),h=Math.round((l+60)/120);if(h>this.statusArray.length){g.opacity=0;continue}g.opacity=255;var p=this.statusArray[h-1],d=p.rank,u=p.avatar,b=p.nickname,m=p.score;g.getComponent("Block").init(d,u,b,m)}}},update:function(n){this.statusBeGet&&(this.undateCount+=n,this.undateCount<this.updateDutation||(this.undateCount=0,this.getCurrentLine()))}}),cc._RF.pop()},{Common:"Common",net:"net"}],Recycle:[function(n,e,t){"use strict";cc._RF.push(e,"7a5ae6nbFNMQqwnbf2F3u9y","Recycle"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){this.gameControl=cc.find("Canvas").getComponent("Game"),this.Camera=cc.find("Canvas/Main Camera"),this.recycleLength=this.node.height+640},update:function(n){this.Camera.y-this.node.y>this.recycleLength&&this.gameControl.recycle(this.node)}}),cc._RF.pop()},{}],Saw:[function(n,e,t){"use strict";cc._RF.push(e,"00ee4cw2jdG6LJIgFTwjUbp","Saw"),cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(n){this.node.rotation-=100*n}}),cc._RF.pop()},{}],Start:[function(n,e,t){"use strict";cc._RF.push(e,"afd9fxLy0dBZYJ9d6AAhfwt","Start");var a=n("Common"),i=n("net");cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},rankButton:{default:null,type:cc.Node},illustrate:{default:null,type:cc.Node},loading:{default:null,type:cc.Node},rank:{default:null,type:cc.Node}},onLoad:function(){},start:function(){var n=this;this.rankButton.active=!1,this.button.active=!1,this.illustrate.active=!1,this.netload=!1,this.preload=!1,this.chooseEnv(),this.getInfo(),cc.director.preloadScene("GameScene",function(){n.preload=!0,cc.log("preload success",n.preload,n.netload),n.netload&&(n.button.active=!0)})},chooseEnv:function(){if(void 0==i.type)if(void 0==i.token)void 0!==i.singletoken&&(this.rankButton.active=!0,1==i.env?a.url=i.url.appoffline:2==i.env?a.url=i.url.apppre:a.url=i.url.apponline,a.SceneType=10);else{if(1==i.env){var n=void 0;try{n=window.yanqu.getBrowerID()}catch(n){}a.url=i.url.appoffline,a.SceneType="yqbrower"==n?12:1}else a.SceneType=11,2==i.env?a.url=i.url.apppre:a.url=i.url.apponline;5==i.apptype&&(a.SceneType=15)}else 1==i.env?a.url=i.url.wxoffline:2==i.env?a.url=i.url.wxpre:a.url=i.url.wxonline,void 0!==i.singletoken&&(this.rankButton.active=!0,a.SceneType=10),3==i.type?a.SceneType=20:4==i.type?a.SceneType=21:5==i.type&&(a.SceneType=22);cc.log("scenetype:",a.SceneType)},getInfo:function(){var n,e=this,t="room_id="+i.room_id+"&token="+i.token,c=i.version,o=void 0;if(1==a.SceneType)o=hex_md5("YanQu"+t+"!qaz@wsx$"),c=1,i.AREA=1,this.transcend(o,c);else if(12==a.SceneType||15==a.SceneType||11==a.SceneType){var s=i.getSignString(t);o=s[0],c=s[1],i._version=c,this.transcend(o,c)}else if(20==a.SceneType||21==a.SceneType||22==a.SceneType)this.transcend();else if(10==a.SceneType)return this.netload=!0,void(this.preload&&(this.button.active=!0));n=a.url+"/live_game/revive?token="+i.token+"&room_id="+i.room_id+"&sign="+o,axios.post(n,{},{headers:{AREA:i.AREA,"CLIENT-VERSION":c}}).then(function(n){cc.log("start respose:",n);var t=n.data.data;a.reborn=t,e.netload=!0,e.preload&&(e.button.active=!0)}).catch(function(n){e.button.active=!0,cc.log(n)})},showIllustrate:function(){this.illustrate.active=!0},hideIllustrate:function(){this.illustrate.active=!1},loadScene:function(){cc.director.loadScene("GameScene")},transcend:function(n,e){cc.log(n,e);var t,c=i.token,o=i.room_id,s=n;void 0==n&&(s=hex_md5("YanQu"+("room_id="+o+"&token="+c)+"!qaz@wsx$"));var r=i.AREA,g=e;void 0==e&&(g=i.version),t=a.url+"/live/section_rank_score?token="+c+"&room_id="+o+"&sign="+s,axios.post(t,{},{headers:{AREA:r,"CLIENT-VERSION":g}}).then(function(n){cc.log("rank:",n),Object.keys(n.data.data.rank).forEach(function(e){a.rank.push(n.data.data.rank[e])}),cc.log(a.rank)},this).catch(function(n){})},showRank:function(){this.rank.active=!0},hideRank:function(){this.rank.active=!1},hideButton:function(){alert(JSON.stringify(i))},update:function(n){this.loading.rotation+=2}}),cc._RF.pop()},{Common:"Common",net:"net"}],chaoyue:[function(n,e,t){"use strict";cc._RF.push(e,"dac14T8vEdKfIF9sWiJLknA","chaoyue");var a=n("Common");cc.Class({extends:cc.Component,properties:{transcendPrefab:cc.Prefab,scoreLabel:{default:null,type:cc.Label}},onLoad:function(){if(cc.log("chao yue scenetype ",a.SceneType,a.rank),(11===a.SceneType||12===a.SceneType||20===a.SceneType||1==a.SceneType)&&0!=a.rank.length){this._ranking=a.rank.length,this.transcendFunc();var n=cc.instantiate(this.transcendPrefab);this.node.addChild(n),n.opacity=0,n.getComponent("transcend").init(a.rank[this._ranking-1].avatar,a.rank[this._ranking-1].rank)}},start:function(){},transcendFunc:function(){cc.log("\u6570\u636e",a.rank),this.schedule(this.detectionScore,3)},detectionScore:function(){for(var n=a.rank,e=this.scoreLabel.string,t=0;t<n.length;t++)if(Number(e)>Number(n[t].score)&&(cc.log(e,n[t].score,t),this._ranking>t)){var i=cc.instantiate(this.transcendPrefab);this.node.addChild(i),i.setPosition(cc.v2(0,0)),i.opacity=0,i.getComponent("transcend").init(a.rank[t].avatar,a.rank[t].rank);var c=cc.sequence(cc.fadeTo(.5,0),cc.fadeTo(0,255),cc.fadeTo(1,255),cc.spawn(cc.moveBy(1,cc.v2(0,80)),cc.fadeTo(1,0)));return i.runAction(c),this._ranking=t,void(0==this._ranking&&this.unscheduleAllCallbacks())}}}),cc._RF.pop()},{Common:"Common"}],endbg:[function(n,e,t){"use strict";cc._RF.push(e,"b0123F/GzdDoYtgcFawA/yh","endbg");var a=n("Common"),i=n("net");cc.Class({extends:cc.Component,properties:{Camera:cc.Node,hongbao:cc.Node,putong:cc.Node,weixing:cc.Node,weixinhelp:cc.Node,team:cc.Node,score:cc.Label},onLoad:function(){cc.log("net",i),this.weixinhelp.active=!1,this.node.active=!1,this.putong.active=!1,this.hongbao.active=!1,this.weixing.active=!1,this.team.active=!1},init:function(){this.node.zIndex=2,this.node.active=!0,this.node.x=this.Camera.x,this.node.y=this.Camera.y,10===a.SceneType?(this.weixing.active=!0,this.putongRank()):11===a.SceneType||12===a.SceneType||1===a.SceneType?(this.hongbao.active=!0,this.hongBao()):20===a.SceneType?(this.weixing.active=!0,this.wechat()):21===a.SceneType?(this.weixinhelp.active=!0,this.wechathelp()):22===a.SceneType||15===a.SceneType?(this.team.active=!0,this.teamend()):(this.putong.active=!0,this.score.string="\u672c\u6b21\u5f97\u5206\uff1a"+a.score)},start:function(){},putongRank:function(){var n=a.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,t=i.singletoken,c=i.AREA,o="game_id="+a.GameId+"&score="+n+"&token="+t,s=hex_md5("YanQu"+o+"!qaz@wsx$"),r=i.version;e=a.url+"/game/single_push_data?token="+t+"&game_id="+a.GameId+"&score="+n+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},hongBao:function(){var n=a.score;cc.find("Canvas/bg/hongbao/score").getComponent("cc.Label").string=n;var e,t=i.token,c=i.room_id,o=i.AREA,s="room_id="+c+"&score="+n+"&token="+t,r=void 0,g=void 0;try{var l=window.yanqu.getSignString(s);r=JSON.parse(l).sign.sign,g=JSON.parse(l).header.VERSION}catch(n){}1===a.SceneType&&(r=hex_md5("YanQu"+s+"!qaz@wsx$")),e=a.url+"/live_game/push_data?token="+t+"&score="+n+"&room_id="+c+"&sign="+r,axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":g}}).then(function(n){cc.log("\u8fd4\u56de\u4fe1\u606f\uff1a",n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/hongbao/lishi").getComponent(cc.Label).string="";var t=n.data.data.rank_list,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/hongbao/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/hongbao/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/hongbao/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechat:function(){var n=a.score;cc.find("Canvas/bg/weixin/score").getComponent("cc.Label").string=n;var e,t=i.token,c=i.room_id,o=i.AREA,s=hex_md5("YanQu"+("room_id="+c+"&score="+n+"&token="+t)+"!qaz@wsx$"),r=i.version;e=a.url+"/live_game/push_data?token="+t+"&score="+n+"&room_id="+c+"&sign="+s,cc.log(e),axios.post(e,{},{headers:{AREA:o,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(cc.log("code:",e),400404==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/weixin/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,a=n.data.data.current_rank;cc.log("head",t),t[0]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,a===t[0].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,a===t[1].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,a===t[2].rank_num&&(cc.find("Canvas/bg/weixin/bg_paihangbang/3/phbbbzz").active=!0))}}).catch(function(n){cc.log(n)})},wechathelp:function(){var n,e=i.token,t=i.room_id,c=i.AREA,o="help_score="+a.score+"&room_id="+t+"&token="+e+"&user_id="+i.helpuid,s=hex_md5("YanQu"+o+"!qaz@wsx$");n=a.url+"/live_game/push_data?token="+e+"&help_score="+a.score+"&room_id="+t+"&user_id="+i.helpuid+"&sign="+s;var r=i.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string="";var t=n.data.data.rank_list,i=n.data.data.current_rank,c=n.data.data.max_help_score;console.log("head",t),cc.find("Canvas/bg/help_weixin/score").getComponent(cc.Label).string=a.score,cc.find("Canvas/bg/help_weixin/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u52a9\u529b\u6210\u7ee9 "+c+" \u5206",t[0]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/help_weixin/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/help_weixin/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},teamend:function(){cc.log("team");var n,e=i.token,t=i.room_id,c=i.AREA,o="room_id="+t+"&score="+a.score+"&token="+e,s=hex_md5("YanQu"+o+"!qaz@wsx$");n=a.url+"/live_game/push_data?token="+e+"&score="+a.score+"&room_id="+t+"&sign="+s;var r=i.version;cc.log(n,"PPPPP"),axios.post(n,{},{headers:{AREA:c,"CLIENT-VERSION":r}}).then(function(n){cc.log(n);var e=n.data.code;if(400404==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u65e0\u8be5\u6d3b\u52a8\u4fe1\u606f\uff0c\u8bf7\u91cd\u8bd5~";else if(400502==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6d3b\u52a8\u623f\u95f4\u7c7b\u578b\u9519\u8bef";else if(400507==e)cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6e38\u620f\u65f6\u95f4\u5df2\u7ed3\u675f\uff0c\u4e0d\u80fd\u53c2\u4e0e\u6e38\u620f";else if(200==e){cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string="\u6392\u540d\u8d8a\u9ad8\uff0c\u5956\u91d1\u8d8a\u591a";var t=n.data.data.rank_list,i=n.data.data.current_rank,c=n.data.data.max_score;console.log("head",t),cc.find("Canvas/bg/team/score").getComponent(cc.Label).string=a.score,cc.find("Canvas/bg/team/help_score").getComponent(cc.Label).string="\u6700\u9ad8\u4e2a\u4eba\u6210\u7ee9 "+c+" \u5206",t[0]&&(cc.find("Canvas/bg/team/bg_paihangbang/1/1").getComponent(cc.Label).string=t[0].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/1/name").getComponent(cc.Label).string=t[0].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/1/score").getComponent(cc.Label).string=t[0].score,i===t[0].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/1/phbbbzz").active=!0)),t[1]&&(cc.find("Canvas/bg/team/bg_paihangbang/2/2").getComponent(cc.Label).string=t[1].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/2/name").getComponent(cc.Label).string=t[1].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/2/score").getComponent(cc.Label).string=t[1].score,i===t[1].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/2/phbbbzz").active=!0)),t[2]&&(cc.find("Canvas/bg/team/bg_paihangbang/3/3").getComponent(cc.Label).string=t[2].rank_num,cc.find("Canvas/bg/team/bg_paihangbang/3/name").getComponent(cc.Label).string=t[2].nickname.substr(0,5),cc.find("Canvas/bg/team/bg_paihangbang/3/score").getComponent(cc.Label).string=t[2].score,i===t[2].rank_num&&(cc.find("Canvas/bg/team/bg_paihangbang/3/phbbbzz").active=!0))}else if(400801==e){var o=n.data;cc.find("Canvas/bg/team/lishi").getComponent(cc.Label).string=""+o.message}}).catch(function(n){cc.log(n)})},turn:function(){a.score=0,a.rebornTime=1,cc.director.loadScene("GameScene")},moregames:function(){wx.miniProgram.navigateTo({url:"/pages/empty/empty"})}}),cc._RF.pop()},{Common:"Common",net:"net"}],net:[function(n,e,t){"use strict";cc._RF.push(e,"62e73sDA6dOGolthqoGzpA1","net");var a=function(){var n=window.location.search,e=new Object;if(-1!=n.indexOf("?"))for(var t=n.substr(1),a=t.split("&"),i=0;i<a.length;i++)e[a[i].split("=")[0]]=a[i].split("=")[1];return e}(),i=a.token,c=a.room_id,o=a.AREA,s=a.env,r=a.type,g=a.version,l=a.helpuid,h=a.teamid,p=a.apptype,d=a.singletoken;var u={text:window.location,token:i,room_id:c,AREA:o,env:s,type:r,version:g,helpuid:l,teamid:h,apptype:p,singletoken:d,url:{wxoffline:"http://applet.dialect-tv.test",wxpre:"https://yfbapplet.dialect-tv.com",wxonline:"https://applet.dialect-tv.com",appoffline:"http://api.dialect-tv.test",apppre:"http://pre.api.dialect-tv.com",apponline:"http://api.dialect-tv.com"},getSignString:function(n){var e=[];try{var t=window.yanqu.getSignString(n),a=JSON.parse(t).sign.sign,i=JSON.parse(t).header.VERSION;e.push(a),e.push(i)}catch(n){}return e}};e.exports=u,cc._RF.pop()},{}],transcend:[function(n,e,t){"use strict";cc._RF.push(e,"1733epIf0tDcJUub+NHiTbT","transcend"),cc.Class({extends:cc.Component,properties:{num:cc.Label,img:cc.Sprite},start:function(){this.texture=null},init:function(n,e){var t=this;cc.log(n,e);var a="http://image.dialect-tv.com/"+n;cc.log("url: ",a),cc.loader.load(a,function(n,e){if(n)cc.log(n);else{t.texture=e;var a=new cc.SpriteFrame(e);t.img.spriteFrame=a}}),this.num.string="\u7b2c"+e+"\u540d",this.scheduleOnce(function(){this.onStop()},2)},onStop:function(){cc.loader.release(this.texture),this.texture=null,this.node.destroy()}}),cc._RF.pop()},{}]},{},["Block","Rank","Start","chaoyue","transcend","endbg","net","Camera","Common","Game","Ninja","Recycle","Saw"]);